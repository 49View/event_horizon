static std::unordered_map<std::string, std::string> gShaderInjection{
{ "animation_uniforms", "CmxheW91dCggc3RkMTQwICkgdW5pZm9ybSBBbmltYXRpb25Vbmlmb3Jtc3sKICAgIHZlYzQgdV9kZWx0YUFuaW1UaW1lOwp9OwogICAg"},
{ "camera_uniforms", "CmxheW91dCggc3RkMTQwICkgdW5pZm9ybSBDYW1lcmFVbmlmb3Jtc3sKICAgIG1hdDQgdV9tdnBNYXRyaXg7CiAgICBtYXQ0IHVfdmlld01hdHJpeDsKICAgIG1hdDQgdV9wcm9qTWF0cml4OwogICAgbWF0NCB1X3NjcmVlblNwYWNlTWF0cml4OwogICAgdmVjMyB1X2V5ZVBvczsgICAgICAgICAgICAKfTsKICAgIA"},
{ "equirectangular.fsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCmluIHZlYzMgdl90ZXhDb29yZDsKb3V0IHZlYzQgY29sb3I7Cgp1bmlmb3JtIHNhbXBsZXIyRCBjb2xvclRleHR1cmU7Cgpjb25zdCB2ZWMyIGludkF0YW4gPSB2ZWMyKDAuMTU5MSwgMC4zMTgzKTsKdmVjMiBTYW1wbGVTcGhlcmljYWxNYXAodmVjMyB2KQp7CiAgICB2ZWMyIHV2ID0gdmVjMihhdGFuKHYueiwgdi54KSwgYXNpbih2LnkpKTsKICAgIHV2ICo9IGludkF0YW47CiAgICB1diArPSAwLjU7CiAgICByZXR1cm4gdXY7Cn0KCiAgICAgICB2b2lkIG1haW4oKQogICAgICAgewogICAgICAgICAgIHZlYzIgdXYgPSBTYW1wbGVTcGhlcmljYWxNYXAobm9ybWFsaXplKHZfdGV4Q29vcmQpKTsKICAgICAgICAgICBjb2xvciA9IHRleHR1cmUoY29sb3JUZXh0dXJlLCB1dik7CiAgICAgICAgICAgLy9jb2xvci54eXogPSBwb3coY29sb3IueHl6LCB2ZWMzKDEuMC8yLjIpKTsgCgogICAgICAgICAgIHJldHVybjsKICAgICAgIH0KICAgIA"},
{ "equirectangular.vsh", "I2luY2x1ZGUgImxheW91dF9wb3NfdGV4Y3ViZW1hcC5nbHNsIgojaW5jbHVkZSAiY2FtZXJhX3VuaWZvcm1zLmdsc2wiCgp2b2lkIG1haW4oKSB7CiAgICBtYXQ0IHZtX3plcm9kID0gdV92aWV3TWF0cml4OwogICAgdm1femVyb2RbM10gPSB2ZWM0KCAwLjAsIDAuMCwgMC4wLCAxLjAgKTsKICAgIG1hdDQgdm0gPSB1X3Byb2pNYXRyaXggKiB2bV96ZXJvZDsKICAgIHZlYzQgcG9zNCA9IHZtICogdmVjNCggYV9wb3NpdGlvbiwgMS4wICk7CiAgICBnbF9Qb3NpdGlvbiA9IHBvczQueHl3dzsKICAgIHZfdGV4Q29vcmQgPSBhX3Bvc2l0aW9uLnh5eiAqIHZlYzMoMS4wLCAtMS4wLCAxLjApOwp9CiAgICA"},
{ "fragment_shader_color.fsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCgp1bmlmb3JtIGZsb2F0IGFscGhhOwp1bmlmb3JtIGZsb2F0IG9wYWNpdHk7CnVuaWZvcm0gdmVjMyAgZGlmZnVzZUNvbG9yOwoKb3V0IHZlYzQgRnJhZ0NvbG9yOwoKdm9pZCBtYWluKCkKewogICAgRnJhZ0NvbG9yID0gdmVjNChkaWZmdXNlQ29sb3IsIGFscGhhKm9wYWNpdHkpOwp9Cg"},
{ "fragment_shader_texture.fsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCgogICAgICAgaW4gdmVjMiB2X3RleENvb3JkOwogICAgICAgb3V0IHZlYzQgRnJhZ0NvbG9yOwoKICAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIGNvbG9yVGV4dHVyZTsKICAgICAgIHVuaWZvcm0gZmxvYXQgYWxwaGE7CiAgICAgICB1bmlmb3JtIGZsb2F0IG9wYWNpdHk7CiAgICAgICB1bmlmb3JtIHZlYzMgZGlmZnVzZUNvbG9yOwoKICAgICAgIHZvaWQgbWFpbigpCiAgICAgICB7CiAgICAgICAgICAgdmVjNCB0ZXh0dXJlQ29sID0gdGV4dHVyZShjb2xvclRleHR1cmUsIHZfdGV4Q29vcmQpOwogICAgICAgICAgIEZyYWdDb2xvciA9IHZlYzQoIHRleHR1cmVDb2wucmdiICogZGlmZnVzZUNvbG9yLCBtaW4oYWxwaGEsIHRleHR1cmVDb2wuYSpvcGFjaXR5KSk7CiAgICAgICB9CiAgICA"},
{ "ibl_specular_prefilter.fsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCm91dCB2ZWM0IEZyYWdDb2xvcjsKaW4gdmVjMyB2X3RleENvb3JkOwoKdW5pZm9ybSBzYW1wbGVyQ3ViZSBjdWJlTWFwVGV4dHVyZTsKdW5pZm9ybSBmbG9hdCByb3VnaG5lc3M7Cgpjb25zdCBmbG9hdCBQSSA9IDMuMTQxNTkyNjUzNTk7Ci8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KZmxvYXQgRGlzdHJpYnV0aW9uR0dYKHZlYzMgTiwgdmVjMyBILCBmbG9hdCByb3VnaG5lc3MpCnsKICAgIGZsb2F0IGEgPSByb3VnaG5lc3Mqcm91Z2huZXNzOwogICAgZmxvYXQgYTIgPSBhKmE7CiAgICBmbG9hdCBOZG90SCA9IG1heChkb3QoTiwgSCksIDAuMCk7CiAgICBmbG9hdCBOZG90SDIgPSBOZG90SCpOZG90SDsKCiAgICBmbG9hdCBub20gICA9IGEyOwogICAgZmxvYXQgZGVub20gPSAoTmRvdEgyICogKGEyIC0gMS4wKSArIDEuMCk7CiAgICBkZW5vbSA9IFBJICogZGVub20gKiBkZW5vbTsKCiAgICByZXR1cm4gbm9tIC8gZGVub207Cn0KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyBodHRwOi8vaG9sZ2VyLmRhbW1lcnR6Lm9yZy9zdHVmZi9ub3Rlc19IYW1tZXJzbGV5T25IZW1pc3BoZXJlLmh0bWwKLy8gZWZmaWNpZW50IFZhbkRlckNvcnB1cyBjYWxjdWxhdGlvbi4KZmxvYXQgUmFkaWNhbEludmVyc2VfVmRDKHVpbnQgYml0cykKewogICAgYml0cyA9IChiaXRzIDw8IDE2dSkgfCAoYml0cyA+PiAxNnUpOwogICAgYml0cyA9ICgoYml0cyAmIDB4NTU1NTU1NTV1KSA8PCAxdSkgfCAoKGJpdHMgJiAweEFBQUFBQUFBdSkgPj4gMXUpOwogICAgYml0cyA9ICgoYml0cyAmIDB4MzMzMzMzMzN1KSA8PCAydSkgfCAoKGJpdHMgJiAweENDQ0NDQ0NDdSkgPj4gMnUpOwogICAgYml0cyA9ICgoYml0cyAmIDB4MEYwRjBGMEZ1KSA8PCA0dSkgfCAoKGJpdHMgJiAweEYwRjBGMEYwdSkgPj4gNHUpOwogICAgYml0cyA9ICgoYml0cyAmIDB4MDBGRjAwRkZ1KSA8PCA4dSkgfCAoKGJpdHMgJiAweEZGMDBGRjAwdSkgPj4gOHUpOwogICAgcmV0dXJuIGZsb2F0KGJpdHMpICogMi4zMjgzMDY0MzY1Mzg2OTYzZS0xMDsgLy8gLyAweDEwMDAwMDAwMAp9Ci8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KdmVjMiBIYW1tZXJzbGV5KHVpbnQgaSwgdWludCBOKQp7CiAgICByZXR1cm4gdmVjMihmbG9hdChpKS9mbG9hdChOKSwgUmFkaWNhbEludmVyc2VfVmRDKGkpKTsKfQovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCnZlYzMgSW1wb3J0YW5jZVNhbXBsZUdHWCh2ZWMyIFhpLCB2ZWMzIE4sIGZsb2F0IHJvdWdobmVzcykKewogICAgZmxvYXQgYSA9IHJvdWdobmVzcypyb3VnaG5lc3M7CgogICAgZmxvYXQgcGhpID0gMi4wICogUEkgKiBYaS54OwogICAgZmxvYXQgY29zVGhldGEgPSBzcXJ0KCgxLjAgLSBYaS55KSAvICgxLjAgKyAoYSphIC0gMS4wKSAqIFhpLnkpKTsKICAgIGZsb2F0IHNpblRoZXRhID0gc3FydCgxLjAgLSBjb3NUaGV0YSpjb3NUaGV0YSk7CgogICAgLy8gZnJvbSBzcGhlcmljYWwgY29vcmRpbmF0ZXMgdG8gY2FydGVzaWFuIGNvb3JkaW5hdGVzIC0gaGFsZndheSB2ZWN0b3IKICAgIHZlYzMgSDsKICAgIEgueCA9IGNvcyhwaGkpICogc2luVGhldGE7CiAgICBILnkgPSBzaW4ocGhpKSAqIHNpblRoZXRhOwogICAgSC56ID0gY29zVGhldGE7CgogICAgLy8gZnJvbSB0YW5nZW50LXNwYWNlIEggdmVjdG9yIHRvIHdvcmxkLXNwYWNlIHNhbXBsZSB2ZWN0b3IKICAgIHZlYzMgdXAgICAgICAgICAgPSBhYnMoTi56KSA8IDAuOTk5ID8gdmVjMygwLjAsIDAuMCwgMS4wKSA6IHZlYzMoMS4wLCAwLjAsIDAuMCk7CiAgICB2ZWMzIHRhbmdlbnQgICA9IG5vcm1hbGl6ZShjcm9zcyh1cCwgTikpOwogICAgdmVjMyBiaXRhbmdlbnQgPSBjcm9zcyhOLCB0YW5nZW50KTsKCiAgICB2ZWMzIHNhbXBsZVZlYyA9IHRhbmdlbnQgKiBILnggKyBiaXRhbmdlbnQgKiBILnkgKyBOICogSC56OwogICAgcmV0dXJuIG5vcm1hbGl6ZShzYW1wbGVWZWMpOwp9Ci8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0Kdm9pZCBtYWluKCkKewogICAgdmVjMyBOID0gbm9ybWFsaXplKHZfdGV4Q29vcmQpOwoKICAgIC8vIG1ha2UgdGhlIHNpbXBseWZ5aW5nIGFzc3VtcHRpb24gdGhhdCBWIGVxdWFscyBSIGVxdWFscyB0aGUgbm9ybWFsCiAgICB2ZWMzIFIgPSBOOwogICAgdmVjMyBWID0gUjsKCiAgICBjb25zdCB1aW50IFNBTVBMRV9DT1VOVCA9IDEwMjR1OwogICAgdmVjMyBwcmVmaWx0ZXJlZENvbG9yID0gdmVjMygwLjApOwogICAgZmxvYXQgdG90YWxXZWlnaHQgPSAwLjA7CgogICAgZm9yKHVpbnQgaSA9IDB1OyBpIDwgU0FNUExFX0NPVU5UOyArK2kpCiAgICB7CiAgICAgICAgLy8gZ2VuZXJhdGVzIGEgc2FtcGxlIHZlY3RvciB0aGF0J3MgYmlhc2VkIHRvd2FyZHMgdGhlIHByZWZlcnJlZCBhbGlnbm1lbnQgZGlyZWN0aW9uIChpbXBvcnRhbmNlIHNhbXBsaW5nKS4KICAgICAgICB2ZWMyIFhpID0gSGFtbWVyc2xleShpLCBTQU1QTEVfQ09VTlQpOwogICAgICAgIHZlYzMgSCA9IEltcG9ydGFuY2VTYW1wbGVHR1goWGksIE4sIHJvdWdobmVzcyk7CiAgICAgICAgdmVjMyBMICA9IG5vcm1hbGl6ZSgyLjAgKiBkb3QoViwgSCkgKiBIIC0gVik7CgogICAgICAgIGZsb2F0IE5kb3RMID0gbWF4KGRvdChOLCBMKSwgMC4wKTsKICAgICAgICBpZihOZG90TCA+IDAuMCkKICAgICAgICB7CiAgICAgICAgICAgIC8vIHNhbXBsZSBmcm9tIHRoZSBlbnZpcm9ubWVudCdzIG1pcCBsZXZlbCBiYXNlZCBvbiByb3VnaG5lc3MvcGRmCiAgICAgICAgICAgIGZsb2F0IEQgICA9IERpc3RyaWJ1dGlvbkdHWChOLCBILCByb3VnaG5lc3MpOwogICAgICAgICAgICBmbG9hdCBOZG90SCA9IG1heChkb3QoTiwgSCksIDAuMCk7CiAgICAgICAgICAgIGZsb2F0IEhkb3RWID0gbWF4KGRvdChILCBWKSwgMC4wKTsKICAgICAgICAgICAgZmxvYXQgcGRmID0gRCAqIE5kb3RIIC8gKDQuMCAqIEhkb3RWKSArIDAuMDAwMTsKCiAgICAgICAgICAgIGZsb2F0IHJlc29sdXRpb24gPSA1MTIuMDsgLy8gcmVzb2x1dGlvbiBvZiBzb3VyY2UgY3ViZW1hcCAocGVyIGZhY2UpCiAgICAgICAgICAgIGZsb2F0IHNhVGV4ZWwgID0gNC4wICogUEkgLyAoNi4wICogcmVzb2x1dGlvbiAqIHJlc29sdXRpb24pOwogICAgICAgICAgICBmbG9hdCBzYVNhbXBsZSA9IDEuMCAvIChmbG9hdChTQU1QTEVfQ09VTlQpICogcGRmICsgMC4wMDAxKTsKCiAgICAgICAgICAgIGZsb2F0IG1pcExldmVsID0gcm91Z2huZXNzID09IDAuMCA/IDAuMCA6IDAuNSAqIGxvZzIoc2FTYW1wbGUgLyBzYVRleGVsKTsKCiAgICAgICAgICAgIHByZWZpbHRlcmVkQ29sb3IgKz0gdGV4dHVyZUxvZChjdWJlTWFwVGV4dHVyZSwgTCwgbWlwTGV2ZWwpLnJnYiAqIE5kb3RMOwogICAgICAgICAgICB0b3RhbFdlaWdodCAgICAgICs9IE5kb3RMOwogICAgICAgIH0KICAgIH0KCiAgICBwcmVmaWx0ZXJlZENvbG9yID0gcHJlZmlsdGVyZWRDb2xvciAvIHRvdGFsV2VpZ2h0OwoKICAgIEZyYWdDb2xvciA9IHZlYzQocHJlZmlsdGVyZWRDb2xvciwgMS4wKTsKfQo"},
{ "irradiance_convolution.fsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCm91dCB2ZWM0IEZyYWdDb2xvcjsKaW4gdmVjMyB2X3RleENvb3JkOwoKdW5pZm9ybSBzYW1wbGVyQ3ViZSBjdWJlTWFwVGV4dHVyZTsKCmNvbnN0IGZsb2F0IFBJID0gMy4xNDE1OTI2NTM1OTsKCnZvaWQgbWFpbigpCnsKICAgIC8vIFRoZSB3b3JsZCB2ZWN0b3IgYWN0cyBhcyB0aGUgbm9ybWFsIG9mIGEgdGFuZ2VudCBzdXJmYWNlCiAgICAvLyBmcm9tIHRoZSBvcmlnaW4sIGFsaWduZWQgdG8gV29ybGRQb3MuIEdpdmVuIHRoaXMgbm9ybWFsLCBjYWxjdWxhdGUgYWxsCiAgICAvLyBpbmNvbWluZyByYWRpYW5jZSBvZiB0aGUgZW52aXJvbm1lbnQuIFRoZSByZXN1bHQgb2YgdGhpcyByYWRpYW5jZQogICAgLy8gaXMgdGhlIHJhZGlhbmNlIG9mIGxpZ2h0IGNvbWluZyBmcm9tIC1Ob3JtYWwgZGlyZWN0aW9uLCB3aGljaCBpcyB3aGF0CiAgICAvLyB3ZSB1c2UgaW4gdGhlIFBCUiBzaGFkZXIgdG8gc2FtcGxlIGlycmFkaWFuY2UuCiAgICB2ZWMzIE4gPSBub3JtYWxpemUodl90ZXhDb29yZCk7CgogICAgdmVjMyBpcnJhZGlhbmNlID0gdmVjMygwLjApOwoKICAgIC8vIHRhbmdlbnQgc3BhY2UgY2FsY3VsYXRpb24gZnJvbSBvcmlnaW4gcG9pbnQKICAgIHZlYzMgdXAgICAgPSB2ZWMzKDAuMCwgMS4wLCAwLjApOwogICAgdmVjMyByaWdodCA9IGNyb3NzKHVwLCBOKTsKICAgIHVwICAgICAgICAgICAgPSBjcm9zcyhOLCByaWdodCk7CgogICAgZmxvYXQgc2FtcGxlRGVsdGEgPSAwLjAyNTsKICAgIGZsb2F0IG5yU2FtcGxlcyA9IDAuMDsKICAgIGZvcihmbG9hdCBwaGkgPSAwLjA7IHBoaSA8IDIuMCAqIFBJOyBwaGkgKz0gc2FtcGxlRGVsdGEpCiAgICB7CiAgICAgICAgZm9yKGZsb2F0IHRoZXRhID0gMC4wOyB0aGV0YSA8IDAuNTAgKiBQSTsgdGhldGEgKz0gc2FtcGxlRGVsdGEpCiAgICAgICAgewogICAgICAgICAgICAvLyBzcGhlcmljYWwgdG8gY2FydGVzaWFuIChpbiB0YW5nZW50IHNwYWNlKQogICAgICAgICAgICB2ZWMzIHRhbmdlbnRTYW1wbGUgPSB2ZWMzKHNpbih0aGV0YSkgKiBjb3MocGhpKSwgIHNpbih0aGV0YSkgKiBzaW4ocGhpKSwgY29zKHRoZXRhKSk7CiAgICAgICAgICAgIC8vIHRhbmdlbnQgc3BhY2UgdG8gd29ybGQKICAgICAgICAgICAgdmVjMyBzYW1wbGVWZWMgPSB0YW5nZW50U2FtcGxlLnggKiByaWdodCArIHRhbmdlbnRTYW1wbGUueSAqIHVwICsgdGFuZ2VudFNhbXBsZS56ICogTjsKCiAgICAgICAgICAgIGlycmFkaWFuY2UgKz0gdGV4dHVyZShjdWJlTWFwVGV4dHVyZSwgc2FtcGxlVmVjKS5yZ2IgKiBjb3ModGhldGEpICogc2luKHRoZXRhKTsKICAgICAgICAgICAgbnJTYW1wbGVzKys7CiAgICAgICAgfQogICAgfQogICAgaXJyYWRpYW5jZSA9IFBJICogaXJyYWRpYW5jZSAqICgxLjAgLyBmbG9hdChuclNhbXBsZXMpKTsKCiAgICBGcmFnQ29sb3IgPSB2ZWM0KGlycmFkaWFuY2UsIDEuMCk7Ci8vICAgIEZyYWdDb2xvciA9IHZlYzQoIHRleHR1cmUoY3ViZU1hcFRleHR1cmUsIHZfdGV4Q29vcmQpLnh5eiwgMS4wKTsKfQo"},
{ "layout_font", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCiAgICAgICBsYXlvdXQoIGxvY2F0aW9uID0gMCApIGluIHZlYzMgYV9wb3NpdGlvbjsKICAgICAgIGxheW91dCggbG9jYXRpb24gPSAxICkgaW4gdmVjMiBhX3QxOwogICAgICAgb3V0IHZlYzMgdHBvczsKICAgIA"},
{ "layout_pos2d", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCiAgICAgICBsYXlvdXQoIGxvY2F0aW9uID0gMCApIGluIHZlYzMgYV9wb3NpdGlvbjsKICAgIA"},
{ "layout_pos3d", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCiAgICAgICBsYXlvdXQoIGxvY2F0aW9uID0gMCApIGluIHZlYzMgYV9wb3NpdGlvbjsKICAgIA"},
{ "layout_pos_tex2d", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCiAgICAgICBsYXlvdXQoIGxvY2F0aW9uID0gMCApIGluIHZlYzMgYV9wb3NpdGlvbjsKICAgICAgIGxheW91dCggbG9jYXRpb24gPSAxICkgaW4gdmVjMiBhX3QxOwoKICAgICAgIG91dCB2ZWMyIHZfdGV4Q29vcmQ7CiAgICA"},
{ "layout_pos_tex3d", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCiAgICAgICBsYXlvdXQoIGxvY2F0aW9uID0gMCApIGluIHZlYzMgYV9wb3NpdGlvbjsKICAgICAgIGxheW91dCggbG9jYXRpb24gPSAxICkgaW4gdmVjMiBhX3QxOwoKICAgICAgIG91dCB2ZWMyIHZfdGV4Q29vcmQ7CiAgICA"},
{ "layout_pos_texcubemap", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCiAgICAgICBsYXlvdXQoIGxvY2F0aW9uID0gMCApIGluIHZlYzMgYV9wb3NpdGlvbjsKICAgICAgIG91dCB2ZWMzIHZfdGV4Q29vcmQ7CiAgICA"},
{ "layout_sh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCiAgICAgICBsYXlvdXQoIGxvY2F0aW9uID0gMCApIGluIHZlYzMgYV9wb3NpdGlvbjsKICAgICAgIGxheW91dCggbG9jYXRpb24gPSAxICkgaW4gdmVjMiBhX3QxOwogICAgICAgbGF5b3V0KCBsb2NhdGlvbiA9IDIgKSBpbiB2ZWMyIGFfdHV2MjsKICAgICAgIGxheW91dCggbG9jYXRpb24gPSAzICkgaW4gdmVjMyBhX3QyOwogICAgICAgbGF5b3V0KCBsb2NhdGlvbiA9IDQgKSBpbiB2ZWMzIGFfdDM7CiAgICAgICBsYXlvdXQoIGxvY2F0aW9uID0gNSApIGluIHZlYzMgYV90NDsKCiAgICAvLyAgICBsYXlvdXQoIGxvY2F0aW9uID0gNSApIGluIHZlYzMgc2hSMTsKICAgIC8vICAgIGxheW91dCggbG9jYXRpb24gPSA2ICkgaW4gdmVjMyBzaFIyOwogICAgLy8gICAgbGF5b3V0KCBsb2NhdGlvbiA9IDcgKSBpbiB2ZWMzIHNoUjM7CgogICAgLy8gICAgbGF5b3V0KCBsb2NhdGlvbiA9IDggKSBpbiB2ZWMzIHNoRzE7CiAgICAvLyAgICBsYXlvdXQoIGxvY2F0aW9uID0gOSApIGluIHZlYzMgc2hHMjsKICAgIC8vICAgIGxheW91dCggbG9jYXRpb24gPSAxMCApIGluIHZlYzMgc2hHMzsKCiAgICAvLyAgICBsYXlvdXQoIGxvY2F0aW9uID0gMTEgKSBpbiB2ZWMzIHNoQjE7CiAgICAvLyAgICBsYXlvdXQoIGxvY2F0aW9uID0gMTIgKSBpbiB2ZWMzIHNoQjI7CiAgICAvLyAgICBsYXlvdXQoIGxvY2F0aW9uID0gMTMgKSBpbiB2ZWMzIHNoQjM7CgogICAgICAgbGF5b3V0KCBsb2NhdGlvbiA9IDYgKSBpbiB2ZWM0IGFfdDg7CgogICAgICAgb3V0IHZlYzIgdl90ZXhDb29yZDsKICAgICAgIG91dCB2ZWMyIHZfdGV4Q29vcmQyOwogICAgICAgb3V0IHZlYzMgdl9jb2xvcjsKICAgICAgIG91dCB2ZWMzIHZfbm9ybTsKICAgICAgIG91dCB2ZWMzIHZfdGFuOwogICAgICAgb3V0IHZlYzMgdl9iaXRhbjsKICAgICAgIG91dCB2ZWMzIHZfc2hhZG93bWFwX2Nvb3JkMzsKICAgICAgIG91dCB2ZWM0IHZfdDg7CgogICAgICAgb3V0IHZlYzMgUG9zaXRpb25fd29ybGRzcGFjZTsKICAgIA"},
{ "lighting_uniforms", "CiAgICAgICAgbGF5b3V0KCBzdGQxNDAgKSB1bmlmb3JtIExpZ2h0aW5nVW5pZm9ybXMgewogICAgICAgICAgICB2ZWMzIHVfcG9pbnRMaWdodFBvc1sxNl07CiAgICAgICAgICAgIHZlYzMgdV9wb2ludExpZ2h0RGlyWzE2XTsKICAgICAgICAgICAgdmVjMyB1X3BvaW50TGlnaHRJbnRlbnNpdHlbMTZdOwogICAgICAgICAgICB2ZWMzIHVfcG9pbnRMaWdodEF0dGVudWF0aW9uWzE2XTsKICAgICAgICAgICAgdmVjMyB1X3Nwb3RMaWdodEJlYW1EaXJbMTZdOwogICAgICAgICAgICBmbG9hdCB1X291dGVyQ3V0T2ZmWzE2XTsKICAgICAgICAgICAgaW50ICB1X2xpZ2h0VHlwZVsxNl07CiAgICAgICAgICAgIHZlYzMgdV9zdW5EaXJlY3Rpb247CiAgICAgICAgICAgIHZlYzMgdV9zdW5Qb3NpdGlvbjsKICAgICAgICAgICAgbWF0NCB1X212cFNoYWRvd01hcDsKICAgICAgICAgICAgbWF0NCB1X2RlcHRoQmlhc01WUDsKICAgICAgICAgICAgZmxvYXQgdV90aW1lT2ZUaGVEYXk7CiAgICAgICAgICAgIGludCAgdV9udW1Qb2ludExpZ2h0czsKICAgICAgICAgICAgbWF0MyBzaExpZ2h0Q29lZmZzOwogICAgICAgIH07CiAgICA"},
{ "plain_blur_horizontal.fsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCiAgICAgICBvdXQgdmVjNCBGcmFnQ29sb3I7CiAgICAgICBpbiB2ZWMyIHZfdGV4Q29vcmQ7CgogICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgY29sb3JGQlRleHR1cmU7CiAgICAgICBmbG9hdCB3ZWlnaHRbNV0gPSBmbG9hdFtdICgwLjIyNzAyNywgMC4xOTQ1OTQ2LCAwLjEyMTYyMTYsIDAuMDU0MDU0LCAwLjAxNjIxNik7CgogICAgICAgdm9pZCBtYWluKCkKICAgICAgIHsKICAgICAgICAgICB2ZWMyIHRleF9vZmZzZXQgPSB2ZWMyKDEuMCkgLyB2ZWMyKHRleHR1cmVTaXplKGNvbG9yRkJUZXh0dXJlLCAwKSk7IC8vIGdldHMgc2l6ZSBvZiBzaW5nbGUgdGV4ZWwKICAgICAgICAgICB2ZWMzIHJlc3VsdCA9IHRleHR1cmUoY29sb3JGQlRleHR1cmUsIHZfdGV4Q29vcmQpLnJnYiAqIHdlaWdodFswXTsgLy8gY3VycmVudCBmcmFnbWVudCdzIGNvbnRyaWJ1dGlvbgoKICAgICAgICAgICBmb3IoaW50IGkgPSAxOyBpIDwgNTsgKytpKQogICAgICAgICAgIHsKICAgICAgICAgICAgICAgcmVzdWx0ICs9IHRleHR1cmUoY29sb3JGQlRleHR1cmUsIHZfdGV4Q29vcmQgKyB2ZWMyKHRleF9vZmZzZXQueCAqIGZsb2F0KGkpLCAwLjApKS5yZ2IgKiB3ZWlnaHRbaV07CiAgICAgICAgICAgICAgIHJlc3VsdCArPSB0ZXh0dXJlKGNvbG9yRkJUZXh0dXJlLCB2X3RleENvb3JkIC0gdmVjMih0ZXhfb2Zmc2V0LnggKiBmbG9hdChpKSwgMC4wKSkucmdiICogd2VpZ2h0W2ldOwogICAgICAgICAgIH0KCiAgICAgICAgICAgRnJhZ0NvbG9yID0gdmVjNChyZXN1bHQsIDEuMCk7CiAgICAgICB9CiAgICA"},
{ "plain_blur_vertical.fsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCiAgICAgICBvdXQgdmVjNCBGcmFnQ29sb3I7CiAgICAgICBpbiB2ZWMyIHZfdGV4Q29vcmQ7CgogICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgY29sb3JGQlRleHR1cmU7CiAgICAgICBmbG9hdCB3ZWlnaHRbNV0gPSBmbG9hdFtdICgwLjIyNzAyNywgMC4xOTQ1OTQ2LCAwLjEyMTYyMTYsIDAuMDU0MDU0LCAwLjAxNjIxNik7CgogICAgICAgdm9pZCBtYWluKCkKICAgICAgIHsKICAgICAgICAgICB2ZWMyIHRleF9vZmZzZXQgPSB2ZWMyKDEuMCkgLyB2ZWMyKHRleHR1cmVTaXplKGNvbG9yRkJUZXh0dXJlLCAwKSk7IC8vIGdldHMgc2l6ZSBvZiBzaW5nbGUgdGV4ZWwKICAgICAgICAgICB2ZWM0IHJlc3VsdCA9IHRleHR1cmUoY29sb3JGQlRleHR1cmUsIHZfdGV4Q29vcmQpICogd2VpZ2h0WzBdOyAvLyBjdXJyZW50IGZyYWdtZW50J3MgY29udHJpYnV0aW9uCgogICAgICAgICAgIGZvcihpbnQgaSA9IDE7IGkgPCA1OyArK2kpCiAgICAgICAgICAgewogICAgICAgICAgICAgICByZXN1bHQgKz0gdGV4dHVyZShjb2xvckZCVGV4dHVyZSwgdl90ZXhDb29yZCArIHZlYzIoMC4wLCB0ZXhfb2Zmc2V0LnkgKiBmbG9hdChpKSkpICogd2VpZ2h0W2ldOwogICAgICAgICAgICAgICByZXN1bHQgKz0gdGV4dHVyZShjb2xvckZCVGV4dHVyZSwgdl90ZXhDb29yZCAtIHZlYzIoMC4wLCB0ZXhfb2Zmc2V0LnkgKiBmbG9hdChpKSkpICogd2VpZ2h0W2ldOwogICAgICAgICAgIH0KCiAgICAgICAgICAgRnJhZ0NvbG9yID0gdmVjNCggcmVzdWx0Lnh5eiwgMS4wICk7CiAgICAgICB9CiAgICA"},
{ "plain_brdf.fsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCiAgICAgICBvdXQgdmVjMiBGcmFnQ29sb3I7CiAgICAgICBpbiB2ZWMyIHZfdGV4Q29vcmQ7CgogICAgICAgY29uc3QgZmxvYXQgUEkgPSAzLjE0MTU5MjY1MzU5OwogICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgLy8gaHR0cDovL2hvbGdlci5kYW1tZXJ0ei5vcmcvc3R1ZmYvbm90ZXNfSGFtbWVyc2xleU9uSGVtaXNwaGVyZS5odG1sCiAgICAgICAvLyBlZmZpY2llbnQgVmFuRGVyQ29ycHVzIGNhbGN1bGF0aW9uLgogICAgICAgZmxvYXQgUmFkaWNhbEludmVyc2VfVmRDKHVpbnQgYml0cykKICAgICAgIHsKICAgICAgICAgICAgYml0cyA9IChiaXRzIDw8IDE2dSkgfCAoYml0cyA+PiAxNnUpOwogICAgICAgICAgICBiaXRzID0gKChiaXRzICYgMHg1NTU1NTU1NXUpIDw8IDF1KSB8ICgoYml0cyAmIDB4QUFBQUFBQUF1KSA+PiAxdSk7CiAgICAgICAgICAgIGJpdHMgPSAoKGJpdHMgJiAweDMzMzMzMzMzdSkgPDwgMnUpIHwgKChiaXRzICYgMHhDQ0NDQ0NDQ3UpID4+IDJ1KTsKICAgICAgICAgICAgYml0cyA9ICgoYml0cyAmIDB4MEYwRjBGMEZ1KSA8PCA0dSkgfCAoKGJpdHMgJiAweEYwRjBGMEYwdSkgPj4gNHUpOwogICAgICAgICAgICBiaXRzID0gKChiaXRzICYgMHgwMEZGMDBGRnUpIDw8IDh1KSB8ICgoYml0cyAmIDB4RkYwMEZGMDB1KSA+PiA4dSk7CiAgICAgICAgICAgIHJldHVybiBmbG9hdChiaXRzKSAqIDIuMzI4MzA2NDM2NTM4Njk2M2UtMTA7IC8vIC8gMHgxMDAwMDAwMDAKICAgICAgIH0KICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgIHZlYzIgSGFtbWVyc2xleSh1aW50IGksIHVpbnQgTikKICAgICAgIHsKICAgICAgICAgICByZXR1cm4gdmVjMihmbG9hdChpKS9mbG9hdChOKSwgUmFkaWNhbEludmVyc2VfVmRDKGkpKTsKICAgICAgIH0KICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgIHZlYzMgSW1wb3J0YW5jZVNhbXBsZUdHWCh2ZWMyIFhpLCB2ZWMzIE4sIGZsb2F0IHJvdWdobmVzcykKICAgICAgIHsKICAgICAgICAgICBmbG9hdCBhID0gcm91Z2huZXNzKnJvdWdobmVzczsKCiAgICAgICAgICAgZmxvYXQgcGhpID0gMi4wICogUEkgKiBYaS54OwogICAgICAgICAgIGZsb2F0IGNvc1RoZXRhID0gc3FydCgoMS4wIC0gWGkueSkgLyAoMS4wICsgKGEqYSAtIDEuMCkgKiBYaS55KSk7CiAgICAgICAgICAgZmxvYXQgc2luVGhldGEgPSBzcXJ0KDEuMCAtIGNvc1RoZXRhKmNvc1RoZXRhKTsKCiAgICAgICAgICAgLy8gZnJvbSBzcGhlcmljYWwgY29vcmRpbmF0ZXMgdG8gY2FydGVzaWFuIGNvb3JkaW5hdGVzIC0gaGFsZndheSB2ZWN0b3IKICAgICAgICAgICB2ZWMzIEg7CiAgICAgICAgICAgSC54ID0gY29zKHBoaSkgKiBzaW5UaGV0YTsKICAgICAgICAgICBILnkgPSBzaW4ocGhpKSAqIHNpblRoZXRhOwogICAgICAgICAgIEgueiA9IGNvc1RoZXRhOwoKICAgICAgICAgICAvLyBmcm9tIHRhbmdlbnQtc3BhY2UgSCB2ZWN0b3IgdG8gd29ybGQtc3BhY2Ugc2FtcGxlIHZlY3RvcgogICAgICAgICAgIHZlYzMgdXAgICAgICAgICAgPSBhYnMoTi56KSA8IDAuOTk5ID8gdmVjMygwLjAsIDAuMCwgMS4wKSA6IHZlYzMoMS4wLCAwLjAsIDAuMCk7CiAgICAgICAgICAgdmVjMyB0YW5nZW50ICAgPSBub3JtYWxpemUoY3Jvc3ModXAsIE4pKTsKICAgICAgICAgICB2ZWMzIGJpdGFuZ2VudCA9IGNyb3NzKE4sIHRhbmdlbnQpOwoKICAgICAgICAgICB2ZWMzIHNhbXBsZVZlYyA9IHRhbmdlbnQgKiBILnggKyBiaXRhbmdlbnQgKiBILnkgKyBOICogSC56OwogICAgICAgICAgIHJldHVybiBub3JtYWxpemUoc2FtcGxlVmVjKTsKICAgICAgIH0KICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgIGZsb2F0IEdlb21ldHJ5U2NobGlja0dHWChmbG9hdCBOZG90ViwgZmxvYXQgcm91Z2huZXNzKQogICAgICAgewogICAgICAgICAgIC8vIG5vdGUgdGhhdCB3ZSB1c2UgYSBkaWZmZXJlbnQgayBmb3IgSUJMCiAgICAgICAgICAgZmxvYXQgYSA9IHJvdWdobmVzczsKICAgICAgICAgICBmbG9hdCBrID0gKGEgKiBhKSAvIDIuMDsKCiAgICAgICAgICAgZmxvYXQgbm9tICAgPSBOZG90VjsKICAgICAgICAgICBmbG9hdCBkZW5vbSA9IE5kb3RWICogKDEuMCAtIGspICsgazsKCiAgICAgICAgICAgcmV0dXJuIG5vbSAvIGRlbm9tOwogICAgICAgfQogICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgZmxvYXQgR2VvbWV0cnlTbWl0aCh2ZWMzIE4sIHZlYzMgViwgdmVjMyBMLCBmbG9hdCByb3VnaG5lc3MpCiAgICAgICB7CiAgICAgICAgICAgZmxvYXQgTmRvdFYgPSBtYXgoZG90KE4sIFYpLCAwLjApOwogICAgICAgICAgIGZsb2F0IE5kb3RMID0gbWF4KGRvdChOLCBMKSwgMC4wKTsKICAgICAgICAgICBmbG9hdCBnZ3gyID0gR2VvbWV0cnlTY2hsaWNrR0dYKE5kb3RWLCByb3VnaG5lc3MpOwogICAgICAgICAgIGZsb2F0IGdneDEgPSBHZW9tZXRyeVNjaGxpY2tHR1goTmRvdEwsIHJvdWdobmVzcyk7CgogICAgICAgICAgIHJldHVybiBnZ3gxICogZ2d4MjsKICAgICAgIH0KICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgIHZlYzIgSW50ZWdyYXRlQlJERihmbG9hdCBOZG90ViwgZmxvYXQgcm91Z2huZXNzKQogICAgICAgewogICAgICAgICAgIHZlYzMgVjsKICAgICAgICAgICBWLnggPSBzcXJ0KDEuMCAtIE5kb3RWKk5kb3RWKTsKICAgICAgICAgICBWLnkgPSAwLjA7CiAgICAgICAgICAgVi56ID0gTmRvdFY7CgogICAgICAgICAgIGZsb2F0IEEgPSAwLjA7CiAgICAgICAgICAgZmxvYXQgQiA9IDAuMDsKCiAgICAgICAgICAgdmVjMyBOID0gdmVjMygwLjAsIDAuMCwgMS4wKTsKCiAgICAgICAgICAgY29uc3QgdWludCBTQU1QTEVfQ09VTlQgPSAxMDI0dTsKICAgICAgICAgICBmb3IodWludCBpID0gMHU7IGkgPCBTQU1QTEVfQ09VTlQ7ICsraSkKICAgICAgICAgICB7CiAgICAgICAgICAgICAgIC8vIGdlbmVyYXRlcyBhIHNhbXBsZSB2ZWN0b3IgdGhhdCdzIGJpYXNlZCB0b3dhcmRzIHRoZQogICAgICAgICAgICAgICAvLyBwcmVmZXJyZWQgYWxpZ25tZW50IGRpcmVjdGlvbiAoaW1wb3J0YW5jZSBzYW1wbGluZykuCiAgICAgICAgICAgICAgIHZlYzIgWGkgPSBIYW1tZXJzbGV5KGksIFNBTVBMRV9DT1VOVCk7CiAgICAgICAgICAgICAgIHZlYzMgSCA9IEltcG9ydGFuY2VTYW1wbGVHR1goWGksIE4sIHJvdWdobmVzcyk7CiAgICAgICAgICAgICAgIHZlYzMgTCA9IG5vcm1hbGl6ZSgyLjAgKiBkb3QoViwgSCkgKiBIIC0gVik7CgogICAgICAgICAgICAgICBmbG9hdCBOZG90TCA9IG1heChMLnosIDAuMCk7CiAgICAgICAgICAgICAgIGZsb2F0IE5kb3RIID0gbWF4KEgueiwgMC4wKTsKICAgICAgICAgICAgICAgZmxvYXQgVmRvdEggPSBtYXgoZG90KFYsIEgpLCAwLjApOwoKICAgICAgICAgICAgICAgaWYoTmRvdEwgPiAwLjApCiAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgIGZsb2F0IEcgPSBHZW9tZXRyeVNtaXRoKE4sIFYsIEwsIHJvdWdobmVzcyk7CiAgICAgICAgICAgICAgICAgICBmbG9hdCBHX1ZpcyA9IChHICogVmRvdEgpIC8gKE5kb3RIICogTmRvdFYpOwogICAgICAgICAgICAgICAgICAgZmxvYXQgRmMgPSBwb3coMS4wIC0gVmRvdEgsIDUuMCk7CgogICAgICAgICAgICAgICAgICAgQSArPSAoMS4wIC0gRmMpICogR19WaXM7CiAgICAgICAgICAgICAgICAgICBCICs9IEZjICogR19WaXM7CiAgICAgICAgICAgICAgIH0KICAgICAgICAgICB9CiAgICAgICAgICAgQSAvPSBmbG9hdChTQU1QTEVfQ09VTlQpOwogICAgICAgICAgIEIgLz0gZmxvYXQoU0FNUExFX0NPVU5UKTsKICAgICAgICAgICByZXR1cm4gdmVjMihBLCBCKTsKICAgICAgIH0KICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgIHZvaWQgbWFpbigpCiAgICAgICB7CiAgICAgICAgICAgdmVjMiBpbnRlZ3JhdGVkQlJERiA9IEludGVncmF0ZUJSREYodl90ZXhDb29yZC54LCB2X3RleENvb3JkLnkpOwogICAgICAgICAgIEZyYWdDb2xvciA9IGludGVncmF0ZWRCUkRGOwogICAgICAgfQogICAg"},
{ "plain_cubemap.fsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCiAgICAgICBpbiB2ZWMzIHZfdGV4Q29vcmQ7CiAgICAgICBvdXQgdmVjNCBjb2xvcjsKCiAgICAgICB1bmlmb3JtIHNhbXBsZXJDdWJlIGN1YmVNYXBUZXh0dXJlOwoKICAgICAgIHZvaWQgbWFpbigpCiAgICAgICB7CiAgICAgICAgICAgY29sb3IgPSB2ZWM0KCB0ZXh0dXJlKGN1YmVNYXBUZXh0dXJlLCB2X3RleENvb3JkKS54eXosIDEuMCk7CiAgICAgICB9CiAgICA"},
{ "plain_cubemap.vsh", "I2luY2x1ZGUgImxheW91dF9wb3NfdGV4Y3ViZW1hcC5nbHNsIgojaW5jbHVkZSAiY2FtZXJhX3VuaWZvcm1zLmdsc2wiCgp2b2lkIG1haW4oKSB7CiAgICBtYXQ0IHZtID0gdV9wcm9qTWF0cml4ICogdV92aWV3TWF0cml4OwogICAgZ2xfUG9zaXRpb24gPSB2bSAqIHZlYzQoIGFfcG9zaXRpb24sIDEuMCApOwogICAgdl90ZXhDb29yZCA9IGFfcG9zaXRpb24ueHl6Owp9CiAgICA"},
{ "plain_final_combine.fsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCgppbiB2ZWMyIHZfdGV4Q29vcmQ7Cm91dCB2ZWM0IEZyYWdDb2xvcjsKdW5pZm9ybSBzYW1wbGVyMkQgY29sb3JGQlRleHR1cmU7CnVuaWZvcm0gc2FtcGxlcjJEIGJsb29tVGV4dHVyZTsKdW5pZm9ybSBzYW1wbGVyMkQgc2hhZG93TWFwVGV4dHVyZTsKCnZvaWQgbWFpbigpCnsKICAgIHZlYzQgc2NlbmVDb2xvciA9IHRleHR1cmUoY29sb3JGQlRleHR1cmUsIHZfdGV4Q29vcmQpOwogICAgLy8gdmVjNCBibG9vbUNvbG9yID0gdGV4dHVyZShibG9vbVRleHR1cmUsIHZfdGV4Q29vcmQpOwoKICAgIC8vZmxvYXQgc2hhZG93Q29sb3IgPSB0ZXh0dXJlKHNoYWRvd01hcFRleHR1cmUsIHZfdGV4Q29vcmQpLng7CiAgICAvL3ZlYzMgc2hhZG93TWFzayA9IHZlYzMoc2hhZG93Q29sb3IsIHNoYWRvd0NvbG9yLHNoYWRvd0NvbG9yKTsKICAgIC8vRnJhZ0NvbG9yID0gdmVjNCggc2hhZG93TWFzaywgMS4wICk7CiAgICAvL0ZyYWdDb2xvciA9IHZlYzQoIG1peChzaGFkb3dNYXNrLCAoIHNjZW5lQ29sb3IueHl6ICksIHZlYzMoMC41KSksIDEuMCk7CgogICAgRnJhZ0NvbG9yID0gc2NlbmVDb2xvcjsKICAgIC8vIEZyYWdDb2xvciA9IHNjZW5lQ29sb3IgKyBibG9vbUNvbG9yOwogICAgLy9GcmFnQ29sb3IueHl6IC89ICggRnJhZ0NvbG9yLnh5eiArIHZlYzMoIDEuMCApICk7CgogICAgdmVjMiB1diA9IHZfdGV4Q29vcmQ7CiAgICB1diAqPSAgMS4wIC0gdXYueXg7IAogICAgZmxvYXQgdmlnID0gdXYueCp1di55ICogMjUwMC4wOyAvLyBtdWx0aXBseSB3aXRoIHN0aCBmb3IgaW50ZW5zaXR5CiAgICB2aWcgPSBjbGFtcCggcG93KHZpZywgMi45NSksIDAuMCwgMS4wKTsgLy8gY2hhbmdlIHBvdyBmb3IgbW9kaWZ5aW5nIHRoZSBleHRlbmQgb2YgdGhlICB2aWduZXR0ZQoKICAgIEZyYWdDb2xvciA9IHZlYzQoMS4wKTsgLy8gdmVjNCggbWl4KCB2ZWMzKDEuMCksIHBvdyggRnJhZ0NvbG9yLnh5eiwgdmVjMyggMS4wIC8gMi4yICkgKSwgdmlnKSwgRnJhZ0NvbG9yLmEgKTsKCiAgICAvL0ZyYWdDb2xvciA9IHNjZW5lQ29sb3I7Cn0K"},
{ "plain_font.fsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCiAgICAgICB1bmlmb3JtIHZlYzMgICBkaWZmdXNlQ29sb3I7CiAgICAgICB1bmlmb3JtIGZsb2F0ICBhbHBoYTsKICAgICAgIHVuaWZvcm0gZmxvYXQgIG9wYWNpdHk7CgogICAgICAgaW4gdmVjMyB0cG9zOwogICAgICAgb3V0IHZlYzQgRnJhZ0NvbG9yOwoKICAgICAgIHZvaWQgbWFpbigpCiAgICAgICB7CiAgICAgICAgICAgZmxvYXQgYWxwaGFWID0gMS4wOwogICAgICAgICAgIGlmICh0cG9zLnogIT0gMC4wKQogICAgICAgICAgIHsKICAgICAgICAgICAgICAgdmVjMiBwID0gdHBvcy54eTsKICAgICAgICAgICAgICAgLy8gR3JhZGllbnRzCiAgICAgICAgICAgICAgIHZlYzIgcHggPSBkRmR4KHApOwogICAgICAgICAgICAgICB2ZWMyIHB5ID0gZEZkeShwKTsKICAgICAgICAgICAgICAgLy8gQ2hhaW4gcnVsZQogICAgICAgICAgICAgICBmbG9hdCBmeCA9ICgoMi4wKnAueCkqcHgueCAtIHB4LnkpOwogICAgICAgICAgICAgICBmbG9hdCBmeSA9ICgoMi4wKnAueCkqcHkueCAtIHB5LnkpOwogICAgICAgICAgICAgICAvLyBTaWduZWQgZGlzdGFuY2UKICAgICAgICAgICAgICAgZmxvYXQgZGlzdCA9IGZ4KmZ4ICsgZnkqZnk7CiAgICAgICAgICAgICAgIGZsb2F0IHNkID0gKHAueCpwLnggLSBwLnkpKi10cG9zLnovc3FydChkaXN0KTsKICAgICAgICAgICAgICAgLy8gTGluZWFyIGFscGhhCiAgICAgICAgICAgICAgIGFscGhhViA9IGNsYW1wKDAuNSAtIHNkLCAwLjAsIDEuMCk7CiAgICAgICAgICAgfQogICAgICAgICAgIEZyYWdDb2xvciA9IHZlYzQoZGlmZnVzZUNvbG9yLCBhbHBoYSphbHBoYVYqb3BhY2l0eSk7CiAgICAgICB9CiAgICA"},
{ "plain_sh.fsh", "I2luY2x1ZGUgInBsYWluX3NoX2NvbW1vbi5nbHNsIgojaW5jbHVkZSAidGV4dHVyZV9ub3RpbGUuZ2xzbCIKCmZsb2F0IGVkZ2VGYWN0b3JUcmkoKSB7CiAgICAgIHZlYzMgZCA9IGZ3aWR0aCggdl90OC54eXogKTsKICAgICAgdmVjMyBhMyA9IHNtb290aHN0ZXAoIHZlYzMoIDAuMCApLCBkICogMS41LCB2X3Q4Lnh5eiApOwogICAgICByZXR1cm4gbWluKCBtaW4oIGEzLngsIGEzLnkgKSwgYTMueiApOwp9Cgp2b2lkIG1haW4oKSB7Ci8vICAgbWF0MyBpdGJuOwovLyAgIGl0Ym5bMF0gPSBub3JtYWxpemUoIHZfdGFuICk7Ci8vICAgaXRiblsxXSA9IG5vcm1hbGl6ZSggdl9iaXRhbiApOwovLyAgIGl0Ym5bMl0gPSBub3JtYWxpemUoIHZfbm9ybSApOwovLyAgIGl0Ym4gPSB0cmFuc3Bvc2UoIGl0Ym4gKTsKCiAgIHZlYzMgViA9IG5vcm1hbGl6ZSggdV9leWVQb3MgLSBQb3NpdGlvbl93b3JsZHNwYWNlICk7CgovLyAgIHZlYzMgdGUgPSBpdGJuICogdV9leWVQb3M7Ci8vICAgdmVjMyB0dyA9IGl0Ym4gKiBQb3NpdGlvbl93b3JsZHNwYWNlOwogICAKICAgdmVjMiB0ZXhDb29yZHMgPSB2X3RleENvb3JkOy8vUGFyYWxsYXhNYXBwaW5nKHZfdGV4Q29vcmQsIFYpOwoKICAgYW8gPSB0ZXh0dXJlKCBhb1RleHR1cmUsIHRleENvb3JkcyApLnggKiBhb1Y7CiAgIHJvdWdobmVzcyA9ICh0ZXh0dXJlKCByb3VnaG5lc3NUZXh0dXJlLCB0ZXhDb29yZHMgKS54ICogcm91Z2huZXNzVik7CiAgIG1ldGFsbGljID0gKHRleHR1cmUoIG1ldGFsbGljVGV4dHVyZSwgdGV4Q29vcmRzICkueCAqIG1ldGFsbGljVik7CiAgIHZlYzMgYWxiZWRvID0gdGV4dHVyZSggZGlmZnVzZVRleHR1cmUsIHRleENvb3JkcyApLnh5eiAqIGRpZmZ1c2VDb2xvcjsKICAgYWxiZWRvID0gcG93KGFsYmVkbywgdmVjMygyLjIvMS4wKSk7CiAgIC8vcm91Z2huZXNzID0gcG93KHJvdWdobmVzcywgMS4wLzIuMik7CgogICB2ZWMzIE4gPSBnZXROb3JtYWxGcm9tTWFwKHRleENvb3Jkcyk7CgogICBzaGFkb3dfY29kZQoKICAgbGlnaHRfY29kZQoKICAgZmluYWxfY29tYmluZQoKICAgICAgLy9zdW5EaXIgPSB2ZWMzKDEpOwovLyAgICAgIHZlYzMgTEQgPSBub3JtYWxpemUoIHVfc3VuUG9zaXRpb24gLSBQb3NpdGlvbl93b3JsZHNwYWNlICk7CiAgICAgIC8vdmVjMyBIRiA9IG5vcm1hbGl6ZSggTEQgKyBWICk7CgogICAgICAgIC8vZmxvYXQgc3BlYyA9IHBvdyhtYXgoZG90KE4sIEhGKSwgMC4wKSwgMTAwLjApOwogICAgICAgIC8vZmxvYXQgZGlmZiA9IG1heChkb3QoTiwgTEQpLCAwLjApOwogICAgICAgIC8vZmluYWxDb2xvciA9IHZlYzMoc3BlYyArIGRpZmYpOwogICAgICAgIC8vRnJhZ0NvbG9yID0gdmVjNCggZmluYWxDb2xvciwgb3BhY2l0eSAqIGFscGhhICk7Cgp9CiAgICA"},
{ "plain_sh_common", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCgogICAgICAgIGxheW91dCggbG9jYXRpb24gPSAwICkgb3V0IHZlYzQgRnJhZ0NvbG9yOwogICAgICAgIGxheW91dCggbG9jYXRpb24gPSAxICkgb3V0IHZlYzQgQmxvb21Db2xvcjsKCiAgICAgICAgaW4gdmVjMiB2X3RleENvb3JkOwogICAgICAgIGluIHZlYzIgdl90ZXhDb29yZDI7CiAgICAgICAgaW4gdmVjMyB2X2NvbG9yOwogICAgICAgIGluIHZlYzMgdl9ub3JtOwogICAgICAgIGluIHZlYzMgdl90YW47CiAgICAgICAgaW4gdmVjMyB2X2JpdGFuOwogICAgICAgIGluIHZlYzMgdl9zaGFkb3dtYXBfY29vcmQzOwogICAgICAgIGluIHZlYzMgUG9zaXRpb25fd29ybGRzcGFjZTsKICAgICAgICBpbiB2ZWM0IHZfdDg7CgogICAgICAgICNpbmNsdWRlICJsaWdodGluZ191bmlmb3Jtcy5nbHNsIgogICAgICAgICNpbmNsdWRlICJjYW1lcmFfdW5pZm9ybXMuZ2xzbCIKCiAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgZGlmZnVzZVRleHR1cmU7ICAgICAgICAgLy8gMCBnbFRleHR1cmVTbG90CiAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgbm9ybWFsVGV4dHVyZTsgICAgICAgICAgLy8gMSBnbFRleHR1cmVTbG90CiAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkRTaGFkb3cgc2hhZG93TWFwVGV4dHVyZTsgLy8gMiBnbFRleHR1cmVTbG90CiAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgYW9UZXh0dXJlOyAgICAgICAgICAgICAgLy8gNiBnbFRleHR1cmVTbG90CiAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgcm91Z2huZXNzVGV4dHVyZTsKICAgICAgICB1bmlmb3JtIHNhbXBsZXIyRCBtZXRhbGxpY1RleHR1cmU7ICAgICAgICAvLyA4IGdsVGV4dHVyZVNsb3QKICAgICAgICB1bmlmb3JtIHNhbXBsZXIyRCBoZWlnaHRUZXh0dXJlOwogICAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIGxpZ2h0bWFwVGV4dHVyZTsKICAgICAgICAvLyBJQkwKICAgICAgICB1bmlmb3JtIHNhbXBsZXJDdWJlIGlibF9pcnJhZGlhbmNlTWFwOyAgICAgICAgLy8gOSBnbFRleHR1cmVTbG90CiAgICAgICAgdW5pZm9ybSBzYW1wbGVyQ3ViZSBpYmxfc3BlY3VsYXJNYXA7ICAgICAgICAgLy8gMTAgZ2xUZXh0dXJlU2xvdAogICAgICAgIHVuaWZvcm0gc2FtcGxlcjJEICAgaWJsX2JyZGZMVVRNYXA7ICAgICAgICAgICAgICAvLyAxMSBnbFRleHR1cmVTbG90CgogICAgICAgIHVuaWZvcm0gdmVjMyAgZGlmZnVzZUNvbG9yOwogICAgICAgIHVuaWZvcm0gdmVjMyAgYW1iaWVudDsKICAgICAgICB1bmlmb3JtIHZlYzMgIGluY2FuZGVzY2VuY2VDb2xvcjsKICAgICAgICB1bmlmb3JtIGZsb2F0IGluY2FuZGVzY2VuY2VGYWN0b3I7CiAgICAgICAgdW5pZm9ybSBmbG9hdCBvcGFjaXR5OwogICAgICAgIHVuaWZvcm0gZmxvYXQgYWxwaGE7CiAgICAgICAgdW5pZm9ybSBmbG9hdCBkaWZmdXNlOwogICAgICAgIHVuaWZvcm0gZmxvYXQgcmVmbGVjdGl2aXR5OwogICAgICAgIHVuaWZvcm0gdmVjMyBzcGVjdWxhckNvbG9yOwogICAgICAgIHVuaWZvcm0gZmxvYXQgY29zaW5lUG93ZXI7CiAgICAgICAgdW5pZm9ybSBmbG9hdCBtZXRhbGxpY1Y7CiAgICAgICAgdW5pZm9ybSBmbG9hdCByb3VnaG5lc3NWOwogICAgICAgIHVuaWZvcm0gZmxvYXQgYW9WOwoKICAgICAgICBmbG9hdCBtZXRhbGxpYzsKICAgICAgICBmbG9hdCByb3VnaG5lc3M7CiAgICAgICAgZmxvYXQgYW87CiAgICAgICAgZmxvYXQgaGVpZ2h0X3NjYWxlID0gLjA0OwoKICAgICAgICBjb25zdCBmbG9hdCBQSSA9IDMuMTQxNTkyNjUzNTk7CgogICAgICAgIHZlYzIgcG9pc3NvbkRpc2tbNF0gPSB2ZWMyW10oCiAgICAgICAgICAgIHZlYzIoIC0wLjk0MjAxNjI0LCAtMC4zOTkwNjIxNiApLAogICAgICAgICAgICB2ZWMyKCAwLjk0NTU4NjA5LCAtMC43Njg5MDcyNSApLAogICAgICAgICAgICB2ZWMyKCAtMC4wOTQxODQxMDEsIC0wLjkyOTM4ODcwICksCiAgICAgICAgICAgIHZlYzIoIDAuMzQ0OTU5MzgsIDAuMjkzODc3NjAgKQogICAgICAgICAgICApOwoKICAgICAgICB2ZWMyIFBhcmFsbGF4TWFwcGluZyh2ZWMyIHRleENvb3JkcywgdmVjMyB2aWV3RGlyKQogICAgICAgIHsKICAgICAgICAgICAgLy8gbnVtYmVyIG9mIGRlcHRoIGxheWVycwogICAgICAgICAgICBjb25zdCBmbG9hdCBtaW5MYXllcnMgPSA4LjA7CiAgICAgICAgICAgIGNvbnN0IGZsb2F0IG1heExheWVycyA9IDMyLjA7CiAgICAgICAgICAgIGZsb2F0IG51bUxheWVycyA9IG1peChtYXhMYXllcnMsIG1pbkxheWVycywgYWJzKGRvdCh2ZWMzKDAuMCwgMC4wLCAxLjApLCB2aWV3RGlyKSkpOwogICAgICAgICAgICAvLyBjYWxjdWxhdGUgdGhlIHNpemUgb2YgZWFjaCBsYXllcgogICAgICAgICAgICBmbG9hdCBsYXllckRlcHRoID0gMS4wIC8gbnVtTGF5ZXJzOwogICAgICAgICAgICAvLyBkZXB0aCBvZiBjdXJyZW50IGxheWVyCiAgICAgICAgICAgIGZsb2F0IGN1cnJlbnRMYXllckRlcHRoID0gMC4wOwogICAgICAgICAgICAvLyB0aGUgYW1vdW50IHRvIHNoaWZ0IHRoZSB0ZXh0dXJlIGNvb3JkaW5hdGVzIHBlciBsYXllciAoZnJvbSB2ZWN0b3IgUCkKICAgICAgICAgICAgdmVjMiBQID0gdmlld0Rpci54eSAvIHZpZXdEaXIueiAqIGhlaWdodF9zY2FsZTsKICAgICAgICAgICAgdmVjMiBkZWx0YVRleENvb3JkcyA9IFAgLyBudW1MYXllcnM7CgogICAgICAgICAgICAvLyBnZXQgaW5pdGlhbCB2YWx1ZXMKICAgICAgICAgICAgdmVjMiAgY3VycmVudFRleENvb3JkcyAgICAgPSB0ZXhDb29yZHM7CiAgICAgICAgICAgIGZsb2F0IGN1cnJlbnREZXB0aE1hcFZhbHVlID0gdGV4dHVyZShoZWlnaHRUZXh0dXJlLCBjdXJyZW50VGV4Q29vcmRzKS5yOwoKICAgICAgICAgICAgd2hpbGUoY3VycmVudExheWVyRGVwdGggPCBjdXJyZW50RGVwdGhNYXBWYWx1ZSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgLy8gc2hpZnQgdGV4dHVyZSBjb29yZGluYXRlcyBhbG9uZyBkaXJlY3Rpb24gb2YgUAogICAgICAgICAgICAgICAgY3VycmVudFRleENvb3JkcyAtPSBkZWx0YVRleENvb3JkczsKICAgICAgICAgICAgICAgIC8vIGdldCBkZXB0aG1hcCB2YWx1ZSBhdCBjdXJyZW50IHRleHR1cmUgY29vcmRpbmF0ZXMKICAgICAgICAgICAgICAgIGN1cnJlbnREZXB0aE1hcFZhbHVlID0gdGV4dHVyZShoZWlnaHRUZXh0dXJlLCBjdXJyZW50VGV4Q29vcmRzKS5yOwogICAgICAgICAgICAgICAgLy8gZ2V0IGRlcHRoIG9mIG5leHQgbGF5ZXIKICAgICAgICAgICAgICAgIGN1cnJlbnRMYXllckRlcHRoICs9IGxheWVyRGVwdGg7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIGdldCB0ZXh0dXJlIGNvb3JkaW5hdGVzIGJlZm9yZSBjb2xsaXNpb24gKHJldmVyc2Ugb3BlcmF0aW9ucykKICAgICAgICAgICAgdmVjMiBwcmV2VGV4Q29vcmRzID0gY3VycmVudFRleENvb3JkcyArIGRlbHRhVGV4Q29vcmRzOwoKICAgICAgICAgICAgLy8gZ2V0IGRlcHRoIGFmdGVyIGFuZCBiZWZvcmUgY29sbGlzaW9uIGZvciBsaW5lYXIgaW50ZXJwb2xhdGlvbgogICAgICAgICAgICBmbG9hdCBhZnRlckRlcHRoICA9IGN1cnJlbnREZXB0aE1hcFZhbHVlIC0gY3VycmVudExheWVyRGVwdGg7CiAgICAgICAgICAgIGZsb2F0IGJlZm9yZURlcHRoID0gdGV4dHVyZShoZWlnaHRUZXh0dXJlLCBwcmV2VGV4Q29vcmRzKS5yIC0gY3VycmVudExheWVyRGVwdGggKyBsYXllckRlcHRoOwoKICAgICAgICAgICAgLy8gaW50ZXJwb2xhdGlvbiBvZiB0ZXh0dXJlIGNvb3JkaW5hdGVzCiAgICAgICAgICAgIGZsb2F0IHdlaWdodCA9IGFmdGVyRGVwdGggLyAoYWZ0ZXJEZXB0aCAtIGJlZm9yZURlcHRoKTsKICAgICAgICAgICAgdmVjMiBmaW5hbFRleENvb3JkcyA9IHByZXZUZXhDb29yZHMgKiB3ZWlnaHQgKyBjdXJyZW50VGV4Q29vcmRzICogKDEuMCAtIHdlaWdodCk7CgogICAgICAgICAgICByZXR1cm4gZmluYWxUZXhDb29yZHM7CiAgICAgICAgfQoKICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgLy8gRWFzeSB0cmljayB0byBnZXQgdGFuZ2VudC1ub3JtYWxzIHRvIHdvcmxkLXNwYWNlIHRvIGtlZXAgUEJSIGNvZGUgc2ltcGxpZmllZC4KICAgICAgICAvLyBEb24ndCB3b3JyeSBpZiB5b3UgZG9uJ3QgZ2V0IHdoYXQncyBnb2luZyBvbjsgeW91IGdlbmVyYWxseSB3YW50IHRvIGRvIG5vcm1hbAogICAgICAgIC8vIG1hcHBpbmcgdGhlIHVzdWFsIHdheSBmb3IgcGVyZm9ybWFuY2UgYW53YXlzOyBJIGRvIHBsYW4gbWFrZSBhIG5vdGUgb2YgdGhpcwogICAgICAgIC8vIHRlY2huaXF1ZSBzb21ld2hlcmUgbGF0ZXIgaW4gdGhlIG5vcm1hbCBtYXBwaW5nIHR1dG9yaWFsLgogICAgICAgIHZlYzMgZ2V0Tm9ybWFsRnJvbU1hcCggdmVjMiB0ZXhDb29yZHMgKQogICAgICAgIHsKICAgICAgICAgICAgLy8gcmV0dXJuIHZfbm9ybTsKICAgICAgICAgICAgLy8gdmVjMyB0YW5nZW50Tm9ybWFsID0gdGV4dHVyZShub3JtYWxUZXh0dXJlLCB0ZXhDb29yZHMpLnh5eiAqIDIuMCAtIDEuMDsKCiAgICAgICAgICAgIC8vIHZlYzMgUTEgID0gZEZkeChQb3NpdGlvbl93b3JsZHNwYWNlKTsKICAgICAgICAgICAgLy8gdmVjMyBRMiAgPSBkRmR5KFBvc2l0aW9uX3dvcmxkc3BhY2UpOwogICAgICAgICAgICAvLyB2ZWMyIHN0MSA9IGRGZHgodGV4Q29vcmRzKTsKICAgICAgICAgICAgLy8gdmVjMiBzdDIgPSBkRmR5KHRleENvb3Jkcyk7CgogICAgICAgICAgICAvLyB2ZWMzIE4gID0gbm9ybWFsaXplKHZfbm9ybSk7CiAgICAgICAgICAgIC8vIHZlYzMgVCAgPSBub3JtYWxpemUoUTEqc3QyLnQgLSBRMipzdDEudCk7CiAgICAgICAgICAgIC8vIHZlYzMgQiAgPSBub3JtYWxpemUoY3Jvc3MoTiwgVCkpOwoKICAgICAgICAgICAgLy8gbWF0MyBUQk4gPSBtYXQzKFQsIEIsIE4pOwoKICAgICAgICAgICAgLy8gcmV0dXJuIG5vcm1hbGl6ZShUQk4gKiB0YW5nZW50Tm9ybWFsKTsKCiAgICAgICAgICAgIHZlYzMgdGFuZ2VudE5vcm1hbCA9IHRleHR1cmUobm9ybWFsVGV4dHVyZSwgdGV4Q29vcmRzKS54eXogKiAyLjAgLSAxLjA7CiAgICAgICAgICAgIG1hdDMgVEJOID0gbWF0Myh2X3Rhbiwgdl9iaXRhbiwgdl9ub3JtKTsKICAgICAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZShUQk4gKiB0YW5nZW50Tm9ybWFsKTsKICAgICAgICB9CgogICAgICAgIC8vIC0tLS0tLS0tLS0tLSBCUkRGIEZVTkNUSU9OUyAtLS0tLS0tLS0tLS0tCgogICAgICAgIHZlYzMgZnJlc25lbFNjaGxpY2soZmxvYXQgY29zVGhldGEsIHZlYzMgRjApCiAgICAgICAgewogICAgICAgICAgICByZXR1cm4gRjAgKyAoMS4wIC0gRjApICogcG93KDEuMCAtIGNvc1RoZXRhLCA1LjApOwogICAgICAgIH0KICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgdmVjMyBmcmVzbmVsU2NobGlja1JvdWdobmVzcyhmbG9hdCBjb3NUaGV0YSwgdmVjMyBGMCwgZmxvYXQgcm91Z2huZXNzKQogICAgICAgIHsKICAgICAgICAgICAgcmV0dXJuIEYwICsgKG1heCh2ZWMzKDEuMCAtIHJvdWdobmVzcyksIEYwKSAtIEYwKSAqIHBvdygxLjAgLSBjb3NUaGV0YSwgNS4wKTsKICAgICAgICB9CgogICAgICAgIGZsb2F0IERpc3RyaWJ1dGlvbkdHWCggdmVjMyBOLCB2ZWMzIEgsIGZsb2F0IHJvdWdobmVzcyApIHsKICAgICAgICAgICAgZmxvYXQgYSA9IHJvdWdobmVzcypyb3VnaG5lc3M7CiAgICAgICAgICAgIGZsb2F0IGEyID0gYSphOwogICAgICAgICAgICBmbG9hdCBOZG90SCA9IG1heCggZG90KCBOLCBIICksIDAuMCApOwogICAgICAgICAgICBmbG9hdCBOZG90SDIgPSBOZG90SCpOZG90SDsKCiAgICAgICAgICAgIGZsb2F0IG5vbSA9IGEyOwogICAgICAgICAgICBmbG9hdCBkZW5vbSA9ICggTmRvdEgyICogKCBhMiAtIDEuMCApICsgMS4wICk7CiAgICAgICAgICAgIGRlbm9tID0gUEkgKiBkZW5vbSAqIGRlbm9tOwoKICAgICAgICAgICAgcmV0dXJuIG5vbSAvIGRlbm9tOwogICAgICAgIH0KCiAgICAgICAgZmxvYXQgR2VvbWV0cnlTY2hsaWNrR0dYKCBmbG9hdCBOZG90ViwgZmxvYXQgcm91Z2huZXNzICkgewogICAgICAgICAgICBmbG9hdCByID0gKCByb3VnaG5lc3MgKyAxLjAgKTsKICAgICAgICAgICAgZmxvYXQgayA9ICggcipyICkgLyA4LjA7CgogICAgICAgICAgICBmbG9hdCBub20gPSBOZG90VjsKICAgICAgICAgICAgZmxvYXQgZGVub20gPSBOZG90ViAqICggMS4wIC0gayApICsgazsKCiAgICAgICAgICAgIHJldHVybiBub20gLyBkZW5vbTsKICAgICAgICB9CgogICAgICAgIGZsb2F0IEdlb21ldHJ5U21pdGgoIHZlYzMgTiwgdmVjMyBWLCB2ZWMzIEwsIGZsb2F0IHJvdWdobmVzcyApIHsKICAgICAgICAgICAgZmxvYXQgTmRvdFYgPSBtYXgoIGRvdCggTiwgViApLCAwLjAgKTsKICAgICAgICAgICAgZmxvYXQgTmRvdEwgPSBtYXgoIGRvdCggTiwgTCApLCAwLjAgKTsKICAgICAgICAgICAgZmxvYXQgZ2d4MiA9IEdlb21ldHJ5U2NobGlja0dHWCggTmRvdFYsIHJvdWdobmVzcyApOwogICAgICAgICAgICBmbG9hdCBnZ3gxID0gR2VvbWV0cnlTY2hsaWNrR0dYKCBOZG90TCwgcm91Z2huZXNzICk7CgogICAgICAgICAgICByZXR1cm4gZ2d4MSAqIGdneDI7CiAgICAgICAgfQoKICAgICAgICB2ZWMzIHJlbmRlcmluZ19lcXVhdGlvbiggdmVjMyBhbGJlZG8sIHZlYzMgTCwgdmVjMyBWLCB2ZWMzIE4sIHZlYzMgRjAsIGZsb2F0IHJhZGlhbmNlICkgewogICAgICAgICAgICB2ZWMzIEggPSBub3JtYWxpemUoIEwgKyBWICk7CiAgICAgICAgICAgIGZsb2F0IE5kb3RMID0gbWF4KCBkb3QoIE4sIEwgKSwgMC4wICk7CgogICAgICAgICAgICB2ZWMzIEYgPSBmcmVzbmVsU2NobGljayggbWF4KCBkb3QoIEgsIFYgKSwgMC4wICksIEYwICk7CgogICAgICAgICAgICBmbG9hdCBOREYgPSBEaXN0cmlidXRpb25HR1goIE4sIEgsIHJvdWdobmVzcyApOwogICAgICAgICAgICBmbG9hdCBHID0gR2VvbWV0cnlTbWl0aCggTiwgViwgTCwgcm91Z2huZXNzICk7CgogICAgICAgICAgICB2ZWMzIG5vbWluYXRvciA9IE5ERiAqIEcgKiBGOwogICAgICAgICAgICBmbG9hdCBkZW5vbWluYXRvciA9ICg0LjAgKiBtYXgoIGRvdCggTiwgViApLCAwLjAgKSAqIE5kb3RMKSArIDAuMDAwMDAxOwogICAgICAgICAgICB2ZWMzIHNwZWN1bGFyID0gbm9taW5hdG9yIC8gZGVub21pbmF0b3I7CgogICAgICAgICAgICB2ZWMzIGtTID0gRjsKICAgICAgICAgICAgdmVjMyBrRCA9IHZlYzMoIDEuMCApIC0ga1M7CgogICAgICAgICAgICBrRCAqPSAxLjAgLSBtZXRhbGxpYzsKCiAgICAgICAgICAgIHJldHVybiAoIChrRCAqIChhbGJlZG8ueHl6IC8gUEkpKSArIHNwZWN1bGFyICkgKiByYWRpYW5jZSAqIE5kb3RMOwogICAgICAgIH0KCiAgICAgICAgLy8gLS0tLS0tLS0tLS0tIEJSREYgRlVOQ1RJT05TIEVORCAtLS0tLS0tLS0tLS0tCgogICAgICAgICNkZWZpbmVfY29kZSBsaWdodF9jb2RlCgogICAgICAgICAgICB2ZWMzIEYwID0gdmVjMyggMC4wNCApOwogICAgICAgICAgICBGMCA9IG1peCggRjAsIGFsYmVkby54eXosIG1ldGFsbGljICk7CgogICAgICAgICAgICAvLyB2ZWMzIExvID0gdmVjMyggMC4wICk7CgogICAgICAgICAgICAvLyB2ZWMzIExfU3VuID0gbm9ybWFsaXplKCB1X3N1blBvc2l0aW9uIC0gUG9zaXRpb25fd29ybGRzcGFjZSApOwogICAgICAgICAgICAvLyBMbyArPSByZW5kZXJpbmdfZXF1YXRpb24oIGFsYmVkbywgTF9TdW4sIFYsIE4sIEYwLCAzLjAgKTsKCiAgICAgICAgLy8gZm9yICggaW50IGkgPSAwOyBpIDwgdV9udW1Qb2ludExpZ2h0czsgaSsrICkgewogICAgICAgIC8vICAgICB2ZWMzIHBsbWZyYWcgPSB1X3BvaW50TGlnaHRQb3NbaV0gLSBQb3NpdGlvbl93b3JsZHNwYWNlOwoKICAgICAgICAvLyAjaWZkZWYgc2hfbm90ZXh0dXJlCiAgICAgICAgLy8gICAgIHZlYzMgTCA9IG5vcm1hbGl6ZSggcGxtZnJhZyApOwogICAgICAgIC8vICAgICB2ZWMzIHNwb3RMaWdodEJlYW1EaXIgPSB1X3Nwb3RMaWdodEJlYW1EaXJbaV07CiAgICAgICAgLy8gI2Vsc2UKICAgICAgICAvLyAgICAgdmVjMyBMID0gaXRibiAqIG5vcm1hbGl6ZSggcGxtZnJhZyApOwogICAgICAgIC8vICAgICB2ZWMzIHNwb3RMaWdodEJlYW1EaXIgPSBpdGJuICogdV9zcG90TGlnaHRCZWFtRGlyW2ldOwogICAgICAgIC8vICNlbmRpZgoKICAgICAgICAvLyAgICAgLy8gU3BvdGxpZ2h0CiAgICAgICAgLy8gICAgIC8vZmxvYXQgdGhldGEgPSBkb3QoIEwsIHNwb3RMaWdodEJlYW1EaXIgKTsKICAgICAgICAvLyAgICAgLy9mbG9hdCBpbnRlbnNpdHkgPSAxLjA7CiAgICAgICAgLy8gICAgIC8vZmxvYXQgb3V0ZXJDdXRPZmYgPSAwLjg0OwogICAgICAgIC8vICAgICAvL2lmICggdGhldGEgPiBvdXRlckN1dE9mZiApIHsKICAgICAgICAvLyAgICAgLy8JLy8gc3BvdGxpZ2h0CiAgICAgICAgLy8gICAgIC8vCWZsb2F0IGVwc2lsb24gPSAwLjkwIC0gb3V0ZXJDdXRPZmY7CiAgICAgICAgLy8gICAgIC8vCWludGVuc2l0eSA9IGNsYW1wKCAoIHRoZXRhIC0gb3V0ZXJDdXRPZmYgKSAvIGVwc2lsb24sIDAuMCwgMS4wICk7CiAgICAgICAgLy8gICAgIC8vCS8vIEF0dGVudWF0aW9uCiAgICAgICAgLy8gICAgIC8vCWZsb2F0IGRpc3RhbmNlID0gbGVuZ3RoKCBwbG1mcmFnICk7CiAgICAgICAgLy8gICAgIC8vCWZsb2F0IGF0dGVudWF0aW9uID0gMS4wIC8gKCB1X3BvaW50TGlnaHRBdHRlbnVhdGlvbltpXS54ICsgdV9wb2ludExpZ2h0QXR0ZW51YXRpb25baV0ueSAqIGRpc3RhbmNlICsgdV9wb2ludExpZ2h0QXR0ZW51YXRpb25baV0ueiAqICggZGlzdGFuY2UgKiBkaXN0YW5jZSApICk7CiAgICAgICAgLy8gICAgIC8vCWRpZmZ1c2VWYWx1ZSArPSBtYXgoIGRvdCggTiwgTCApICogaW50ZW5zaXR5ICogdV9wb2ludExpZ2h0SW50ZW5zaXR5W2ldLnggKiBhdHRlbnVhdGlvbiwgMC4wICk7CiAgICAgICAgLy8gICAgIC8vfQoKICAgICAgICAvLyAgICAgLy8gUG9pbnRsaWdodAogICAgICAgIC8vICAgICBmbG9hdCBkaXN0YW5jZSA9IGxlbmd0aCggcGxtZnJhZyApOwogICAgICAgIC8vICAgICBmbG9hdCBhdHRlbnVhdGlvbiA9IDEuMCAvICggdV9wb2ludExpZ2h0QXR0ZW51YXRpb25baV0ueCArIHVfcG9pbnRMaWdodEF0dGVudWF0aW9uW2ldLnkgKiBkaXN0YW5jZSArIHVfcG9pbnRMaWdodEF0dGVudWF0aW9uW2ldLnogKiAoIGRpc3RhbmNlICogZGlzdGFuY2UgKSApOwogICAgICAgIC8vICAgICBmbG9hdCByYWRpYW5jZSA9IHVfcG9pbnRMaWdodEludGVuc2l0eVtpXS54ICogYXR0ZW51YXRpb247Ly8gKnBvdyggdmlzaWJpbGl0eSwgNCApOwoKICAgICAgICAvLyAgICAgTG8gKz0gcmVuZGVyaW5nX2VxdWF0aW9uKCBhbGJlZG8sIEwsIFYsIE4sIEYwLCByYWRpYW5jZSApOwogICAgICAgIC8vIH0KCiAgICAgICAgLy8gICAgTG8gKj0gdl9jb2xvcjsKCiAgICAgICAgI2VuZF9jb2RlCgogICAgICAgICNkZWZpbmVfY29kZSBzaGFkb3dfY29kZQogICAgICAgIGZsb2F0IHZpc2liaWxpdHkgPSAxLjA7CiAgICAgICAgIGlmICggZG90KCBOLCBub3JtYWxpemUoIHVfc3VuUG9zaXRpb24gLSBQb3NpdGlvbl93b3JsZHNwYWNlICkgKSA+IDAuMjUgKSAgewogICAgICAgICAgICBmb3IgKCBpbnQgaSA9IDA7IGkgPCA0OyBpKysgKSB7CiAgICAgICAgICAgICAgICBpbnQgaW5kZXggPSBpOy8vIGludCggMTYuMCpyYW5kb20oIHZlYzQoIGdsX0ZyYWdDb29yZC54eXksIGkgKSApICkgJSAxNjsKICAgICAgICAgICAgICAgIHZpc2liaWxpdHkgKz0gdGV4dHVyZSggc2hhZG93TWFwVGV4dHVyZSwgdmVjMyggdl9zaGFkb3dtYXBfY29vcmQzLnh5ICsgcG9pc3NvbkRpc2tbaW5kZXhdIC8gNDA5Ni4wLCB2X3NoYWRvd21hcF9jb29yZDMueiApICkgKiAwLjI1Oy8vICogdV90aW1lT2ZUaGVEYXk7CiAgICAgICAgICAgIH0KICAgICAgICAgfQogICAgICAgICNlbmRfY29kZQoKICAgICAgICAjZGVmaW5lX2NvZGUgZmluYWxfY29tYmluZQoKICAgICAgICBmbG9hdCBuZG90bCA9IG1heChkb3QoTiwgViksIDAuMCk7CiAgICAgICAgdmVjMyBGID0gZnJlc25lbFNjaGxpY2tSb3VnaG5lc3MobmRvdGwsIEYwLCByb3VnaG5lc3MpOwogICAgICAgIC8vdmVjMyBGID0gZnJlc25lbFNjaGxpY2sobWF4KGRvdChOLCBWKSwgMC4wKSwgRjApOwoKICAgICAgICB2ZWMzIGtTID0gRjsKICAgICAgICB2ZWMzIGtEID0gMS4wIC0ga1M7CiAgICAgICAga0QgKj0gMS4wIC0gbWV0YWxsaWM7CgogICAgICAgIHZlYzMgaXJyYWRpYW5jZSA9IHRleHR1cmUoaWJsX2lycmFkaWFuY2VNYXAsIE4pLnJnYjsKICAgICAgICBmbG9hdCBnciA9IGlycmFkaWFuY2UuciAqIDAuMyArIGlycmFkaWFuY2UuZyAqIDAuNTkgKyBpcnJhZGlhbmNlLmIgKiAwLjExOwogICAgICAgIGlycmFkaWFuY2UucmdiID0gdmVjMyhncik7CiAgICAgICAgdmVjMyBhb0xpZ2h0bWFwQ29sb3IgPSB0ZXh0dXJlKGxpZ2h0bWFwVGV4dHVyZSwgdl90ZXhDb29yZDIpLnJnYjsKICAgICAgICB2ZWMzIGRpZmZ1c2VWICAgPSAoaXJyYWRpYW5jZSAqIDUuMCAqIChhbGJlZG8gLyAxLjBmKSApOwoKICAgICAgICAvLyBzYW1wbGUgYm90aCB0aGUgcHJlLWZpbHRlciBtYXAgYW5kIHRoZSBCUkRGIGx1dCBhbmQgY29tYmluZSB0aGVtIHRvZ2V0aGVyIGFzIHBlciB0aGUgU3BsaXQtU3VtIGFwcHJveGltYXRpb24gdG8gZ2V0IHRoZSBJQkwgc3BlY3VsYXIgcGFydC4KICAgICAgICBjb25zdCBmbG9hdCBNQVhfUkVGTEVDVElPTl9MT0QgPSA2LjA7CiAgICAgICAgdmVjMyBSID0gcmVmbGVjdCgtViwgTik7CiAgICAgICAgdmVjMyBwcmVmaWx0ZXJlZENvbG9yID0gdGV4dHVyZUxvZChpYmxfc3BlY3VsYXJNYXAsIFIsIHJvdWdobmVzcyAqIE1BWF9SRUZMRUNUSU9OX0xPRCkucmdiOwogICAgICAgIGdyID0gcHJlZmlsdGVyZWRDb2xvci5yICogMC4zICsgcHJlZmlsdGVyZWRDb2xvci5nICogMC41OSArIHByZWZpbHRlcmVkQ29sb3IuYiAqIDAuMTE7CiAgICAgICAgcHJlZmlsdGVyZWRDb2xvci5yZ2IgPSB2ZWMzKGdyKTsKICAgICAgICB2ZWMyIGJyZGYgID0gdGV4dHVyZShpYmxfYnJkZkxVVE1hcCwgdmVjMiggbmRvdGwsIHJvdWdobmVzcykpLnJnOwogICAgICAgIHZlYzMgc3BlY3VsYXIgPSBwcmVmaWx0ZXJlZENvbG9yICogKEYgKiBicmRmLnggKyBicmRmLnkpOwogICAgICAgIC8vIHNwZWN1bGFyID0gcG93KHNwZWN1bGFyLCB2ZWMzKDIuMi8xLjApKTsgCgogICAgICAgIHZlYzMgYW1iaWVudCA9IChrRCAqIGRpZmZ1c2VWICsgc3BlY3VsYXIpICogdmlzaWJpbGl0eSAqIGFvOy8vICogcG93KGFvTGlnaHRtYXBDb2xvciwgdmVjMyg4LjIpKTsvLyAqIHZpc2liaWxpdHk7Ly87CiAgICAgICAgLy8gdmVjMyBhbWJpZW50ID0gKGtEICk7CgogICAgICAgIC8vdmVjMyBmaW5hbENvbG9yID0gKExvICogdmlzaWJpbGl0eSkgKyBhbWJpZW50OwogICAgICAgIHZlYzMgZmluYWxDb2xvciA9IGFtYmllbnQ7Ly9wb3coYW9MaWdodG1hcENvbG9yLCB2ZWMzKDguMikpOy8vTiowLjUrMC41Oy8vdl90ZXhDb29yZC54eXg7Ly87Ly9wcmVmaWx0ZXJlZENvbG9yOy8vdmVjMyhicmRmLCAxLjApOy8vYW1iaWVudDsvL3ZlYzModGV4dHVyZShtZXRhbGxpY1RleHR1cmUsIHZfdGV4Q29vcmQpLnJycik7Ly8oTiArIHZlYzMoMS4wKSApICogdmVjMygwLjUpOzsvL2lycmFkaWFuY2U7Ly8gYW1iaWVudDsvLyBwcmVmaWx0ZXJlZENvbG9yOy8vKFYgKyB2ZWMzKDEuMCkgKSAqIHZlYzMoMC41KTsvL2FtYmllbnQ7IC8vc3BlY3VsYXI7Ly92ZWMzKGJyZGYueHksIDAuMCk7CgogICAgICAgIGZpbmFsQ29sb3IgPSBmaW5hbENvbG9yIC8gKCBmaW5hbENvbG9yICsgdmVjMygxLjApKTsKICAgICAgICAvLyBmaW5hbENvbG9yID0gcG93KGZpbmFsQ29sb3IsIHZlYzMoMi4yLzEuMCkpOyAKCiAgICAgICAgRnJhZ0NvbG9yID0gdmVjNCggZmluYWxDb2xvciwgb3BhY2l0eSAqIGFscGhhICk7CgogICAgICAgIC8vCUJsb29tQ29sb3IgPSB2ZWM0KCAoIGluY2FuZGVzY2VuY2VDb2xvciAqIGluY2FuZGVzY2VuY2VGYWN0b3IgKSArIG1heCh2aXNpYmlsaXR5LTEuNywgMC4wKSwgMS4wICk7CiAgICAgICAgQmxvb21Db2xvciA9IHZlYzQoICggaW5jYW5kZXNjZW5jZUNvbG9yICogaW5jYW5kZXNjZW5jZUZhY3RvciAqIGZpbmFsQ29sb3IgKSwgMS4wICk7Ci8vICAgICAgICBCbG9vbUNvbG9yID0gdmVjNCggZmluYWxDb2xvcioyLCAxLjAgKTsKCiAgICAgICAgI2VuZF9jb2RlCiAgICA"},
{ "plain_sh_notexture.fsh", "I2luY2x1ZGUgInBsYWluX3NoX2NvbW1vbi5nbHNsIgoKICAgICAgICNkZWZpbmUgc2hfbm90ZXh0dXJlCgogICAgICAgdm9pZCBtYWluKCkgewogICAgICAgICAgIGFvID0gYW9WOwogICAgICAgICAgIHJvdWdobmVzcyA9IHJvdWdobmVzc1Y7CiAgICAgICAgICAgbWV0YWxsaWMgPSBtZXRhbGxpY1Y7CiAgICAgICAgICAgdmVjMyBhbGJlZG8gPSBkaWZmdXNlQ29sb3I7CiAgICAgICAgICAgdmVjMyBOID0gbm9ybWFsaXplKCB2X25vcm0gKTsKICAgICAgICAgICB2ZWMzIFYgPSBub3JtYWxpemUoIHVfZXllUG9zIC0gUG9zaXRpb25fd29ybGRzcGFjZSApOwoKICAgICAgICAgICBzaGFkb3dfY29kZQoKICAgICAgICAgICBsaWdodF9jb2RlCgogICAgICAgICAgIGZpbmFsX2NvbWJpbmUKICAgICAgIH0KICAgIA"},
{ "shadowmap.fsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCgogICAgICAgbGF5b3V0KGxvY2F0aW9uID0gMCkgb3V0IGZsb2F0IEZyYWdEZXB0aDsKICAgICAgIC8vbGF5b3V0KGxvY2F0aW9uID0gMCkgb3V0IHZlYzQgRnJhZ0RlcHRoOwoKICAgICAgIHZvaWQgbWFpbigpIHsKICAgICAgICAgICBGcmFnRGVwdGggPSBnbF9GcmFnQ29vcmQuejsKICAgICAgICAgICAvL0ZyYWdEZXB0aCA9IHZlYzQoZ2xfRnJhZ0Nvb3JkLnosIGdsX0ZyYWdDb29yZC56LCBnbF9GcmFnQ29vcmQueiwgMS4wKTsvL2dsX0ZyYWdDb29yZC56OwogICAgICAgICAgIC8vCUZyYWdEZXB0aCA9IHZlYzQoMC41LCAwLjUsIDAuNSwgMS4wKTsvL2dsX0ZyYWdDb29yZC56OwogICAgICAgfQogICAg"},
{ "shadowmap.vsh", "I2luY2x1ZGUgImxheW91dF9wb3MzZC5nbHNsIgogICAgICAgI2luY2x1ZGUgImxpZ2h0aW5nX3VuaWZvcm1zLmdsc2wiCgogICAgICAgdW5pZm9ybSBtYXQ0IHVfbW9kZWxNYXRyaXg7CgogICAgICAgdm9pZCBtYWluKCkgewogICAgICAgICAgIGdsX1Bvc2l0aW9uID0gdV9tdnBTaGFkb3dNYXAgKiB1X21vZGVsTWF0cml4ICogdmVjNCggYV9wb3NpdGlvbiwgMS4wICk7CiAgICAgICB9CiAgICA"},
{ "skybox.fsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCiNpbmNsdWRlICJsaWdodGluZ191bmlmb3Jtcy5nbHNsIgp1bmlmb3JtIGZsb2F0IHVfc3VuSERSTXVsdDsgCmluIHZlYzMgdl90ZXhDb29yZDsKb3V0IHZlYzQgY29sb3I7CgojZGVmaW5lIFBJIDMuMTQxNTkyCiNkZWZpbmUgaVN0ZXBzIDE2CiNkZWZpbmUgalN0ZXBzIDgKCnZlYzIgcnNpKHZlYzMgcjAsIHZlYzMgcmQsIGZsb2F0IHNyKSB7CiAgICAvLyByYXktc3BoZXJlIGludGVyc2VjdGlvbiB0aGF0IGFzc3VtZXMKICAgIC8vIHRoZSBzcGhlcmUgaXMgY2VudGVyZWQgYXQgdGhlIG9yaWdpbi4KICAgIC8vIE5vIGludGVyc2VjdGlvbiB3aGVuIHJlc3VsdC54ID4gcmVzdWx0LnkKICAgIGZsb2F0IGEgPSBkb3QocmQsIHJkKTsKICAgIGZsb2F0IGIgPSAyLjAgKiBkb3QocmQsIHIwKTsKICAgIGZsb2F0IGMgPSBkb3QocjAsIHIwKSAtIChzciAqIHNyKTsKICAgIGZsb2F0IGQgPSAoYipiKSAtIDQuMCphKmM7CiAgICBpZiAoZCA8IDAuMCkgcmV0dXJuIHZlYzIoMWU1LC0xZTUpOwogICAgcmV0dXJuIHZlYzIoCiAgICAgICAgKC1iIC0gc3FydChkKSkvKDIuMCphKSwKICAgICAgICAoLWIgKyBzcXJ0KGQpKS8oMi4wKmEpCiAgICApOwp9Cgp2ZWMzIGF0bW9zcGhlcmUodmVjMyByLCB2ZWMzIHIwLCB2ZWMzIHBTdW4sIGZsb2F0IGlTdW4sIGZsb2F0IHJQbGFuZXQsIGZsb2F0IHJBdG1vcywgdmVjMyBrUmxoLCBmbG9hdCBrTWllLCBmbG9hdCBzaFJsaCwgZmxvYXQgc2hNaWUsIGZsb2F0IGcpIHsKICAgIC8vIE5vcm1hbGl6ZSB0aGUgc3VuIGFuZCB2aWV3IGRpcmVjdGlvbnMuCiAgICBwU3VuID0gbm9ybWFsaXplKHBTdW4pOwogICAgciA9IG5vcm1hbGl6ZShyKTsKCiAgICAvLyBDYWxjdWxhdGUgdGhlIHN0ZXAgc2l6ZSBvZiB0aGUgcHJpbWFyeSByYXkuCiAgICB2ZWMyIHAgPSByc2kocjAsIHIsIHJBdG1vcyk7CiAgICBpZiAocC54ID4gcC55KSByZXR1cm4gdmVjMygwLDAsMCk7CiAgICBwLnkgPSBtaW4ocC55LCByc2kocjAsIHIsIHJQbGFuZXQpLngpOwogICAgZmxvYXQgaVN0ZXBTaXplID0gKHAueSAtIHAueCkgLyBmbG9hdChpU3RlcHMpOwoKICAgIC8vIEluaXRpYWxpemUgdGhlIHByaW1hcnkgcmF5IHRpbWUuCiAgICBmbG9hdCBpVGltZSA9IDAuMDsKCiAgICAvLyBJbml0aWFsaXplIGFjY3VtdWxhdG9ycyBmb3IgUmF5bGVpZ2ggYW5kIE1pZSBzY2F0dGVyaW5nLgogICAgdmVjMyB0b3RhbFJsaCA9IHZlYzMoMCwwLDApOwogICAgdmVjMyB0b3RhbE1pZSA9IHZlYzMoMCwwLDApOwoKICAgIC8vIEluaXRpYWxpemUgb3B0aWNhbCBkZXB0aCBhY2N1bXVsYXRvcnMgZm9yIHRoZSBwcmltYXJ5IHJheS4KICAgIGZsb2F0IGlPZFJsaCA9IDAuMDsKICAgIGZsb2F0IGlPZE1pZSA9IDAuMDsKCiAgICAvLyBDYWxjdWxhdGUgdGhlIFJheWxlaWdoIGFuZCBNaWUgcGhhc2VzLgogICAgZmxvYXQgbXUgPSBkb3QociwgcFN1bik7CiAgICBmbG9hdCBtdW11ID0gbXUgKiBtdTsKICAgIGZsb2F0IGdnID0gZyAqIGc7CiAgICBmbG9hdCBwUmxoID0gMy4wIC8gKDE2LjAgKiBQSSkgKiAoMS4wICsgbXVtdSk7CiAgICBmbG9hdCBwTWllID0gMy4wIC8gKDguMCAqIFBJKSAqICgoMS4wIC0gZ2cpICogKG11bXUgKyAxLjApKSAvIChwb3coMS4wICsgZ2cgLSAyLjAgKiBtdSAqIGcsIDEuNSkgKiAoMi4wICsgZ2cpKTsKCiAgICAvLyBTYW1wbGUgdGhlIHByaW1hcnkgcmF5LgogICAgZm9yIChpbnQgaSA9IDA7IGkgPCBpU3RlcHM7IGkrKykgewoKICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIHByaW1hcnkgcmF5IHNhbXBsZSBwb3NpdGlvbi4KICAgICAgICB2ZWMzIGlQb3MgPSByMCArIHIgKiAoaVRpbWUgKyBpU3RlcFNpemUgKiAwLjUpOwoKICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIGhlaWdodCBvZiB0aGUgc2FtcGxlLgogICAgICAgIGZsb2F0IGlIZWlnaHQgPSBsZW5ndGgoaVBvcykgLSByUGxhbmV0OwoKICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIG9wdGljYWwgZGVwdGggb2YgdGhlIFJheWxlaWdoIGFuZCBNaWUgc2NhdHRlcmluZyBmb3IgdGhpcyBzdGVwLgogICAgICAgIGZsb2F0IG9kU3RlcFJsaCA9IGV4cCgtaUhlaWdodCAvIHNoUmxoKSAqIGlTdGVwU2l6ZTsKICAgICAgICBmbG9hdCBvZFN0ZXBNaWUgPSBleHAoLWlIZWlnaHQgLyBzaE1pZSkgKiBpU3RlcFNpemU7CgogICAgICAgIC8vIEFjY3VtdWxhdGUgb3B0aWNhbCBkZXB0aC4KICAgICAgICBpT2RSbGggKz0gb2RTdGVwUmxoOwogICAgICAgIGlPZE1pZSArPSBvZFN0ZXBNaWU7CgogICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgc3RlcCBzaXplIG9mIHRoZSBzZWNvbmRhcnkgcmF5LgogICAgICAgIGZsb2F0IGpTdGVwU2l6ZSA9IHJzaShpUG9zLCBwU3VuLCByQXRtb3MpLnkgLyBmbG9hdChqU3RlcHMpOwoKICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBzZWNvbmRhcnkgcmF5IHRpbWUuCiAgICAgICAgZmxvYXQgalRpbWUgPSAwLjA7CgogICAgICAgIC8vIEluaXRpYWxpemUgb3B0aWNhbCBkZXB0aCBhY2N1bXVsYXRvcnMgZm9yIHRoZSBzZWNvbmRhcnkgcmF5LgogICAgICAgIGZsb2F0IGpPZFJsaCA9IDAuMDsKICAgICAgICBmbG9hdCBqT2RNaWUgPSAwLjA7CgogICAgICAgIC8vIFNhbXBsZSB0aGUgc2Vjb25kYXJ5IHJheS4KICAgICAgICBmb3IgKGludCBqID0gMDsgaiA8IGpTdGVwczsgaisrKSB7CgogICAgICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIHNlY29uZGFyeSByYXkgc2FtcGxlIHBvc2l0aW9uLgogICAgICAgICAgICB2ZWMzIGpQb3MgPSBpUG9zICsgcFN1biAqIChqVGltZSArIGpTdGVwU2l6ZSAqIDAuNSk7CgogICAgICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIGhlaWdodCBvZiB0aGUgc2FtcGxlLgogICAgICAgICAgICBmbG9hdCBqSGVpZ2h0ID0gbGVuZ3RoKGpQb3MpIC0gclBsYW5ldDsKCiAgICAgICAgICAgIC8vIEFjY3VtdWxhdGUgdGhlIG9wdGljYWwgZGVwdGguCiAgICAgICAgICAgIGpPZFJsaCArPSBleHAoLWpIZWlnaHQgLyBzaFJsaCkgKiBqU3RlcFNpemU7CiAgICAgICAgICAgIGpPZE1pZSArPSBleHAoLWpIZWlnaHQgLyBzaE1pZSkgKiBqU3RlcFNpemU7CgogICAgICAgICAgICAvLyBJbmNyZW1lbnQgdGhlIHNlY29uZGFyeSByYXkgdGltZS4KICAgICAgICAgICAgalRpbWUgKz0galN0ZXBTaXplOwogICAgICAgIH0KCiAgICAgICAgLy8gQ2FsY3VsYXRlIGF0dGVudWF0aW9uLgogICAgICAgIHZlYzMgYXR0biA9IGV4cCgtKGtNaWUgKiAoaU9kTWllICsgak9kTWllKSArIGtSbGggKiAoaU9kUmxoICsgak9kUmxoKSkpOwoKICAgICAgICAvLyBBY2N1bXVsYXRlIHNjYXR0ZXJpbmcuCiAgICAgICAgdG90YWxSbGggKz0gb2RTdGVwUmxoICogYXR0bjsKICAgICAgICB0b3RhbE1pZSArPSBvZFN0ZXBNaWUgKiBhdHRuOwoKICAgICAgICAvLyBJbmNyZW1lbnQgdGhlIHByaW1hcnkgcmF5IHRpbWUuCiAgICAgICAgaVRpbWUgKz0gaVN0ZXBTaXplOwoKICAgIH0KCiAgICAvLyBDYWxjdWxhdGUgYW5kIHJldHVybiB0aGUgZmluYWwgY29sb3IuCiAgICByZXR1cm4gaVN1biAqIChwUmxoICoga1JsaCAqIHRvdGFsUmxoICsgcE1pZSAqIGtNaWUgKiB0b3RhbE1pZSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIHZlYzMgbGlnaHRfcG9zID0gbm9ybWFsaXplKCAtdV9zdW5EaXJlY3Rpb24gKS54eXo7CgogICAgY29sb3IueHl6ID0gYXRtb3NwaGVyZSgKICAgICAgICBub3JtYWxpemUodl90ZXhDb29yZCksICAgICAgICAgIC8vIG5vcm1hbGl6ZWQgcmF5IGRpcmVjdGlvbgogICAgICAgIHZlYzMoMCw2MzcyZTMsMCksICAgICAgICAgICAgICAgLy8gcmF5IG9yaWdpbgogICAgICAgIC1saWdodF9wb3MsICAgICAgICAgICAgICAgICAgICAgLy8gcG9zaXRpb24gb2YgdGhlIHN1bgogICAgICAgIDg5LjAsICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW50ZW5zaXR5IG9mIHRoZSBzdW4KICAgICAgICA2MzcxZTMsICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJhZGl1cyBvZiB0aGUgcGxhbmV0IGluIG1ldGVycwogICAgICAgIDY0NzFlMywgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmFkaXVzIG9mIHRoZSBhdG1vc3BoZXJlIGluIG1ldGVycwogICAgICAgIHZlYzMoNS41ZS02LCAxMy4wZS02LCAyMi40ZS02KSwgLy8gUmF5bGVpZ2ggc2NhdHRlcmluZyBjb2VmZmljaWVudAogICAgICAgIDUxZS02LCAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWllIHNjYXR0ZXJpbmcgY29lZmZpY2llbnQKICAgICAgICA4ZTMsICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJheWxlaWdoIHNjYWxlIGhlaWdodAogICAgICAgIDEuMmUzLCAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWllIHNjYWxlIGhlaWdodAogICAgICAgIDAuNzU4ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWllIHByZWZlcnJlZCBzY2F0dGVyaW5nIGRpcmVjdGlvbgogICAgKTsKCiAgICBjb2xvciA9IDEuMCAtIGV4cCgtMS4wICogY29sb3IqdV9zdW5IRFJNdWx0KjAuNSk7CiAgICBjb2xvci53ID0gMS4wOwogICAgcmV0dXJuOwp9Cg"},
{ "skybox.vsh", "I2luY2x1ZGUgImxheW91dF9wb3NfdGV4Y3ViZW1hcC5nbHNsIgojaW5jbHVkZSAiY2FtZXJhX3VuaWZvcm1zLmdsc2wiCgp2b2lkIG1haW4oKSB7CiAgICBtYXQ0IHZtX3plcm9kID0gdV92aWV3TWF0cml4OwogICAgdm1femVyb2RbM10gPSB2ZWM0KCAwLjAsIDAuMCwgMC4wLCAxLjAgKTsKICAgIG1hdDQgdm0gPSB1X3Byb2pNYXRyaXggKiB2bV96ZXJvZDsKICAgIHZlYzQgcG9zNCA9IHZtICogdmVjNCggYV9wb3NpdGlvbiwgMS4wICk7CiAgICBnbF9Qb3NpdGlvbiA9IHBvczQueHl3dzsKICAgIHZfdGV4Q29vcmQgPSBhX3Bvc2l0aW9uLnh5ejsKfQogICAg"},
{ "vertex_shader_2d_c.vsh", "I2luY2x1ZGUgImxheW91dF9wb3MzZC5nbHNsIgogICAgICAgI2luY2x1ZGUgImNhbWVyYV91bmlmb3Jtcy5nbHNsIgogICAgICAgdW5pZm9ybSBtYXQ0IHVfbW9kZWxNYXRyaXg7CgogICAgICAgdm9pZCBtYWluKCkgewogICAgICAgZ2xfUG9zaXRpb24gPSB1X3NjcmVlblNwYWNlTWF0cml4ICogdV9tb2RlbE1hdHJpeCAqIHZlYzQoIGFfcG9zaXRpb24sIDEuMCApOwogICAgICAgfQogICAg"},
{ "vertex_shader_2d_font.vsh", "I2luY2x1ZGUgImxheW91dF9mb250Lmdsc2wiCiAgICAgICAjaW5jbHVkZSAiY2FtZXJhX3VuaWZvcm1zLmdsc2wiCgogICAgICAgdW5pZm9ybSBtYXQ0IHVfbW9kZWxNYXRyaXg7CgogICAgICAgdm9pZCBtYWluKCkgewogICAgICAgICAgIHRwb3MgPSB2ZWMzKCBhX3QxLngqMC41LCBtYXgoIGFfdDEueCAtIDEuMCwgMC4wICksIGFfdDEueSApOwogICAgICAgICAgIGdsX1Bvc2l0aW9uID0gdV9zY3JlZW5TcGFjZU1hdHJpeCAqIHVfbW9kZWxNYXRyaXggKiB2ZWM0KCBhX3Bvc2l0aW9uLCAxLjAgKTsKICAgICAgIH0KICAgIA"},
{ "vertex_shader_2d_t.vsh", "I2luY2x1ZGUgImxheW91dF9wb3NfdGV4M2QuZ2xzbCIKICAgICAgICNpbmNsdWRlICJjYW1lcmFfdW5pZm9ybXMuZ2xzbCIKCiAgICAgICB1bmlmb3JtIG1hdDQgdV9tb2RlbE1hdHJpeDsKCiAgICAgICB2b2lkIG1haW4oKSB7CiAgICAgICB2X3RleENvb3JkID0gYV90MTsKICAgICAgIGdsX1Bvc2l0aW9uID0gdV9zY3JlZW5TcGFjZU1hdHJpeCAqIHVfbW9kZWxNYXRyaXggKiB2ZWM0KCBhX3Bvc2l0aW9uLCAxLjAgKTsKICAgICAgIH0KICAgIA"},
{ "vertex_shader_3d_c.vsh", "I2luY2x1ZGUgImxheW91dF9wb3NfdGV4M2QuZ2xzbCIKI2luY2x1ZGUgImNhbWVyYV91bmlmb3Jtcy5nbHNsIgoKdW5pZm9ybSBtYXQ0IHVfbW9kZWxNYXRyaXg7Cgp2b2lkIG1haW4oKSB7CiAgICBnbF9Qb3NpdGlvbiA9IHVfbXZwTWF0cml4ICogdV9tb2RlbE1hdHJpeCAqIHZlYzQoIGFfcG9zaXRpb24sIDEuMCApOwp9Cg"},
{ "vertex_shader_3d_font.vsh", "I2luY2x1ZGUgImxheW91dF9mb250Lmdsc2wiCiAgICAgICAjaW5jbHVkZSAiY2FtZXJhX3VuaWZvcm1zLmdsc2wiCgogICAgICAgdW5pZm9ybSBtYXQ0IHVfbW9kZWxNYXRyaXg7CgogICAgICAgdm9pZCBtYWluKCkgewogICAgICAgdHBvcyA9IHZlYzMoIGFfdDEueCowLjUsIG1heCggYV90MS54IC0gMS4wLCAwLjAgKSwgYV90MS55ICk7CiAgICAgICBnbF9Qb3NpdGlvbiA9IHVfbXZwTWF0cml4ICogdV9tb2RlbE1hdHJpeCAqIHZlYzQoIGFfcG9zaXRpb24ueHl6LCAxLjAgKTsKICAgICAgIH0KICAgIA"},
{ "vertex_shader_3d_sh.vsh", "I2luY2x1ZGUgInZlcnRleF9zaGFkZXJfc2hfY29tbW9uLmdsc2wiCgp2b2lkIG1haW4oKSB7CiAgICAgICBtYXQzIG1vZGVsTWF0cml4M3gzID0gc2hWZXJ0ZXhEYXRhKCk7CgogICAgICAgdl9ub3JtID0gbm9ybWFsaXplKCBtb2RlbE1hdHJpeDN4MyAqIGFfdDIgKTsKICAgICAgIHZfdGFuID0gbm9ybWFsaXplKCBtb2RlbE1hdHJpeDN4MyAqIGFfdDMgKTsKICAgICAgIHZfYml0YW4gPSBub3JtYWxpemUoIG1vZGVsTWF0cml4M3gzICogYV90NCApOwoKICAgICAgIC8vIENoZWNrIGhhbmRuZXNzCiAgICAgICAvLwlpZiAoZG90KGNyb3NzKHZfbm9ybSwgdl90YW4pLCB2X2JpdGFuKSA8IDAuMCkgewogICAgICAgLy8JCXZfdGFuICo9IC0xLjA7CiAgICAgICAvLwl9CiAgICAvLyAgICBtYXQzIGl0Ym47CiAgICAvLyAgICBpdGJuWzBdID0gdl90YW47CiAgICAvLyAgICBpdGJuWzFdID0gdl9iaXRhbjsKICAgIC8vICAgIGl0Ym5bMl0gPSB2X25vcm07CiAgICAvLyAgICBpdGJuID0gdHJhbnNwb3NlKCBpdGJuICk7Cn0KICAgIA"},
{ "vertex_shader_3d_sh_notexture.vsh", "I2luY2x1ZGUgInZlcnRleF9zaGFkZXJfc2hfY29tbW9uLmdsc2wiCgp2b2lkIG1haW4oKSB7Cm1hdDMgbW9kZWxNYXRyaXgzeDMgPSBzaFZlcnRleERhdGEoKTsKCnZfbm9ybSA9IG5vcm1hbGl6ZSggbW9kZWxNYXRyaXgzeDMgKiBhX3QyICk7Cn0KICAgIA"},
{ "vertex_shader_3d_t.vsh", "I2luY2x1ZGUgImxheW91dF9wb3NfdGV4M2QuZ2xzbCIKICAgICAgICNpbmNsdWRlICJjYW1lcmFfdW5pZm9ybXMuZ2xzbCIKCiAgICAgICB1bmlmb3JtIG1hdDQgdV9tb2RlbE1hdHJpeDsKCiAgICAgICB2b2lkIG1haW4oKSB7CiAgICAgICB2X3RleENvb3JkID0gYV90MTsKICAgICAgIGdsX1Bvc2l0aW9uID0gdV9tdnBNYXRyaXggKiB1X21vZGVsTWF0cml4ICogdmVjNCggYV9wb3NpdGlvbiwgMS4wICk7CiAgICAgICB9CiAgICA"},
{ "vertex_shader_blitcopy.vsh", "I2luY2x1ZGUgImxheW91dF9wb3NfdGV4MmQuZ2xzbCIKCiAgICAgICB2b2lkIG1haW4oKSB7CiAgICAgICB2X3RleENvb3JkID0gYV90MTsKICAgICAgIGdsX1Bvc2l0aW9uID0gdmVjNCggYV9wb3NpdGlvbi54LCBhX3Bvc2l0aW9uLnksIDAuMCwgMS4wICk7CiAgICAgICB9CiAgICA"},
{ "vertex_shader_brdf.vsh", "I2luY2x1ZGUgImxheW91dF9wb3NfdGV4M2QuZ2xzbCIKCiAgICAgICB2b2lkIG1haW4oKQogICAgICAgewogICAgICAgdl90ZXhDb29yZCA9IGFfdDE7CiAgICAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoIGFfcG9zaXRpb24sIDEuMCApOwogICAgICAgfQogICAg"},
{ "vertex_shader_sh_common", "I2luY2x1ZGUgImxheW91dF9zaC5nbHNsIgojaW5jbHVkZSAiY2FtZXJhX3VuaWZvcm1zLmdsc2wiCiNpbmNsdWRlICJsaWdodGluZ191bmlmb3Jtcy5nbHNsIgojaW5jbHVkZSAiYW5pbWF0aW9uX3VuaWZvcm1zLmdsc2wiCnVuaWZvcm0gbWF0NCB1X21vZGVsTWF0cml4OwoKbWF0MyBzaFZlcnRleERhdGEoKSB7CiAgIHZlYzQgcG9zNCA9IHZlYzQoIGFfcG9zaXRpb24sIDEuMCApOwogICB2X3RleENvb3JkID0gYV90MTsKICAgdl90ZXhDb29yZDIgPSBhX3R1djI7CgogICAvLwltYXQzIG1vZGVsTWF0cml4M3gzID0gbWF0Myh0cmFuc3Bvc2UoaW52ZXJzZSh1X21vZGVsTWF0cml4KSkpOy8vbWF0MyggdV9tb2RlbE1hdHJpeCApOwogICBtYXQzIG1vZGVsTWF0cml4M3gzID0gbWF0MyggdV9tb2RlbE1hdHJpeCApOwoKICAgbW9kZWxNYXRyaXgzeDNbMF0gPSBub3JtYWxpemUoIG1vZGVsTWF0cml4M3gzWzBdICk7CiAgIG1vZGVsTWF0cml4M3gzWzFdID0gbm9ybWFsaXplKCBtb2RlbE1hdHJpeDN4M1sxXSApOwogICBtb2RlbE1hdHJpeDN4M1syXSA9IG5vcm1hbGl6ZSggbW9kZWxNYXRyaXgzeDNbMl0gKTsKCiAgIC8vIFBvc2l0aW9uIG9mIHRoZSB2ZXJ0ZXgsIGluIHdvcmxkc3BhY2UgOiBNICogcG9zaXRpb24KICAgUG9zaXRpb25fd29ybGRzcGFjZSA9ICggdV9tb2RlbE1hdHJpeCAqIHBvczQgKS54eXo7CgogICAvLyBTaGFkb3dtYXAKICAgdmVjNCB2X3NoYWRvd21hcF9jb29yZCA9IHVfZGVwdGhCaWFzTVZQICogdmVjNCggUG9zaXRpb25fd29ybGRzcGFjZSwgMS4wICk7CiAgIHZfc2hhZG93bWFwX2Nvb3JkLnogLT0gMC4wMTAwOwogICB2X3NoYWRvd21hcF9jb29yZDMgPSB2ZWMzKCB2X3NoYWRvd21hcF9jb29yZC54eSwgdl9zaGFkb3dtYXBfY29vcmQueiAvIHZfc2hhZG93bWFwX2Nvb3JkLncgKTsKCiAgIGdsX1Bvc2l0aW9uID0gdV9tdnBNYXRyaXggKiB1X21vZGVsTWF0cml4ICogcG9zNDsKCi8vICAgIHZfY29sb3IgPSB2ZWMzKCAwLjAgKTsKLy8gICAgdl9jb2xvci5yICs9IGRvdCggc2hMaWdodENvZWZmc1swXSwgc2hSMSApOwovLyAgICB2X2NvbG9yLnIgKz0gZG90KCBzaExpZ2h0Q29lZmZzWzFdLCBzaFIyICk7Ci8vICAgIHZfY29sb3IuciArPSBkb3QoIHNoTGlnaHRDb2VmZnNbMl0sIHNoUjMgKTsKCi8vICAgIHZfY29sb3IuZyArPSBkb3QoIHNoTGlnaHRDb2VmZnNbMF0sIHNoRzEgKTsKLy8gICAgdl9jb2xvci5nICs9IGRvdCggc2hMaWdodENvZWZmc1sxXSwgc2hHMiApOwovLyAgICB2X2NvbG9yLmcgKz0gZG90KCBzaExpZ2h0Q29lZmZzWzJdLCBzaEczICk7CgovLyAgICB2X2NvbG9yLmIgKz0gZG90KCBzaExpZ2h0Q29lZmZzWzBdLCBzaEIxICk7Ci8vICAgIHZfY29sb3IuYiArPSBkb3QoIHNoTGlnaHRDb2VmZnNbMV0sIHNoQjIgKTsKLy8gICAgdl9jb2xvci5iICs9IGRvdCggc2hMaWdodENvZWZmc1syXSwgc2hCMyApOwoKICAgdl90OCA9IGFfdDg7CgogICByZXR1cm4gbW9kZWxNYXRyaXgzeDM7Cn0KICAgIA"},
{ "wireframe.fsh", "I2luY2x1ZGUgInBsYWluX3NoX2NvbW1vbi5nbHNsIgojaW5jbHVkZSAidGV4dHVyZV9ub3RpbGUuZ2xzbCIKCmZsb2F0IGVkZ2VGYWN0b3JUcmkoKSB7CiAgICAgIHZlYzMgZCA9IGZ3aWR0aCggdl90OC54eXogKTsKICAgICAgdmVjMyBhMyA9IHNtb290aHN0ZXAoIHZlYzMoIDAuMCApLCBkICogMS41LCB2X3Q4Lnh5eiApOwogICAgICByZXR1cm4gbWluKCBtaW4oIGEzLngsIGEzLnkgKSwgYTMueiApOwp9Cgp2b2lkIG1haW4oKSB7CiAgIG1hdDMgaXRibjsKICAgaXRiblswXSA9IG5vcm1hbGl6ZSggdl90YW4gKTsgCiAgIGl0Ym5bMV0gPSBub3JtYWxpemUoIHZfYml0YW4gKTsKICAgaXRiblsyXSA9IG5vcm1hbGl6ZSggdl9ub3JtICk7CiAgIGl0Ym4gPSB0cmFuc3Bvc2UoIGl0Ym4gKTsKCiAgIHZlYzMgViA9IG5vcm1hbGl6ZSggdV9leWVQb3MgLSBQb3NpdGlvbl93b3JsZHNwYWNlICk7CgogICB2ZWMzIHRlID0gaXRibiAqIHVfZXllUG9zOwogICB2ZWMzIHR3ID0gaXRibiAqIFBvc2l0aW9uX3dvcmxkc3BhY2U7CiAgIHZlYzIgdGV4Q29vcmRzID0gdl90ZXhDb29yZDsvL1BhcmFsbGF4TWFwcGluZyh2X3RleENvb3JkLCBWKTsKCiAgIGFvID0gdGV4dHVyZSggYW9UZXh0dXJlLCB0ZXhDb29yZHMgKS54ICogYW9WOwogICByb3VnaG5lc3MgPSB0ZXh0dXJlKCByb3VnaG5lc3NUZXh0dXJlLCB0ZXhDb29yZHMgKS54ICogcm91Z2huZXNzVjsKICAgbWV0YWxsaWMgPSB0ZXh0dXJlKCBtZXRhbGxpY1RleHR1cmUsIHRleENvb3JkcyApLnggKiBtZXRhbGxpY1Y7CiAgIHZlYzMgYWxiZWRvID0gdGV4dHVyZSggZGlmZnVzZVRleHR1cmUsIHRleENvb3JkcyApLnh5eiAqIGRpZmZ1c2VDb2xvcjsKCiAgIC8vdmVjNCBub3JtYWxDb2wgPSB0ZXh0dXJlKCBub3JtYWxUZXh0dXJlLCB0ZXhDb29yZHMgKTsKICAgLy92ZWMzIE4gPSBub3JtYWxpemUoIG5vcm1hbENvbC5yZ2IqMi4wIC0gMS4wICk7CiAgIHZlYzMgTiA9IGdldE5vcm1hbEZyb21NYXAodGV4Q29vcmRzKTsKCiAgIHNoYWRvd19jb2RlCgogICBsaWdodF9jb2RlCgogICBmaW5hbF9jb21iaW5lCgogICBGcmFnQ29sb3IucmdiID0gbWl4KCB2ZWMzKCAxLjAgKSwgdmVjMyggRnJhZ0NvbG9yLnJnYiApLCBlZGdlRmFjdG9yVHJpKCkgKTsKICAgRnJhZ0NvbG9yLmEgPSAwLjU7CiAgIC8vQmxvb21Db2xvciA9IHZlYzQoMS4wKTsKfQo"},
{ "wireframe.gsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCiNpbmNsdWRlICJjYW1lcmFfdW5pZm9ybXMuZ2xzbCIKCmxheW91dCggdHJpYW5nbGVzICkgaW47CmxheW91dCggdHJpYW5nbGVfc3RyaXAsIG1heF92ZXJ0aWNlcyA9IDMgKSBvdXQ7Cm91dCB2ZWMzIEdOb3JtYWw7Cm91dCB2ZWMzIEdQb3NpdGlvbjsKbm9wZXJzcGVjdGl2ZSBvdXQgdmVjMyBHRWRnZURpc3RhbmNlOwppbiB2ZWMzIHZfbm9ybVtdOwppbiB2ZWMzIFBvc2l0aW9uX3dvcmxkc3BhY2VbXTsKdm9pZCBtYWluKCkKewogLy8gVHJhbnNmb3JtIGVhY2ggdmVydGV4IGludG8gdmlld3BvcnQgc3BhY2UKIHZlYzMgcDAgPSB2ZWMzKHVfcHJvak1hdHJpeCAqIChnbF9pblswXS5nbF9Qb3NpdGlvbiAvCiBnbF9pblswXS5nbF9Qb3NpdGlvbi53KSk7CiB2ZWMzIHAxID0gdmVjMyh1X3Byb2pNYXRyaXggKiAoZ2xfaW5bMV0uZ2xfUG9zaXRpb24gLwogZ2xfaW5bMV0uZ2xfUG9zaXRpb24udykpOwogdmVjMyBwMiA9IHZlYzModV9wcm9qTWF0cml4ICogKGdsX2luWzJdLmdsX1Bvc2l0aW9uIC8KIGdsX2luWzJdLmdsX1Bvc2l0aW9uLncpKTsKIC8vIEZpbmQgdGhlIGFsdGl0dWRlcyAoaGEsIGhiIGFuZCBoYykKIGZsb2F0IGEgPSBsZW5ndGgocDEgLSBwMik7CiBmbG9hdCBiID0gbGVuZ3RoKHAyIC0gcDApOwogZmxvYXQgYyA9IGxlbmd0aChwMSAtIHAwKTsKIGZsb2F0IGFscGhhID0gYWNvcyggKGIqYiArIGMqYyAtIGEqYSkgLyAoMi4wKmIqYykgKTsKIGZsb2F0IGJldGEgPSBhY29zKCAoYSphICsgYypjIC0gYipiKSAvICgyLjAqYSpjKSApOwogZmxvYXQgaGEgPSBhYnMoIGMgKiBzaW4oIGJldGEgKSApOwogZmxvYXQgaGIgPSBhYnMoIGMgKiBzaW4oIGFscGhhICkgKTsKIGZsb2F0IGhjID0gYWJzKCBiICogc2luKCBhbHBoYSApICk7CiAvLyBTZW5kIHRoZSB0cmlhbmdsZSBhbG9uZyB3aXRoIHRoZSBlZGdlIGRpc3RhbmNlcwogR0VkZ2VEaXN0YW5jZSA9IHZlYzMoIGhhLCAwLCAwICk7CiBHTm9ybWFsID0gdl9ub3JtWzBdOwogR1Bvc2l0aW9uID0gUG9zaXRpb25fd29ybGRzcGFjZVswXTsKIGdsX1Bvc2l0aW9uID0gZ2xfaW5bMF0uZ2xfUG9zaXRpb247CiBFbWl0VmVydGV4KCk7CiBHRWRnZURpc3RhbmNlID0gdmVjMyggMCwgaGIsIDAgKTsKIEdOb3JtYWwgPSB2X25vcm1bMV07CiBHUG9zaXRpb24gPSBQb3NpdGlvbl93b3JsZHNwYWNlWzFdOwogZ2xfUG9zaXRpb24gPSBnbF9pblsxXS5nbF9Qb3NpdGlvbjsKIEVtaXRWZXJ0ZXgoKTsKIEdFZGdlRGlzdGFuY2UgPSB2ZWMzKCAwLCAwLCBoYyApOwogR05vcm1hbCA9IHZfbm9ybVsyXTsKIEdQb3NpdGlvbiA9IFBvc2l0aW9uX3dvcmxkc3BhY2VbMl07CiBnbF9Qb3NpdGlvbiA9IGdsX2luWzJdLmdsX1Bvc2l0aW9uOwogRW1pdFZlcnRleCgpOwogRW5kUHJpbWl0aXZlKCk7Cn0"},
{ "wireframe.vsh", "I2luY2x1ZGUgInZlcnRleF9zaGFkZXJfc2hfY29tbW9uLmdsc2wiCgp2b2lkIG1haW4oKSB7CiAgICAgICBtYXQzIG1vZGVsTWF0cml4M3gzID0gc2hWZXJ0ZXhEYXRhKCk7CgogICAgICAgdl9ub3JtID0gbm9ybWFsaXplKCBtb2RlbE1hdHJpeDN4MyAqIGFfdDIgKTsKICAgICAgIHZfdGFuID0gbm9ybWFsaXplKCBtb2RlbE1hdHJpeDN4MyAqIGFfdDMgKTsKICAgICAgIHZfYml0YW4gPSBub3JtYWxpemUoIG1vZGVsTWF0cml4M3gzICogYV90NCApOwogICAgICAgdl90OCA9IGFfdDg7CgogICAgICAgLy8gQ2hlY2sgaGFuZG5lc3MKICAgICAgIC8vCWlmIChkb3QoY3Jvc3Modl9ub3JtLCB2X3RhbiksIHZfYml0YW4pIDwgMC4wKSB7CiAgICAgICAvLwkJdl90YW4gKj0gLTEuMDsKICAgICAgIC8vCX0KICAgICAgIG1hdDMgaXRibjsKICAgICAgIGl0Ym5bMF0gPSB2X3RhbjsKICAgICAgIGl0Ym5bMV0gPSB2X2JpdGFuOwogICAgICAgaXRiblsyXSA9IHZfbm9ybTsKICAgICAgIGl0Ym4gPSB0cmFuc3Bvc2UoIGl0Ym4gKTsKfQo"},
};
