static std::unordered_map<std::string, std::string> gShaderInjection{
{ "animation_uniforms", "CmxheW91dCggc3RkMTQwICkgdW5pZm9ybSBBbmltYXRpb25Vbmlmb3Jtc3sKICAgIHZlYzQgdV9kZWx0YUFuaW1UaW1lOwp9OwogICAg"},
{ "camera_uniforms", "CmxheW91dCggc3RkMTQwICkgdW5pZm9ybSBDYW1lcmFVbmlmb3Jtc3sKICAgIG1hdDQgdV9tdnBNYXRyaXg7CiAgICBtYXQ0IHVfdmlld01hdHJpeDsKICAgIG1hdDQgdV9wcm9qTWF0cml4OwogICAgbWF0NCB1X3NjcmVlblNwYWNlTWF0cml4OwogICAgdmVjMyB1X2V5ZVBvczsKICAgIHZlYzMgdV9leWVEaXI7CiAgICB2ZWM0IHVfbmVhckZhcjsKICAgIG1hdDQgdV9pbnZlcnNlTXZNYXRyaXg7CiAgICBtYXQ0IHVfcHJldk12cE1hdHJpeDsKfTsKICAgIA"},
{ "color_uniforms", "CnVuaWZvcm0gdmVjMyAgIGRpZmZ1c2VDb2xvcjsKdW5pZm9ybSBmbG9hdCAgYWxwaGE7CnVuaWZvcm0gZmxvYXQgIG9wYWNpdHk7Cg"},
{ "depthmap.fsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCiNwcmVjaXNpb25faGlnaAoKI2luY2x1ZGUgImNhbWVyYV91bmlmb3Jtcy5nbHNsIgoKbGF5b3V0KGxvY2F0aW9uID0gMCkgb3V0IGZsb2F0IEZyYWdEZXB0aDsKLy8gbGF5b3V0KGxvY2F0aW9uID0gMCkgb3V0IHZlYzIgRnJhZ0RlcHRoOwovLyBvdXQgdmVjNCBGcmFnRGVwdGg7CgpmbG9hdCBsaW5lYXJpemUoZmxvYXQgZGVwdGgpIHsKICAgIGZsb2F0IHpuZWFyID0gdV9uZWFyRmFyLng7CiAgICBmbG9hdCB6ZmFyID0gdV9uZWFyRmFyLnk7CglyZXR1cm4gLXpmYXIgKiB6bmVhciAvIChkZXB0aCAqICh6ZmFyIC0gem5lYXIpIC0gemZhcik7Cn0KCnZvaWQgbWFpbigpIHsKICAgIC8vIEZyYWdEZXB0aCA9IGxpbmVhcml6ZShnbF9GcmFnQ29vcmQueik7CiAgICAvLyBGcmFnRGVwdGggPSB2ZWM0KHZlYzMobGluZWFyaXplKGdsX0ZyYWdDb29yZC56KSksIDEuMCk7CiAgICAvLyBGcmFnRGVwdGggPSB2ZWMyKGxpbmVhcml6ZShnbF9GcmFnQ29vcmQueikpOwogICAgRnJhZ0RlcHRoID0gbGluZWFyaXplKGdsX0ZyYWdDb29yZC56KTsKICAgIC8vRnJhZ0RlcHRoID0gdmVjNChnbF9GcmFnQ29vcmQueiwgZ2xfRnJhZ0Nvb3JkLnosIGdsX0ZyYWdDb29yZC56LCAxLjApOy8vZ2xfRnJhZ0Nvb3JkLno7CiAgICAvLyBGcmFnRGVwdGggPSB2ZWM0KDAuNSwgMC41LCAwLjUsIDEuMCk7Ly9nbF9GcmFnQ29vcmQuejsKfQogICAg"},
{ "dof", "Y29uc3QgZmxvYXQgUEkgPSAzLjE0MTU5MjY1Owpjb25zdCBpbnQgU0FNUExFUyA9IDQ7CmNvbnN0IGludCBSSU5HUyA9IDQ7Cgpjb25zdCBmbG9hdCB3aWR0aCA9IDI1NjAuMDsgLy90ZXh0dXJlIHdpZHRoCmNvbnN0IGZsb2F0IGhlaWdodCA9IDE0NDAuMDsgLy90ZXh0dXJlIGhlaWdodAoKY29uc3QgdmVjMiB0ZXhlbCA9IHZlYzIoMS4wL3dpZHRoLDEuMC9oZWlnaHQpOwoKZmxvYXQgZm9jYWxEZXB0aCA9IDUuMDsgIC8vZm9jYWwgZGlzdGFuY2UgdmFsdWUgaW4gbWV0ZXJzLCBidXQgeW91IG1heSB1c2UgYXV0b2ZvY3VzIG9wdGlvbiBiZWxvdwpmbG9hdCBmb2NhbExlbmd0aCA9IDIwLjA7IC8vZm9jYWwgbGVuZ3RoIGluIG1tCmZsb2F0IGZzdG9wID0gMTMuMDsgLy9mLXN0b3AgdmFsdWUKYm9vbCBzaG93Rm9jdXMgPSBmYWxzZTsgLy9zaG93IGRlYnVnIGZvY3VzIHBvaW50IGFuZCBmb2NhbCByYW5nZSAocmVkID0gZm9jYWwgcG9pbnQsIGdyZWVuID0gZm9jYWwgcmFuZ2UpCgovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovL3VzZXIgdmFyaWFibGVzCgpjb25zdCBpbnQgc2FtcGxlcyA9IFNBTVBMRVM7IC8vc2FtcGxlcyBvbiB0aGUgZmlyc3QgcmluZwpjb25zdCBpbnQgcmluZ3MgPSBSSU5HUzsgLy9yaW5nIGNvdW50Cgpjb25zdCBpbnQgbWF4cmluZ3NhbXBsZXMgPSByaW5ncyAqIHNhbXBsZXM7Cgpib29sICBtYW51YWxkb2YgPSB0cnVlOyAvLyBtYW51YWwgZG9mIGNhbGN1bGF0aW9uCmZsb2F0IG5kb2ZzdGFydCA9IDAuMDsgLy8gbmVhciBkb2YgYmx1ciBzdGFydApmbG9hdCBuZG9mZGlzdCA9IDEwLjA7IC8vIG5lYXIgZG9mIGJsdXIgZmFsbG9mZiBkaXN0YW5jZQpmbG9hdCBmZG9mc3RhcnQgPSAxMDAwMC4wOyAvLyBmYXIgZG9mIGJsdXIgc3RhcnQKZmxvYXQgZmRvZmRpc3QgPSAxMDAwMC4wOyAvLyBmYXIgZG9mIGJsdXIgZmFsbG9mZiBkaXN0YW5jZQoKZmxvYXQgQ29DID0gMC4wMzsgLy9jaXJjbGUgb2YgY29uZnVzaW9uIHNpemUgaW4gbW0gKDM1bW0gZmlsbSA9IDAuMDNtbSkKCmJvb2wgYXV0b2ZvY3VzID0gZmFsc2U7Ci8vdXNlIGF1dG9mb2N1cyBpbiBzaGFkZXIgLSB1c2Ugd2l0aCBmb2N1c0Nvb3JkcwovLyBkaXNhYmxlIGlmIHlvdSB1c2UgZXh0ZXJuYWwgZm9jYWxEZXB0aCB2YWx1ZQoKdmVjMiBmb2N1c0Nvb3JkcyA9IHZlYzIoMS4wLCAxLjApOwovLyBhdXRvZm9jdXMgcG9pbnQgb24gc2NyZWVuICgwLjAsMC4wIC0gbGVmdCBsb3dlciBjb3JuZXIsIDEuMCwxLjAgLSB1cHBlciByaWdodCkKLy8gaWYgY2VudGVyIG9mIHNjcmVlbiB1c2UgdmVjMigwLjUsIDAuNSk7CgpmbG9hdCBtYXhibHVyID0gMi41OwovL2NsYW1wIHZhbHVlIG9mIG1heCBibHVyICgwLjAgPSBubyBibHVyLCAxLjAgZGVmYXVsdCkKCmZsb2F0IHRocmVzaG9sZCA9IDIuMTU7IC8vIGhpZ2hsaWdodCB0aHJlc2hvbGQ7CmZsb2F0IGdhaW4gPSAyLjA7IC8vIGhpZ2hsaWdodCBnYWluOwpmbG9hdCBiaWFzID0gMC4wOyAvLyBib2tlaCBlZGdlIGJpYXMKZmxvYXQgZnJpbmdlID0gMC4xODsgLy8gYm9rZWggY2hyb21hdGljIGFiZXJyYXRpb24gLyBmcmluZ2luZwpib29sIG5vaXNlID0gZmFsc2U7IC8vdXNlIG5vaXNlIGluc3RlYWQgb2YgcGF0dGVybiBmb3Igc2FtcGxlIGRpdGhlcmluZwoKY29uc3QgZmxvYXQgZGl0aGVyaW5nID0gMC4wMDAwNDsKY29uc3QgZmxvYXQgbmFtb3VudCA9IGRpdGhlcmluZzsgLy9kaXRoZXIgYW1vdW50Cgpib29sIGRlcHRoYmx1ciA9IGZhbHNlOyAvLyBibHVyIHRoZSBkZXB0aCBidWZmZXIKZmxvYXQgZGJzaXplID0gMS4yNTsgLy8gZGVwdGggYmx1ciBzaXplCgovKgpuZXh0IHBhcnQgaXMgZXhwZXJpbWVudGFsCm5vdCBsb29raW5nIGdvb2Qgd2l0aCBzbWFsbCBzYW1wbGUgYW5kIHJpbmcgY291bnQKbG9va3Mgb2theSBzdGFydGluZyBmcm9tIHNhbXBsZXMgPSA0LCByaW5ncyA9IDQKKi8KCmJvb2wgcGVudGFnb24gPSBmYWxzZTsgLy91c2UgcGVudGFnb24gYXMgYm9rZWggc2hhcGU/CmZsb2F0IGZlYXRoZXIgPSAwLjQ7IC8vcGVudGFnb24gc2hhcGUgZmVhdGhlcgoKLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmZsb2F0IGxpbmVhcml6ZShmbG9hdCBkZXB0aCkgewogICAgcmV0dXJuIGRlcHRoOwogICAgLy8gZmxvYXQgem5lYXIgPSB1X25lYXJGYXIueDsKICAgIC8vIGZsb2F0IHpmYXIgPSB1X25lYXJGYXIueTsKCS8vIHJldHVybiAtemZhciAqIHpuZWFyIC8gKGRlcHRoICogKHpmYXIgLSB6bmVhcikgLSB6ZmFyKTsKfQoKZmxvYXQgcGVudGEodmVjMiBjb29yZHMpIHsKICAgIC8vcGVudGFnb25hbCBzaGFwZQogICAgZmxvYXQgc2NhbGUgPSBmbG9hdChyaW5ncykgLSAxLjM7CiAgICB2ZWM0ICBIUzAgPSB2ZWM0KCAxLjAsICAgICAgICAgMC4wLCAgICAgICAgIDAuMCwgIDEuMCk7CiAgICB2ZWM0ICBIUzEgPSB2ZWM0KCAwLjMwOTAxNjk5NCwgMC45NTEwNTY1MTYsIDAuMCwgIDEuMCk7CiAgICB2ZWM0ICBIUzIgPSB2ZWM0KC0wLjgwOTAxNjk5NCwgMC41ODc3ODUyNTIsIDAuMCwgIDEuMCk7CiAgICB2ZWM0ICBIUzMgPSB2ZWM0KC0wLjgwOTAxNjk5NCwtMC41ODc3ODUyNTIsIDAuMCwgIDEuMCk7CiAgICB2ZWM0ICBIUzQgPSB2ZWM0KCAwLjMwOTAxNjk5NCwtMC45NTEwNTY1MTYsIDAuMCwgIDEuMCk7CiAgICB2ZWM0ICBIUzUgPSB2ZWM0KCAwLjAgICAgICAgICwwLjAgICAgICAgICAsIDEuMCwgIDEuMCk7CgogICAgdmVjNCAgb25lID0gdmVjNCggMS4wICk7CgogICAgdmVjNCBQID0gdmVjNCgoY29vcmRzKSx2ZWMyKHNjYWxlLCBzY2FsZSkpOwoKICAgIHZlYzQgZGlzdCA9IHZlYzQoMC4wKTsKICAgIGZsb2F0IGlub3JvdXQgPSAtNC4wOwoKICAgIGRpc3QueCA9IGRvdCggUCwgSFMwICk7CiAgICBkaXN0LnkgPSBkb3QoIFAsIEhTMSApOwogICAgZGlzdC56ID0gZG90KCBQLCBIUzIgKTsKICAgIGRpc3QudyA9IGRvdCggUCwgSFMzICk7CgogICAgZGlzdCA9IHNtb290aHN0ZXAoIC1mZWF0aGVyLCBmZWF0aGVyLCBkaXN0ICk7CgogICAgaW5vcm91dCArPSBkb3QoIGRpc3QsIG9uZSApOwoKICAgIGRpc3QueCA9IGRvdCggUCwgSFM0ICk7CiAgICBkaXN0LnkgPSBIUzUudyAtIGFicyggUC56ICk7CgogICAgZGlzdCA9IHNtb290aHN0ZXAoIC1mZWF0aGVyLCBmZWF0aGVyLCBkaXN0ICk7CiAgICBpbm9yb3V0ICs9IGRpc3QueDsKCiAgICByZXR1cm4gY2xhbXAoIGlub3JvdXQsIDAuMCwgMS4wICk7Cn0KCmZsb2F0IGJkZXB0aCh2ZWMyIGNvb3JkcykgewogICAgLy8gRGVwdGggYnVmZmVyIGJsdXIKICAgIGZsb2F0IGQgPSAwLjA7CiAgICBmbG9hdCBrZXJuZWxbOV07CiAgICB2ZWMyIG9mZnNldFs5XTsKCiAgICB2ZWMyIHdoID0gdmVjMih0ZXhlbC54LCB0ZXhlbC55KSAqIGRic2l6ZTsKCiAgICBvZmZzZXRbMF0gPSB2ZWMyKC13aC54LC13aC55KTsKICAgIG9mZnNldFsxXSA9IHZlYzIoIDAuMCwgLXdoLnkpOwogICAgb2Zmc2V0WzJdID0gdmVjMiggd2gueCAtd2gueSk7CgogICAgb2Zmc2V0WzNdID0gdmVjMigtd2gueCwgIDAuMCk7CiAgICBvZmZzZXRbNF0gPSB2ZWMyKCAwLjAsICAgMC4wKTsKICAgIG9mZnNldFs1XSA9IHZlYzIoIHdoLngsICAwLjApOwoKICAgIG9mZnNldFs2XSA9IHZlYzIoLXdoLngsIHdoLnkpOwogICAgb2Zmc2V0WzddID0gdmVjMiggMC4wLCAgd2gueSk7CiAgICBvZmZzZXRbOF0gPSB2ZWMyKCB3aC54LCB3aC55KTsKCiAgICBrZXJuZWxbMF0gPSAxLjAvMTYuMDsgICBrZXJuZWxbMV0gPSAyLjAvMTYuMDsgICBrZXJuZWxbMl0gPSAxLjAvMTYuMDsKICAgIGtlcm5lbFszXSA9IDIuMC8xNi4wOyAgIGtlcm5lbFs0XSA9IDQuMC8xNi4wOyAgIGtlcm5lbFs1XSA9IDIuMC8xNi4wOwogICAga2VybmVsWzZdID0gMS4wLzE2LjA7ICAga2VybmVsWzddID0gMi4wLzE2LjA7ICAga2VybmVsWzhdID0gMS4wLzE2LjA7CgoKICAgIGZvciggaW50IGk9MDsgaTw5OyBpKysgKSB7CiAgICAgICAgZmxvYXQgdG1wID0gdGV4dHVyZShkZXB0aE1hcFRleHR1cmUsIGNvb3JkcyArIG9mZnNldFtpXSkucjsKICAgICAgICBkICs9IHRtcCAqIGtlcm5lbFtpXTsKICAgIH0KCiAgICByZXR1cm4gZDsKfQoKCnZlYzMgY29sb3IodmVjMiBjb29yZHMsZmxvYXQgYmx1cikgewogICAgLy9wcm9jZXNzaW5nIHRoZSBzYW1wbGUKCiAgICB2ZWMzIGNvbCA9IHZlYzMoMC4wKTsKCiAgICBjb2wuciA9IHRleHR1cmUoY29sb3JGQlRleHR1cmUsY29vcmRzICsgdmVjMigwLjAsMS4wKSp0ZXhlbCpmcmluZ2UqYmx1cikucjsKICAgIGNvbC5nID0gdGV4dHVyZShjb2xvckZCVGV4dHVyZSxjb29yZHMgKyB2ZWMyKC0wLjg2NiwtMC41KSp0ZXhlbCpmcmluZ2UqYmx1cikuZzsKICAgIGNvbC5iID0gdGV4dHVyZShjb2xvckZCVGV4dHVyZSxjb29yZHMgKyB2ZWMyKDAuODY2LC0wLjUpKnRleGVsKmZyaW5nZSpibHVyKS5iOwoKICAgIHZlYzMgbHVtY29lZmYgPSB2ZWMzKDAuMjk5LDAuNTg3LDAuMTE0KTsKICAgIGZsb2F0IGx1bSA9IGRvdChjb2wucmdiLCBsdW1jb2VmZik7CiAgICBmbG9hdCB0aHJlc2ggPSBtYXgoKGx1bS10aHJlc2hvbGQpKmdhaW4sIDAuMCk7CiAgICByZXR1cm4gY29sK21peCh2ZWMzKDAuMCksY29sLHRocmVzaCpibHVyKTsKfQoKdmVjMiByYW5kKHZlYzIgY29vcmQpIHsKICAgIC8vIGdlbmVyYXRpbmcgbm9pc2UgLyBwYXR0ZXJuIHRleHR1cmUgZm9yIGRpdGhlcmluZwoKICAgIGZsb2F0IG5vaXNlWCA9ICgoZnJhY3QoMS4wLWNvb3JkLnMqKHdpZHRoLzIuMCkpKjAuMjUpKyhmcmFjdChjb29yZC50KihoZWlnaHQvMi4wKSkqMC43NSkpKjIuMC0xLjA7CiAgICBmbG9hdCBub2lzZVkgPSAoKGZyYWN0KDEuMC1jb29yZC5zKih3aWR0aC8yLjApKSowLjc1KSsoZnJhY3QoY29vcmQudCooaGVpZ2h0LzIuMCkpKjAuMjUpKSoyLjAtMS4wOwoKICAgIGlmIChub2lzZSkgewogICAgICAgIG5vaXNlWCA9IGNsYW1wKGZyYWN0KHNpbihkb3QoY29vcmQgLHZlYzIoMTIuOTg5OCw3OC4yMzMpKSkgKiA0Mzc1OC41NDUzKSwwLjAsMS4wKSoyLjAtMS4wOwogICAgICAgIG5vaXNlWSA9IGNsYW1wKGZyYWN0KHNpbihkb3QoY29vcmQgLHZlYzIoMTIuOTg5OCw3OC4yMzMpKjIuMCkpICogNDM3NTguNTQ1MyksMC4wLDEuMCkqMi4wLTEuMDsKICAgIH0KCiAgICByZXR1cm4gdmVjMihub2lzZVgsbm9pc2VZKTsKfQoKdmVjMyBkZWJ1Z0ZvY3VzKHZlYzMgY29sLCBmbG9hdCBibHVyLCBmbG9hdCBkZXB0aCkgewogICAgZmxvYXQgZWRnZSA9IDAuMDAyKmRlcHRoOyAvL2Rpc3RhbmNlIGJhc2VkIGVkZ2Ugc21vb3RoaW5nCiAgICBmbG9hdCBtID0gY2xhbXAoc21vb3Roc3RlcCgwLjAsZWRnZSxibHVyKSwwLjAsMS4wKTsKICAgIGZsb2F0IGUgPSBjbGFtcChzbW9vdGhzdGVwKDEuMC1lZGdlLDEuMCxibHVyKSwwLjAsMS4wKTsKCiAgICBjb2wgPSBtaXgoY29sLHZlYzMoMS4wLDAuNSwwLjApLCgxLjAtbSkqMC42KTsKICAgIGNvbCA9IG1peChjb2wsdmVjMygwLjAsMC41LDEuMCksKCgxLjAtZSktKDEuMC1tKSkqMC4yKTsKCiAgICByZXR1cm4gY29sOwp9CgpmbG9hdCBnYXRoZXIoZmxvYXQgaSwgZmxvYXQgaiwgaW50IHJpbmdzYW1wbGVzLCBpbm91dCB2ZWMzIGNvbCwgZmxvYXQgdywgZmxvYXQgaCwgZmxvYXQgYmx1cikgewogICAgZmxvYXQgcmluZ3MyID0gZmxvYXQocmluZ3MpOwogICAgZmxvYXQgc3RlcCA9IFBJKjIuMCAvIGZsb2F0KHJpbmdzYW1wbGVzKTsKICAgIGZsb2F0IHB3ID0gY29zKGoqc3RlcCkqaTsKICAgIGZsb2F0IHBoID0gc2luKGoqc3RlcCkqaTsKICAgIGZsb2F0IHAgPSAxLjA7CiAgICBpZiAocGVudGFnb24pIHsKICAgICAgICBwID0gcGVudGEodmVjMihwdyxwaCkpOwogICAgfQogICAgY29sICs9IGNvbG9yKHZfdGV4Q29vcmQueHkgKyB2ZWMyKHB3KncscGgqaCksIGJsdXIpICogbWl4KDEuMCwgaS9yaW5nczIsIGJpYXMpICogcDsKICAgIHJldHVybiAxLjAgKiBtaXgoMS4wLCBpIC9yaW5nczIsIGJpYXMpICogcDsKfQoKdmVjMyBkb2YoKSB7CiAgICAvL3NjZW5lIGRlcHRoIGNhbGN1bGF0aW9uCgogICAgZmxvYXQgZGVwdGggPSBsaW5lYXJpemUodGV4dHVyZShkZXB0aE1hcFRleHR1cmUsdl90ZXhDb29yZC54eSkueCk7CgogICAgLy8gQmx1ciBkZXB0aD8KICAgIGlmIChkZXB0aGJsdXIpIHsKICAgICAgICBkZXB0aCA9IGxpbmVhcml6ZShiZGVwdGgodl90ZXhDb29yZC54eSkpOwogICAgfQoKICAgIC8vZm9jYWwgcGxhbmUgY2FsY3VsYXRpb24KCiAgICBmbG9hdCBmRGVwdGggPSBmb2NhbERlcHRoOwoKICAgIGlmIChhdXRvZm9jdXMpIHsKCiAgICAgICAgZkRlcHRoID0gbGluZWFyaXplKHRleHR1cmUoZGVwdGhNYXBUZXh0dXJlLGZvY3VzQ29vcmRzKS54KTsKCiAgICB9CgogICAgLy8gZG9mIGJsdXIgZmFjdG9yIGNhbGN1bGF0aW9uCgogICAgZmxvYXQgYmx1ciA9IDAuMDsKCiAgICBpZiAobWFudWFsZG9mKSB7CiAgICAgICAgZmxvYXQgYSA9IGRlcHRoLWZEZXB0aDsgLy8gRm9jYWwgcGxhbmUKICAgICAgICBmbG9hdCBiID0gKGEtZmRvZnN0YXJ0KS9mZG9mZGlzdDsgLy8gRmFyIERvRgogICAgICAgIGZsb2F0IGMgPSAoLWEtbmRvZnN0YXJ0KS9uZG9mZGlzdDsgLy8gTmVhciBEb2YKICAgICAgICBibHVyID0gKGE+MC4wKSA/IGIgOiBjOwogICAgfSBlbHNlIHsKICAgICAgICBmbG9hdCBmID0gZm9jYWxMZW5ndGg7IC8vIGZvY2FsIGxlbmd0aCBpbiBtbQogICAgICAgIGZsb2F0IGQgPSBmRGVwdGgqMTAwMC4wOyAvLyBmb2NhbCBwbGFuZSBpbiBtbQogICAgICAgIGZsb2F0IG8gPSBkZXB0aCoxMDAwLjA7IC8vIGRlcHRoIGluIG1tCgogICAgICAgIGZsb2F0IGEgPSAobypmKS8oby1mKTsKICAgICAgICBmbG9hdCBiID0gKGQqZikvKGQtZik7CiAgICAgICAgZmxvYXQgYyA9IChkLWYpLyhkKmZzdG9wKkNvQyk7CgogICAgICAgIGJsdXIgPSBhYnMoYS1iKSpjOwogICAgfQoKICAgIGJsdXIgPSBjbGFtcChibHVyLDAuMCwxLjApOwoKICAgIC8vIGNhbGN1bGF0aW9uIG9mIHBhdHRlcm4gZm9yIGRpdGhlcmluZwoKICAgIHZlYzIgbm9pc2UgPSByYW5kKHZfdGV4Q29vcmQueHkpKm5hbW91bnQqYmx1cjsKCiAgICAvLyBnZXR0aW5nIGJsdXIgeCBhbmQgeSBzdGVwIGZhY3RvcgoKICAgIGZsb2F0IHcgPSAoMS4wL3dpZHRoKSpibHVyKm1heGJsdXIrbm9pc2UueDsKICAgIGZsb2F0IGggPSAoMS4wL2hlaWdodCkqYmx1ciptYXhibHVyK25vaXNlLnk7CgogICAgLy8gY2FsY3VsYXRpb24gb2YgZmluYWwgY29sb3IKCiAgICB2ZWMzIGNvbCA9IHZlYzMoMC4wKTsKCiAgICBpZihibHVyIDwgMC4wNSkgewogICAgICAgIC8vc29tZSBvcHRpbWl6YXRpb24gdGhpbmd5CiAgICAgICAgY29sID0gdGV4dHVyZShjb2xvckZCVGV4dHVyZSwgdl90ZXhDb29yZC54eSkucmdiOwogICAgfSBlbHNlIHsKICAgICAgICBjb2wgPSB0ZXh0dXJlKGNvbG9yRkJUZXh0dXJlLCB2X3RleENvb3JkLnh5KS5yZ2I7CiAgICAgICAgZmxvYXQgcyA9IDEuMDsKICAgICAgICBpbnQgcmluZ3NhbXBsZXM7CgogICAgICAgIGZvciAoaW50IGkgPSAxOyBpIDw9IHJpbmdzOyBpKyspIHsKICAgICAgICAgICAgLyp1bmJveHN0YXJ0Ki8KICAgICAgICAgICAgcmluZ3NhbXBsZXMgPSBpICogc2FtcGxlczsKCiAgICAgICAgICAgIGZvciAoaW50IGogPSAwIDsgaiA8IG1heHJpbmdzYW1wbGVzIDsgaisrKSB7CiAgICAgICAgICAgICAgICBpZiAoaiA+PSByaW5nc2FtcGxlcykgYnJlYWs7CiAgICAgICAgICAgICAgICBzICs9IGdhdGhlcihmbG9hdChpKSwgZmxvYXQoaiksIHJpbmdzYW1wbGVzLCBjb2wsIHcsIGgsIGJsdXIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8qdW5ib3hlbmQqLwogICAgICAgIH0KCiAgICAgICAgY29sIC89IHM7IC8vZGl2aWRlIGJ5IHNhbXBsZSBjb3VudAogICAgfQoKICAgIC8vIGlmIChzaG93Rm9jdXMpIHsKICAgIC8vICAgICBjb2wgPSBkZWJ1Z0ZvY3VzKGNvbCwgYmx1ciwgZGVwdGgpOwogICAgLy8gfQoKICAgIHJldHVybiBjb2w7CiAgICAvLyByZXR1cm4gdmVjMyhkZXB0aCk7Cn0g"},
{ "equirectangular.fsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCmluIHZlYzMgdl90ZXhDb29yZDsKb3V0IHZlYzQgY29sb3I7Cgp1bmlmb3JtIHNhbXBsZXIyRCBjb2xvclRleHR1cmU7CgojaW5jbHVkZSAibGlnaHRpbmdfdW5pZm9ybXMuZ2xzbCIKCmNvbnN0IHZlYzIgaW52QXRhbiA9IHZlYzIoMC4xNTkxLCAwLjMxODMpOwp2ZWMyIFNhbXBsZVNwaGVyaWNhbE1hcCh2ZWMzIHYpCnsKICAgIHZlYzIgdXYgPSB2ZWMyKGF0YW4odi56LCB2LngpLCBhc2luKHYueSkpOwogICAgdXYgKj0gaW52QXRhbjsKICAgIHV2ICs9IDAuNTsKICAgIHJldHVybiB1djsKfQoKdm9pZCBtYWluKCkKewogICAgdmVjMiB1diA9IFNhbXBsZVNwaGVyaWNhbE1hcChub3JtYWxpemUodl90ZXhDb29yZCkpOwogICAgY29sb3IgPSB0ZXh0dXJlKGNvbG9yVGV4dHVyZSwgdXYpOwogICAgY29sb3IueHl6ID0gdmVjMygxLjApIC0gZXhwKC1jb2xvci54eXogKiB1X3N1blJhZGlhbmNlLnh5eik7Cn0KICAgIA"},
{ "equirectangular.vsh", "I2luY2x1ZGUgImxheW91dF9wb3NfdGV4Y3ViZW1hcC5nbHNsIgojaW5jbHVkZSAiY2FtZXJhX3VuaWZvcm1zLmdsc2wiCgp2b2lkIG1haW4oKSB7CiAgICBtYXQ0IHZtX3plcm9kID0gdV92aWV3TWF0cml4OwogICAgdm1femVyb2RbM10gPSB2ZWM0KCAwLjAsIDAuMCwgMC4wLCAxLjAgKTsKICAgIG1hdDQgdm0gPSB1X3Byb2pNYXRyaXggKiB2bV96ZXJvZDsKICAgIHZlYzQgcG9zNCA9IHZtICogdmVjNCggYV9wb3NpdGlvbiwgMS4wICk7CiAgICBnbF9Qb3NpdGlvbiA9IHBvczQueHl3dzsKICAgIHZfdGV4Q29vcmQgPSBhX3Bvc2l0aW9uLnh5eiAqIHZlYzMoMS4wLCAtMS4wLCAxLjApOwp9CiAgICA"},
{ "fragment_shader_color.fsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCgojaW5jbHVkZSAiY29sb3JfdW5pZm9ybXMuZ2xzbCIKCmxheW91dCggbG9jYXRpb24gPSAwICkgb3V0IHZlYzQgRnJhZ0NvbG9yOwpsYXlvdXQoIGxvY2F0aW9uID0gMSApIG91dCB2ZWM0IEZyYWdBdHRhY2gxOwoKdm9pZCBtYWluKCkKewogICAgZmxvYXQgcHJlTXVsdEFscGhhID0gYWxwaGEqb3BhY2l0eTsKICAgIEZyYWdDb2xvciA9IHZlYzQoZGlmZnVzZUNvbG9yICogcHJlTXVsdEFscGhhLCBwcmVNdWx0QWxwaGEpOwp9Cg"},
{ "fragment_shader_osm.fsh", "I2luY2x1ZGUgInBsYWluX3NoX2NvbW1vbi5nbHNsIgojaW5jbHVkZSAidGV4dHVyZV9ub3RpbGUuZ2xzbCIKCnZvaWQgbWFpbigpIHsKCiAgIHZlYzMgViA9IG5vcm1hbGl6ZSggdV9leWVQb3MgLSBQb3NpdGlvbl93b3JsZHNwYWNlICk7CiAgIHZlYzMgdnRhbmcgPSBub3JtYWxpemUoIHRhbmdlbnRWaWV3UG9zIC0gdGFuZ2VudEZyYWdQb3MgKTsKCiAgIHZlYzIgcG9zaXRpb24gPSB2X3RleENvb3JkMjsKICAgdmVjMiBzaXplID0gdmVjMigxLjAvMTYuMCwgMS4wLzE2LjApOwoKICAgdmVjMiB0ZXhDb29yZHMgPSBwb3NpdGlvbiArIHNpemUgKiBmcmFjdCh2X3RleENvb3JkKTsKCiAgIGFvID0gdGV4dHVyZSggYW9UZXh0dXJlLCB0ZXhDb29yZHMgKS54ICogYW9WOwogICByb3VnaG5lc3MgPSAodGV4dHVyZSggcm91Z2huZXNzVGV4dHVyZSwgdGV4Q29vcmRzICkueCAqIHJvdWdobmVzc1YpOwogICBtZXRhbGxpYyA9ICh0ZXh0dXJlKCBtZXRhbGxpY1RleHR1cmUsIHRleENvb3JkcyApLnggKiBtZXRhbGxpY1YpOwogICBvcGFjaXR5ViA9IHRleHR1cmUoIG9wYWNpdHlUZXh0dXJlLCB0ZXhDb29yZHMgKS54ICogb3BhY2l0eTsgCiAgIHZlYzMgYWxiZWRvID0gdGV4dHVyZSggZGlmZnVzZVRleHR1cmUsIHRleENvb3JkcyApLnh5eiAqIGRpZmZ1c2VDb2xvcjsKICAgdHJhbnNsdWNlbmN5ViA9IHRleHR1cmUoIHRyYW5zbHVjZW5jeVRleHR1cmUsIHRleENvb3JkcyApLng7CiAgIGFsYmVkbyA9IHBvdyhhbGJlZG8sIHZlYzMoMi4yLzEuMCkpOwoKICAgdmVjMyBOID0gZ2V0Tm9ybWFsRnJvbU1hcCh0ZXhDb29yZHMpOwoKICAgbGlnaHRfY29kZQoKICAgZmluYWxfY29tYmluZV9ub19yZWZsZWN0aW9ucwp9Cg"},
{ "fragment_shader_texture.fsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCgppbiB2ZWMyIHZfdGV4Q29vcmQ7CgpsYXlvdXQoIGxvY2F0aW9uID0gMCApIG91dCB2ZWM0IEZyYWdDb2xvcjsKbGF5b3V0KCBsb2NhdGlvbiA9IDEgKSBvdXQgdmVjNCBGcmFnQXR0YWNoMTsKCnVuaWZvcm0gc2FtcGxlcjJEIGNvbG9yVGV4dHVyZTsKI2luY2x1ZGUgImNvbG9yX3VuaWZvcm1zLmdsc2wiCgp2b2lkIG1haW4oKQp7CiAgICB2ZWM0IHRleHR1cmVDb2wgPSB0ZXh0dXJlKGNvbG9yVGV4dHVyZSwgdl90ZXhDb29yZCk7CiAgICBmbG9hdCBwcmVNdWx0QWxwaGEgPSBtaW4oYWxwaGEsIHRleHR1cmVDb2wuYSpvcGFjaXR5KTsKICAgIEZyYWdDb2xvciA9IHZlYzQoIHRleHR1cmVDb2wucmdiICogZGlmZnVzZUNvbG9yICogcHJlTXVsdEFscGhhLCBwcmVNdWx0QWxwaGEpOwp9Cg"},
{ "ibl_specular_prefilter.fsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCm91dCB2ZWM0IEZyYWdDb2xvcjsKaW4gdmVjMyB2X3RleENvb3JkOwoKdW5pZm9ybSBzYW1wbGVyQ3ViZSBjdWJlTWFwVGV4dHVyZTsKdW5pZm9ybSBmbG9hdCByb3VnaG5lc3NWOwoKY29uc3QgZmxvYXQgUEkgPSAzLjE0MTU5MjY1MzU5OwovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmZsb2F0IERpc3RyaWJ1dGlvbkdHWCh2ZWMzIE4sIHZlYzMgSCwgZmxvYXQgcm91Z2huZXNzKQp7CiAgICBmbG9hdCBhID0gcm91Z2huZXNzKnJvdWdobmVzczsKICAgIGZsb2F0IGEyID0gYSphOwogICAgZmxvYXQgTmRvdEggPSBtYXgoZG90KE4sIEgpLCAwLjApOwogICAgZmxvYXQgTmRvdEgyID0gTmRvdEgqTmRvdEg7CgogICAgZmxvYXQgbm9tICAgPSBhMjsKICAgIGZsb2F0IGRlbm9tID0gKE5kb3RIMiAqIChhMiAtIDEuMCkgKyAxLjApOwogICAgZGVub20gPSBQSSAqIGRlbm9tICogZGVub207CgogICAgcmV0dXJuIG5vbSAvIGRlbm9tOwp9Ci8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gaHR0cDovL2hvbGdlci5kYW1tZXJ0ei5vcmcvc3R1ZmYvbm90ZXNfSGFtbWVyc2xleU9uSGVtaXNwaGVyZS5odG1sCi8vIGVmZmljaWVudCBWYW5EZXJDb3JwdXMgY2FsY3VsYXRpb24uCmZsb2F0IFJhZGljYWxJbnZlcnNlX1ZkQyh1aW50IGJpdHMpCnsKICAgIGJpdHMgPSAoYml0cyA8PCAxNnUpIHwgKGJpdHMgPj4gMTZ1KTsKICAgIGJpdHMgPSAoKGJpdHMgJiAweDU1NTU1NTU1dSkgPDwgMXUpIHwgKChiaXRzICYgMHhBQUFBQUFBQXUpID4+IDF1KTsKICAgIGJpdHMgPSAoKGJpdHMgJiAweDMzMzMzMzMzdSkgPDwgMnUpIHwgKChiaXRzICYgMHhDQ0NDQ0NDQ3UpID4+IDJ1KTsKICAgIGJpdHMgPSAoKGJpdHMgJiAweDBGMEYwRjBGdSkgPDwgNHUpIHwgKChiaXRzICYgMHhGMEYwRjBGMHUpID4+IDR1KTsKICAgIGJpdHMgPSAoKGJpdHMgJiAweDAwRkYwMEZGdSkgPDwgOHUpIHwgKChiaXRzICYgMHhGRjAwRkYwMHUpID4+IDh1KTsKICAgIHJldHVybiBmbG9hdChiaXRzKSAqIDIuMzI4MzA2NDM2NTM4Njk2M2UtMTA7IC8vIC8gMHgxMDAwMDAwMDAKfQovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCnZlYzIgSGFtbWVyc2xleSh1aW50IGksIHVpbnQgTikKewogICAgcmV0dXJuIHZlYzIoZmxvYXQoaSkvZmxvYXQoTiksIFJhZGljYWxJbnZlcnNlX1ZkQyhpKSk7Cn0KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQp2ZWMzIEltcG9ydGFuY2VTYW1wbGVHR1godmVjMiBYaSwgdmVjMyBOLCBmbG9hdCByb3VnaG5lc3MpCnsKICAgIGZsb2F0IGEgPSByb3VnaG5lc3Mqcm91Z2huZXNzOwoKICAgIGZsb2F0IHBoaSA9IDIuMCAqIFBJICogWGkueDsKICAgIGZsb2F0IGNvc1RoZXRhID0gc3FydCgoMS4wIC0gWGkueSkgLyAoMS4wICsgKGEqYSAtIDEuMCkgKiBYaS55KSk7CiAgICBmbG9hdCBzaW5UaGV0YSA9IHNxcnQoMS4wIC0gY29zVGhldGEqY29zVGhldGEpOwoKICAgIC8vIGZyb20gc3BoZXJpY2FsIGNvb3JkaW5hdGVzIHRvIGNhcnRlc2lhbiBjb29yZGluYXRlcyAtIGhhbGZ3YXkgdmVjdG9yCiAgICB2ZWMzIEg7CiAgICBILnggPSBjb3MocGhpKSAqIHNpblRoZXRhOwogICAgSC55ID0gc2luKHBoaSkgKiBzaW5UaGV0YTsKICAgIEgueiA9IGNvc1RoZXRhOwoKICAgIC8vIGZyb20gdGFuZ2VudC1zcGFjZSBIIHZlY3RvciB0byB3b3JsZC1zcGFjZSBzYW1wbGUgdmVjdG9yCiAgICB2ZWMzIHVwICAgICAgICAgID0gYWJzKE4ueikgPCAwLjk5OSA/IHZlYzMoMC4wLCAwLjAsIDEuMCkgOiB2ZWMzKDEuMCwgMC4wLCAwLjApOwogICAgdmVjMyB0YW5nZW50ICAgPSBub3JtYWxpemUoY3Jvc3ModXAsIE4pKTsKICAgIHZlYzMgYml0YW5nZW50ID0gY3Jvc3MoTiwgdGFuZ2VudCk7CgogICAgdmVjMyBzYW1wbGVWZWMgPSB0YW5nZW50ICogSC54ICsgYml0YW5nZW50ICogSC55ICsgTiAqIEguejsKICAgIHJldHVybiBub3JtYWxpemUoc2FtcGxlVmVjKTsKfQovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCnZvaWQgbWFpbigpCnsKICAgIHZlYzMgTiA9IG5vcm1hbGl6ZSh2X3RleENvb3JkKTsKICAgIHZlYzMgcHJlZmlsdGVyZWRDb2xvciA9IHRleHR1cmUoY3ViZU1hcFRleHR1cmUsIE4pLnJnYjsKICAgIEZyYWdDb2xvciA9IHZlYzQocHJlZmlsdGVyZWRDb2xvciwgMS4wKTsKICAgIHJldHVybjsKCiAgICAvLyBtYWtlIHRoZSBzaW1wbHlmeWluZyBhc3N1bXB0aW9uIHRoYXQgViBlcXVhbHMgUiBlcXVhbHMgdGhlIG5vcm1hbAogICAgdmVjMyBSID0gTjsKICAgIHZlYzMgViA9IFI7CiAKICAgIGNvbnN0IHVpbnQgU0FNUExFX0NPVU5UID0gMTAyNHU7CiAgICBwcmVmaWx0ZXJlZENvbG9yID0gdmVjMygwLjApOwogICAgZmxvYXQgdG90YWxXZWlnaHQgPSAwLjA7CgogICAgZm9yKHVpbnQgaSA9IDB1OyBpIDwgU0FNUExFX0NPVU5UOyArK2kpCiAgICB7CiAgICAgICAgLy8gZ2VuZXJhdGVzIGEgc2FtcGxlIHZlY3RvciB0aGF0J3MgYmlhc2VkIHRvd2FyZHMgdGhlIHByZWZlcnJlZCBhbGlnbm1lbnQgZGlyZWN0aW9uIChpbXBvcnRhbmNlIHNhbXBsaW5nKS4KICAgICAgICB2ZWMyIFhpID0gSGFtbWVyc2xleShpLCBTQU1QTEVfQ09VTlQpOwogICAgICAgIHZlYzMgSCA9IEltcG9ydGFuY2VTYW1wbGVHR1goWGksIE4sIHJvdWdobmVzc1YpOwogICAgICAgIHZlYzMgTCAgPSBub3JtYWxpemUoMi4wICogZG90KFYsIEgpICogSCAtIFYpOwoKICAgICAgICBmbG9hdCBOZG90TCA9IG1heChkb3QoTiwgTCksIDAuMCk7CiAgICAgICAgaWYoTmRvdEwgPiAwLjApCiAgICAgICAgewogICAgICAgICAgICAvLyBzYW1wbGUgZnJvbSB0aGUgZW52aXJvbm1lbnQncyBtaXAgbGV2ZWwgYmFzZWQgb24gcm91Z2huZXNzL3BkZgogICAgICAgICAgICBmbG9hdCBEICAgPSBEaXN0cmlidXRpb25HR1goTiwgSCwgcm91Z2huZXNzVik7CiAgICAgICAgICAgIGZsb2F0IE5kb3RIID0gbWF4KGRvdChOLCBIKSwgMC4wKTsKICAgICAgICAgICAgZmxvYXQgSGRvdFYgPSBtYXgoZG90KEgsIFYpLCAwLjApOwogICAgICAgICAgICBmbG9hdCBwZGYgPSBEICogTmRvdEggLyAoNC4wICogSGRvdFYpICsgMC4wMDAxOwoKICAgICAgICAgICAgZmxvYXQgcmVzb2x1dGlvbiA9IDEyOC4wOyAvLyByZXNvbHV0aW9uIG9mIHNvdXJjZSBjdWJlbWFwIChwZXIgZmFjZSkKICAgICAgICAgICAgZmxvYXQgc2FUZXhlbCAgPSA0LjAgKiBQSSAvICg2LjAgKiByZXNvbHV0aW9uICogcmVzb2x1dGlvbik7CiAgICAgICAgICAgIGZsb2F0IHNhU2FtcGxlID0gMS4wIC8gKGZsb2F0KFNBTVBMRV9DT1VOVCkgKiBwZGYgKyAwLjAwMDEpOwoKICAgICAgICAgICAgZmxvYXQgbWlwTGV2ZWwgPSByb3VnaG5lc3NWID09IDAuMCA/IDAuMCA6IDAuNSAqIGxvZzIoc2FTYW1wbGUgLyBzYVRleGVsKTsKCiAgICAgICAgICAgIHByZWZpbHRlcmVkQ29sb3IgKz0gdGV4dHVyZUxvZChjdWJlTWFwVGV4dHVyZSwgTCwgbWlwTGV2ZWwpLnJnYiAqIE5kb3RMOwogICAgICAgICAgICB0b3RhbFdlaWdodCAgICAgICs9IE5kb3RMOwogICAgICAgIH0KICAgIH0KICAgIHByZWZpbHRlcmVkQ29sb3IgPSBwcmVmaWx0ZXJlZENvbG9yIC8gdG90YWxXZWlnaHQ7CiAgICBwcmVmaWx0ZXJlZENvbG9yID0gdGV4dHVyZShjdWJlTWFwVGV4dHVyZSwgTikucmdiOwogICAgCiAgICBGcmFnQ29sb3IgPSB2ZWM0KHByZWZpbHRlcmVkQ29sb3IsIDEuMCk7Cn0K"},
{ "irradiance_convolution.fsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCiNwcmVjaXNpb25faGlnaApvdXQgdmVjNCBGcmFnQ29sb3I7CmluIHZlYzMgdl90ZXhDb29yZDsKCnVuaWZvcm0gc2FtcGxlckN1YmUgY3ViZU1hcFRleHR1cmU7Cgpjb25zdCBmbG9hdCBQSSA9IDMuMTQxNTkyNjUzNTk7Cgp2b2lkIG1haW4oKQp7CiAgICAKICAgIC8vIFRoZSB3b3JsZCB2ZWN0b3IgYWN0cyBhcyB0aGUgbm9ybWFsIG9mIGEgdGFuZ2VudCBzdXJmYWNlCiAgICAvLyBmcm9tIHRoZSBvcmlnaW4sIGFsaWduZWQgdG8gV29ybGRQb3MuIEdpdmVuIHRoaXMgbm9ybWFsLCBjYWxjdWxhdGUgYWxsCiAgICAvLyBpbmNvbWluZyByYWRpYW5jZSBvZiB0aGUgZW52aXJvbm1lbnQuIFRoZSByZXN1bHQgb2YgdGhpcyByYWRpYW5jZQogICAgLy8gaXMgdGhlIHJhZGlhbmNlIG9mIGxpZ2h0IGNvbWluZyBmcm9tIC1Ob3JtYWwgZGlyZWN0aW9uLCB3aGljaCBpcyB3aGF0CiAgICAvLyB3ZSB1c2UgaW4gdGhlIFBCUiBzaGFkZXIgdG8gc2FtcGxlIGlycmFkaWFuY2UuCiAgICB2ZWMzIE4gPSBub3JtYWxpemUodl90ZXhDb29yZCk7CgogICAgdmVjMyBpcnJhZGlhbmNlID0gdmVjMygwLjApOwogICAgLy9pcnJhZGlhbmNlICs9IHRleHR1cmUoY3ViZU1hcFRleHR1cmUsIE4pLnJnYjsKICAgIC8vRnJhZ0NvbG9yID0gdmVjNChpcnJhZGlhbmNlLCAxLjApOwogICAgLy9yZXR1cm47CiAgICAvLyB0YW5nZW50IHNwYWNlIGNhbGN1bGF0aW9uIGZyb20gb3JpZ2luIHBvaW50CiAgICB2ZWMzIHVwICAgID0gdmVjMygwLjAsIDEuMCwgMC4wKTsgCiAgICB2ZWMzIHJpZ2h0ID0gY3Jvc3ModXAsIE4pOwogICAgdXAgICAgICAgICAgICA9IGNyb3NzKE4sIHJpZ2h0KTsKCiAgICBmbG9hdCBzYW1wbGVEZWx0YSA9IDAuMDI1OwogICAgZmxvYXQgbnJTYW1wbGVzID0gMC4wOwogICAgZm9yKGZsb2F0IHBoaSA9IDAuMDsgcGhpIDwgMi4wICogUEk7IHBoaSArPSBzYW1wbGVEZWx0YSkKICAgIHsKICAgICAgICBmb3IoZmxvYXQgdGhldGEgPSAwLjA7IHRoZXRhIDwgMC41MCAqIFBJOyB0aGV0YSArPSBzYW1wbGVEZWx0YSkKICAgICAgICB7CiAgICAgICAgICAgIC8vIHNwaGVyaWNhbCB0byBjYXJ0ZXNpYW4gKGluIHRhbmdlbnQgc3BhY2UpCiAgICAgICAgICAgIHZlYzMgdGFuZ2VudFNhbXBsZSA9IHZlYzMoc2luKHRoZXRhKSAqIGNvcyhwaGkpLCAgc2luKHRoZXRhKSAqIHNpbihwaGkpLCBjb3ModGhldGEpKTsKICAgICAgICAgICAgLy8gdGFuZ2VudCBzcGFjZSB0byB3b3JsZAogICAgICAgICAgICB2ZWMzIHNhbXBsZVZlYyA9IHRhbmdlbnRTYW1wbGUueCAqIHJpZ2h0ICsgdGFuZ2VudFNhbXBsZS55ICogdXAgKyB0YW5nZW50U2FtcGxlLnogKiBOOwoKICAgICAgICAgICAgaXJyYWRpYW5jZSArPSB0ZXh0dXJlKGN1YmVNYXBUZXh0dXJlLCBzYW1wbGVWZWMpLnJnYiAqIGNvcyh0aGV0YSkgKiBzaW4odGhldGEpOwogICAgICAgICAgICBuclNhbXBsZXMrPTEuMDsKICAgICAgICB9CiAgICB9CgogICAgaXJyYWRpYW5jZSA9IFBJICogaXJyYWRpYW5jZSAqICgxLjAgLyBuclNhbXBsZXMpOwoKICAgIEZyYWdDb2xvciA9IHZlYzQoaXJyYWRpYW5jZSwgMS4wKTsKICAgIC8vIEZyYWdDb2xvciA9IHZlYzQoIHRleHR1cmUoY3ViZU1hcFRleHR1cmUsIHZfdGV4Q29vcmQpLnh5eiwgMS4wKTsKICAgIC8vIEZyYWdDb2xvciA9IHZlYzQoIDEuMCk7Cn0K"},
{ "layout_font", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCiAgICAgICBsYXlvdXQoIGxvY2F0aW9uID0gMCApIGluIHZlYzMgYV9wb3NpdGlvbjsKICAgICAgIGxheW91dCggbG9jYXRpb24gPSAxICkgaW4gdmVjMiBhX3QxOwogICAgICAgb3V0IHZlYzMgdHBvczsKICAgIA"},
{ "layout_normal", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCgpsYXlvdXQoIGxvY2F0aW9uID0gMCApIGluIHZlYzMgYV9wb3NpdGlvbjsKbGF5b3V0KCBsb2NhdGlvbiA9IDEgKSBpbiB2ZWMyIGFfdDE7CmxheW91dCggbG9jYXRpb24gPSAyICkgaW4gdmVjMiBhX3R1djI7CmxheW91dCggbG9jYXRpb24gPSAzICkgaW4gdmVjMyBhX3QyOwpsYXlvdXQoIGxvY2F0aW9uID0gNCApIGluIHZlYzQgYV90MzsKbGF5b3V0KCBsb2NhdGlvbiA9IDUgKSBpbiB2ZWMzIGFfdDQ7ICAgIApsYXlvdXQoIGxvY2F0aW9uID0gNiApIGluIHZlYzQgYV90ODsKCm91dCB2ZWMzIHZfbm9ybTsK"},
{ "layout_pos2d", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCiAgICAgICBsYXlvdXQoIGxvY2F0aW9uID0gMCApIGluIHZlYzMgYV9wb3NpdGlvbjsKICAgIA"},
{ "layout_pos3d", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCiAgICAgICBsYXlvdXQoIGxvY2F0aW9uID0gMCApIGluIHZlYzMgYV9wb3NpdGlvbjsKICAgIA"},
{ "layout_pos_tex2d", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCmxheW91dCggbG9jYXRpb24gPSAwICkgaW4gdmVjMyBhX3Bvc2l0aW9uOwpsYXlvdXQoIGxvY2F0aW9uID0gMSApIGluIHZlYzIgYV90MTsKCm91dCB2ZWMyIHZfdGV4Q29vcmQ7Cg"},
{ "layout_pos_tex2d_v3", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCmxheW91dCggbG9jYXRpb24gPSAwICkgaW4gdmVjMyBhX3Bvc2l0aW9uOwpsYXlvdXQoIGxvY2F0aW9uID0gMSApIGluIHZlYzIgYV90MTsKbGF5b3V0KCBsb2NhdGlvbiA9IDIgKSBpbiB2ZWMzIGFfdDI7CgpvdXQgdmVjMiB2X3RleENvb3JkOwpvdXQgdmVjMyB2X3RleFQyOwogICAg"},
{ "layout_pos_tex3d", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCmxheW91dCggbG9jYXRpb24gPSAwICkgaW4gdmVjMyBhX3Bvc2l0aW9uOwpsYXlvdXQoIGxvY2F0aW9uID0gMSApIGluIHZlYzIgYV90MTsKCm91dCB2ZWMyIHZfdGV4Q29vcmQ7CiAgICA"},
{ "layout_pos_texcubemap", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCiAgICAgICBsYXlvdXQoIGxvY2F0aW9uID0gMCApIGluIHZlYzMgYV9wb3NpdGlvbjsKICAgICAgIG91dCB2ZWMzIHZfdGV4Q29vcmQ7CiAgICA"},
{ "layout_sh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCiAgICAgICBsYXlvdXQoIGxvY2F0aW9uID0gMCApIGluIHZlYzMgYV9wb3NpdGlvbjsKICAgICAgIGxheW91dCggbG9jYXRpb24gPSAxICkgaW4gdmVjMiBhX3QxOwogICAgICAgbGF5b3V0KCBsb2NhdGlvbiA9IDIgKSBpbiB2ZWMyIGFfdHV2MjsKICAgICAgIGxheW91dCggbG9jYXRpb24gPSAzICkgaW4gdmVjMyBhX3QyOwogICAgICAgbGF5b3V0KCBsb2NhdGlvbiA9IDQgKSBpbiB2ZWM0IGFfdDM7CiAgICAgICBsYXlvdXQoIGxvY2F0aW9uID0gNSApIGluIHZlYzMgYV90NDsKICAgICAgIGxheW91dCggbG9jYXRpb24gPSA2ICkgaW4gdmVjNCBhX3Q1OwoKICAgIC8vICAgIGxheW91dCggbG9jYXRpb24gPSA1ICkgaW4gdmVjMyBzaFIxOwogICAgLy8gICAgbGF5b3V0KCBsb2NhdGlvbiA9IDYgKSBpbiB2ZWMzIHNoUjI7CiAgICAvLyAgICBsYXlvdXQoIGxvY2F0aW9uID0gNyApIGluIHZlYzMgc2hSMzsKCiAgICAvLyAgICBsYXlvdXQoIGxvY2F0aW9uID0gOCApIGluIHZlYzMgc2hHMTsKICAgIC8vICAgIGxheW91dCggbG9jYXRpb24gPSA5ICkgaW4gdmVjMyBzaEcyOwogICAgLy8gICAgbGF5b3V0KCBsb2NhdGlvbiA9IDEwICkgaW4gdmVjMyBzaEczOwoKICAgIC8vICAgIGxheW91dCggbG9jYXRpb24gPSAxMSApIGluIHZlYzMgc2hCMTsKICAgIC8vICAgIGxheW91dCggbG9jYXRpb24gPSAxMiApIGluIHZlYzMgc2hCMjsKICAgIC8vICAgIGxheW91dCggbG9jYXRpb24gPSAxMyApIGluIHZlYzMgc2hCMzsKCiAgICAvLyAgICAgICBsYXlvdXQoIGxvY2F0aW9uID0gNiApIGluIHZlYzQgYV90ODsKCiAgICAgICBvdXQgdmVjMiB2X3RleENvb3JkOwogICAgICAgb3V0IHZlYzIgdl90ZXhDb29yZDI7CiAgICAgICBvdXQgdmVjMyB2X25vcm07CiAgICAgICBvdXQgdmVjMyB2X3RhbjsKICAgICAgIG91dCB2ZWMzIHZfYml0YW47CiAgICAgICBvdXQgdmVjNCB2X2NvbG9yOwogICAgICAgb3V0IHZlYzMgdl9zaGFkb3dtYXBfY29vcmQzOwogICAgICAvLyAgb3V0IHZlYzQgdl90ODsKCiAgICAgIG91dCB2ZWMzIFBvc2l0aW9uX3dvcmxkc3BhY2U7CiAgICAgIG91dCB2ZWMzIHRhbmdlbnRWaWV3UG9zOwogICAgICBvdXQgdmVjMyB0YW5nZW50RnJhZ1BvczsKICAgIA"},
{ "lighting_uniforms", "CmxheW91dCggc3RkMTQwICkgdW5pZm9ybSBMaWdodGluZ1VuaWZvcm1zIHsKICAgIHZlYzMgdV9wb2ludExpZ2h0UG9zWzE2XTsKICAgIHZlYzMgdV9wb2ludExpZ2h0RGlyWzE2XTsKICAgIHZlYzMgdV9wb2ludExpZ2h0SW50ZW5zaXR5WzE2XTsKICAgIHZlYzMgdV9wb2ludExpZ2h0QXR0ZW51YXRpb25bMTZdOwogICAgdmVjMyB1X3Nwb3RMaWdodEJlYW1EaXJbMTZdOwogICAgZmxvYXQgdV9vdXRlckN1dE9mZlsxNl07CiAgICBpbnQgIHVfbGlnaHRUeXBlWzE2XTsKCiAgICB2ZWMzIHVfc3VuRGlyZWN0aW9uOwogICAgdmVjMyB1X3N1blBvc2l0aW9uOwogICAgdmVjNCB1X3N1blJhZGlhbmNlOwogICAgbWF0NCB1X212cFNoYWRvd01hcDsKICAgIG1hdDQgdV9kZXB0aEJpYXNNVlA7CiAgICBpbnQgIHVfbnVtUG9pbnRMaWdodHM7CiAgICB2ZWM0IHVfaGRyRXhwb3N1cmVzOwogICAgdmVjNCB1X3NoYWRvd1BhcmFtZXRlcnM7CiAgICBtYXQzIHNoTGlnaHRDb2VmZnM7CiAgICBpbnQgIHVfaGVtaXNwaGVyZVNhbXBsZUtlcm5lbFNpemU7CiAgICB2ZWMzIHVfaGVtaXNwaGVyZVNhbXBsZUtlcm5lbFs2NF07CiAgICB2ZWM0IHVfc3Nhb1BhcmFtZXRlcnM7Cn07Cg"},
{ "loading_screen.fsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCiNpbmNsdWRlICJhbmltYXRpb25fdW5pZm9ybXMuZ2xzbCIKaW4gdmVjMiB2X3RleENvb3JkOwpvdXQgdmVjNCBmcmFnQ29sb3I7CnZlYzIgaVJlc29sdXRpb24gPSB2ZWMyKDY0MC4wLCAzNjAuMCk7CgpmbG9hdCBOMjEodmVjMiBwKSB7CglwID0gZnJhY3QocCAqIHZlYzIoMjMzLjM0LCA4NTEuNzMpKTsKICAgIHAgKz0gZG90KHAsIHAgKyAyMy40NSk7CiAgICByZXR1cm4gZnJhY3QocC54ICogcC55KTsKfQoKZmxvYXQgaW5SZWN0KHZlYzIgcG9zLCB2ZWMyIHRvcExlZnQsIHZlYzIgcmlnaHRCb3R0b20pIHsKCXJldHVybiBzdGVwKHRvcExlZnQueCwgcG9zLngpICogc3RlcChyaWdodEJvdHRvbS55LCBwb3MueSkgKiBzdGVwKC1yaWdodEJvdHRvbS54LCAtcG9zLngpICogc3RlcCgtdG9wTGVmdC55LCAtcG9zLnkpOwp9CgpmbG9hdCBpbkJldHdlZW4oZmxvYXQgeCwgZmxvYXQgYSwgZmxvYXQgYikgewogICAgcmV0dXJuIHN0ZXAoYSwgeCkgKiBzdGVwKC1iLCAteCk7Cn0KCmZsb2F0IGJveExheWVyKGZsb2F0IGRlcHRoLCB2ZWMyIHV2LCBmbG9hdCBzaXplLCBmbG9hdCBwb3MsIGZsb2F0IGlUaW1lKSB7CgogICAgY29uc3QgZmxvYXQgZnVsbERlcHRoID0gNC4wOwogICAgCiAgICBmbG9hdCBib3hIYWxmU2l6ZSA9IHNpemUgKiAwLjU7CgogICAgdmVjMiBib3hDZW50ZXIgPSB2ZWMyKGZ1bGxEZXB0aCAqIHBvcywgKDEuMCAtIGJveEhhbGZTaXplKSAqIHNpbihpVGltZSAqIDEwLjAgKiAoMC4zICsgMC43ICogTjIxKHZlYzIoZGVwdGgsIHNpemUpKSkgKSk7CiAgICAKICAgIHJldHVybiBpblJlY3QodXYsIGJveENlbnRlciArIHZlYzIoLWJveEhhbGZTaXplLCBib3hIYWxmU2l6ZSksIGJveENlbnRlciArIHZlYzIoYm94SGFsZlNpemUsIC1ib3hIYWxmU2l6ZSkpCiAgICAqIGluUmVjdCh1diwgdmVjMigwLjAsIDEuMCksIHZlYzIoMy45OSwgLTEuMCkpICogbWl4KDEuMCwgMC4wLCBwb3MpOwp9Cgp2ZWMzIGxvYWRpbmdDb2xvciggdmVjMiB1diwgZmxvYXQgcHJvZ3Jlc3MsIGZsb2F0IGlUaW1lICkgewogICAgdmVjMiBpbnZfcmVzb2x1dGlvbiA9IDEuMCAvIGlSZXNvbHV0aW9uLnh5OwoJZmxvYXQgc1dpZHRoID0gaVJlc29sdXRpb24ueCAqIGludl9yZXNvbHV0aW9uLnk7CiAgICBjb25zdCBmbG9hdCBiYXJXaWR0aFJhdGlvID0gMC43OwogICAgZmxvYXQgaW52X2JhcldpZHRoID0gMS4wIC8gKGJhcldpZHRoUmF0aW8gKiBzV2lkdGgpOwogICAgZmxvYXQgYmFySGVpZ2h0ID0gMC4wMDcwOwogICAgZmxvYXQgdHdpY2VfaW52X2JhckhlaWdodCA9IDIuMCAvIGJhckhlaWdodDsKICAgIHV2LnggPSB1di54ICogc1dpZHRoOwoKICAgIG1hdDMgVF9iYXIycyA9IG1hdDMoCiAgICAgICAgdmVjMyhpbnZfYmFyV2lkdGgsIDAuMCwgMC4wKSwKICAgICAgICB2ZWMzKDAuMCwgaW52X2JhcldpZHRoLCAwLjApLAogICAgICAgIHZlYzMoKDEuMCAtIHNXaWR0aCAqIGludl9iYXJXaWR0aCkgKiAwLjUsIC0wLjQ4ICogaW52X2JhcldpZHRoLCAxLjApCiAgICApOwoKICAgIHZlYzIgdXZfYmFyID0gKFRfYmFyMnMgKiB2ZWMzKHV2Lnh5LCAxLjApKS54eTsKICAgIGZsb2F0IGlzSW5CYXNlUmVjdCA9IGluUmVjdCh1dl9iYXIsIHZlYzIoMC4wLCAwLjUgKiBiYXJIZWlnaHQpLCB2ZWMyKDEuMCwgLTAuNSAqIGJhckhlaWdodCkpOwogICAgZmxvYXQgaXNJbkFjdGl2ZVJlY3QgPSBpblJlY3QodXZfYmFyLCB2ZWMyKDAuMCwgMC41ICogYmFySGVpZ2h0KSwgdmVjMihwcm9ncmVzcywgLTAuNSAqIGJhckhlaWdodCkpOwogICAgdmVjMyBiYXNlQ29sb3IgPSB2ZWMzKDAuMTI5NDEsIDAuMTM3MjUsIDAuMTc2NDcpOwogICAgdmVjMyBhY3RpdmVDb2xvciA9IG1peCh2ZWMzKDAuMiwgMC4zNTI5NCwgMC45MTM3MyksIHZlYzMoMC40MzUyOSwgMC40MzUyOSwgMC45NjA3OCksIHV2X2Jhci54KTsKICAgIHZlYzMgY29sb3IgPSB2ZWMzKDAuMCk7CiAgICBjb2xvciA9IG1peChjb2xvciwgYmFzZUNvbG9yLCBpc0luQmFzZVJlY3QpOwogICAgY29sb3IgPSBtaXgoY29sb3IsIGFjdGl2ZUNvbG9yLCBpc0luQWN0aXZlUmVjdCk7CgoJcmV0dXJuIGNvbG9yOwp9Cgp2b2lkIG1haW4oKSB7CgogICAgZmxvYXQgaVRpbWUgPSB1X2RlbHRhQW5pbVRpbWUueTsKICAgIGZsb2F0IHByb2dyZXNzID0gdV9kZWx0YUFuaW1UaW1lLnc7CiAgICB2ZWMyIHV2ID0gdl90ZXhDb29yZDsKCiAgICBmbG9hdCBsb3dlckxpbWl0ID0gMC4yOwogICAgZmxvYXQgaGlnaGVyTGltaXQgPSAxLjBmIC0gbG93ZXJMaW1pdDsKICAgIGZsb2F0IGFscGhhaW5nID0gcHJvZ3Jlc3MgPCBsb3dlckxpbWl0ID8gcHJvZ3Jlc3MgOiAxLjA7CgogICAgaWYgKCBwcm9ncmVzcyA8IGxvd2VyTGltaXQgKSB7CiAgICAJYWxwaGFpbmcgPSBzbW9vdGhzdGVwKDAuMGYsIGxvd2VyTGltaXQsIHByb2dyZXNzKTsKICAgIH0gZWxzZSBpZiAoIHByb2dyZXNzID4gaGlnaGVyTGltaXQgKSB7CiAgICAJYWxwaGFpbmcgPSAxLjAgLSBzbW9vdGhzdGVwKGhpZ2hlckxpbWl0LCAxLjBmLCBwcm9ncmVzcyk7CiAgICB9CgogICAgdmVjNCBjID0gdmVjNChsb2FkaW5nQ29sb3IodXYsIHByb2dyZXNzLCBpVGltZSkgKiBhbHBoYWluZywgMC41KTsKICAgIC8vYyAqPSBhbHBoYWluZzsKCiAgICBmcmFnQ29sb3IgPSBjOwp9Cg"},
{ "normalmap_buffer.fsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCgpsYXlvdXQobG9jYXRpb24gPSAwKSBvdXQgdmVjNCBGcmFnTm9ybWFsOwoKaW4gdmVjMyB2X25vcm07CgovL2xheW91dChsb2NhdGlvbiA9IDApIAovLyBvdXQgdmVjNCBGcmFnRGVwdGg7Cgp2b2lkIG1haW4oKSB7CiAgICBGcmFnTm9ybWFsID0gdmVjNCh2X25vcm0gKiAwLjUgKyAwLjUsIDEuMCk7Ly8gOwogICAgLy8gRnJhZ0RlcHRoID0gZ2xfRnJhZ0Nvb3JkLno7Ly8vZ2xfRnJhZ0Nvb3JkLnc7CiAgICAvL0ZyYWdEZXB0aCA9IHZlYzQoZ2xfRnJhZ0Nvb3JkLnosIGdsX0ZyYWdDb29yZC56LCBnbF9GcmFnQ29vcmQueiwgMS4wKTsvL2dsX0ZyYWdDb29yZC56OwogICAgLy8gRnJhZ0RlcHRoID0gdmVjNCgwLjUsIDAuNSwgMC41LCAxLjApOy8vZ2xfRnJhZ0Nvb3JkLno7Cn0K"},
{ "normalmap_buffer.vsh", "I2luY2x1ZGUgImxheW91dF9ub3JtYWwuZ2xzbCIKI2luY2x1ZGUgImNhbWVyYV91bmlmb3Jtcy5nbHNsIgoKdW5pZm9ybSBtYXQ0IHVfbW9kZWxNYXRyaXg7Cgp2b2lkIG1haW4oKSB7CiAgICBtYXQzIG1vZGVsTWF0cml4M3gzID0gbWF0MyggdV9tb2RlbE1hdHJpeCApOwogICAgbWF0MyB2aWV3TWF0cml4M3gzID0gbWF0MyggdV92aWV3TWF0cml4ICk7CiAgICBtb2RlbE1hdHJpeDN4MyA9IHZpZXdNYXRyaXgzeDMgKiBtb2RlbE1hdHJpeDN4MzsKICAgIG1vZGVsTWF0cml4M3gzWzBdID0gbm9ybWFsaXplKCBtb2RlbE1hdHJpeDN4M1swXSApOwogICAgbW9kZWxNYXRyaXgzeDNbMV0gPSBub3JtYWxpemUoIG1vZGVsTWF0cml4M3gzWzFdICk7CiAgICBtb2RlbE1hdHJpeDN4M1syXSA9IG5vcm1hbGl6ZSggbW9kZWxNYXRyaXgzeDNbMl0gKTsKICAgIC8vbW9kZWxNYXRyaXgzeDMgPSBpbnZlcnNlKG1vZGVsTWF0cml4M3gzKTsKICAgIHZfbm9ybSA9IG5vcm1hbGl6ZSggbW9kZWxNYXRyaXgzeDMgKiBhX3QyICk7CiAgICBnbF9Qb3NpdGlvbiA9IHVfbXZwTWF0cml4ICogdV9tb2RlbE1hdHJpeCAqIHZlYzQoIGFfcG9zaXRpb24sIDEuMCApOwp9Cg"},
{ "plain_blur_horizontal.fsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCm91dCB2ZWM0IEZyYWdDb2xvcjsKaW4gdmVjMiB2X3RleENvb3JkOwoKdW5pZm9ybSBzYW1wbGVyMkQgY29sb3JGQlRleHR1cmU7CmZsb2F0IHdlaWdodFs1XSA9IGZsb2F0W10gKDAuMjI3MDI3LCAwLjE5NDU5NDYsIDAuMTIxNjIxNiwgMC4wNTQwNTQsIDAuMDE2MjE2KTsKCnZvaWQgbWFpbigpCnsKICAgIHZlYzIgdGV4X29mZnNldCA9IHZlYzIoMS4wKSAvIHZlYzIodGV4dHVyZVNpemUoY29sb3JGQlRleHR1cmUsIDApKTsgLy8gZ2V0cyBzaXplIG9mIHNpbmdsZSB0ZXhlbAogICAgdmVjMyByZXN1bHQgPSB0ZXh0dXJlKGNvbG9yRkJUZXh0dXJlLCB2X3RleENvb3JkKS5yZ2IgKiB3ZWlnaHRbMF07IC8vIGN1cnJlbnQgZnJhZ21lbnQncyBjb250cmlidXRpb24KCiAgICBmb3IoaW50IGkgPSAxOyBpIDwgNTsgKytpKQogICAgewogICAgICAgIHJlc3VsdCArPSB0ZXh0dXJlKGNvbG9yRkJUZXh0dXJlLCB2X3RleENvb3JkICsgdmVjMih0ZXhfb2Zmc2V0LnggKiBmbG9hdChpKSwgMC4wKSkucmdiICogd2VpZ2h0W2ldOwogICAgICAgIHJlc3VsdCArPSB0ZXh0dXJlKGNvbG9yRkJUZXh0dXJlLCB2X3RleENvb3JkIC0gdmVjMih0ZXhfb2Zmc2V0LnggKiBmbG9hdChpKSwgMC4wKSkucmdiICogd2VpZ2h0W2ldOwogICAgfQoKICAgIEZyYWdDb2xvciA9IHZlYzQocmVzdWx0LCAxLjApOwp9CiAgICA"},
{ "plain_blur_vertical.fsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCm91dCB2ZWM0IEZyYWdDb2xvcjsKaW4gdmVjMiB2X3RleENvb3JkOwoKdW5pZm9ybSBzYW1wbGVyMkQgY29sb3JGQlRleHR1cmU7CmZsb2F0IHdlaWdodFs1XSA9IGZsb2F0W10gKDAuMjI3MDI3LCAwLjE5NDU5NDYsIDAuMTIxNjIxNiwgMC4wNTQwNTQsIDAuMDE2MjE2KTsKCnZvaWQgbWFpbigpCnsKICAgIHZlYzIgdGV4X29mZnNldCA9IHZlYzIoMS4wKSAvIHZlYzIodGV4dHVyZVNpemUoY29sb3JGQlRleHR1cmUsIDApKTsgLy8gZ2V0cyBzaXplIG9mIHNpbmdsZSB0ZXhlbAogICAgdmVjNCByZXN1bHQgPSB0ZXh0dXJlKGNvbG9yRkJUZXh0dXJlLCB2X3RleENvb3JkKSAqIHdlaWdodFswXTsgLy8gY3VycmVudCBmcmFnbWVudCdzIGNvbnRyaWJ1dGlvbgoKICAgIGZvcihpbnQgaSA9IDE7IGkgPCA1OyArK2kpCiAgICB7CiAgICAgICAgcmVzdWx0ICs9IHRleHR1cmUoY29sb3JGQlRleHR1cmUsIHZfdGV4Q29vcmQgKyB2ZWMyKDAuMCwgdGV4X29mZnNldC55ICogZmxvYXQoaSkpKSAqIHdlaWdodFtpXTsKICAgICAgICByZXN1bHQgKz0gdGV4dHVyZShjb2xvckZCVGV4dHVyZSwgdl90ZXhDb29yZCAtIHZlYzIoMC4wLCB0ZXhfb2Zmc2V0LnkgKiBmbG9hdChpKSkpICogd2VpZ2h0W2ldOwogICAgfQoKICAgIEZyYWdDb2xvciA9IHZlYzQoIHJlc3VsdC54eXosIDEuMCApOwp9Cg"},
{ "plain_brdf.fsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCiAgICAgICBvdXQgdmVjMiBGcmFnQ29sb3I7CiAgICAgICBpbiB2ZWMyIHZfdGV4Q29vcmQ7CgogICAgICAgY29uc3QgZmxvYXQgUEkgPSAzLjE0MTU5MjY1MzU5OwogICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgLy8gaHR0cDovL2hvbGdlci5kYW1tZXJ0ei5vcmcvc3R1ZmYvbm90ZXNfSGFtbWVyc2xleU9uSGVtaXNwaGVyZS5odG1sCiAgICAgICAvLyBlZmZpY2llbnQgVmFuRGVyQ29ycHVzIGNhbGN1bGF0aW9uLgogICAgICAgZmxvYXQgUmFkaWNhbEludmVyc2VfVmRDKHVpbnQgYml0cykKICAgICAgIHsKICAgICAgICAgICAgYml0cyA9IChiaXRzIDw8IDE2dSkgfCAoYml0cyA+PiAxNnUpOwogICAgICAgICAgICBiaXRzID0gKChiaXRzICYgMHg1NTU1NTU1NXUpIDw8IDF1KSB8ICgoYml0cyAmIDB4QUFBQUFBQUF1KSA+PiAxdSk7CiAgICAgICAgICAgIGJpdHMgPSAoKGJpdHMgJiAweDMzMzMzMzMzdSkgPDwgMnUpIHwgKChiaXRzICYgMHhDQ0NDQ0NDQ3UpID4+IDJ1KTsKICAgICAgICAgICAgYml0cyA9ICgoYml0cyAmIDB4MEYwRjBGMEZ1KSA8PCA0dSkgfCAoKGJpdHMgJiAweEYwRjBGMEYwdSkgPj4gNHUpOwogICAgICAgICAgICBiaXRzID0gKChiaXRzICYgMHgwMEZGMDBGRnUpIDw8IDh1KSB8ICgoYml0cyAmIDB4RkYwMEZGMDB1KSA+PiA4dSk7CiAgICAgICAgICAgIHJldHVybiBmbG9hdChiaXRzKSAqIDIuMzI4MzA2NDM2NTM4Njk2M2UtMTA7IC8vIC8gMHgxMDAwMDAwMDAKICAgICAgIH0KICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgIHZlYzIgSGFtbWVyc2xleSh1aW50IGksIHVpbnQgTikKICAgICAgIHsKICAgICAgICAgICByZXR1cm4gdmVjMihmbG9hdChpKS9mbG9hdChOKSwgUmFkaWNhbEludmVyc2VfVmRDKGkpKTsKICAgICAgIH0KICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgIHZlYzMgSW1wb3J0YW5jZVNhbXBsZUdHWCh2ZWMyIFhpLCB2ZWMzIE4sIGZsb2F0IHJvdWdobmVzcykKICAgICAgIHsKICAgICAgICAgICBmbG9hdCBhID0gcm91Z2huZXNzKnJvdWdobmVzczsKCiAgICAgICAgICAgZmxvYXQgcGhpID0gMi4wICogUEkgKiBYaS54OwogICAgICAgICAgIGZsb2F0IGNvc1RoZXRhID0gc3FydCgoMS4wIC0gWGkueSkgLyAoMS4wICsgKGEqYSAtIDEuMCkgKiBYaS55KSk7CiAgICAgICAgICAgZmxvYXQgc2luVGhldGEgPSBzcXJ0KDEuMCAtIGNvc1RoZXRhKmNvc1RoZXRhKTsKCiAgICAgICAgICAgLy8gZnJvbSBzcGhlcmljYWwgY29vcmRpbmF0ZXMgdG8gY2FydGVzaWFuIGNvb3JkaW5hdGVzIC0gaGFsZndheSB2ZWN0b3IKICAgICAgICAgICB2ZWMzIEg7CiAgICAgICAgICAgSC54ID0gY29zKHBoaSkgKiBzaW5UaGV0YTsKICAgICAgICAgICBILnkgPSBzaW4ocGhpKSAqIHNpblRoZXRhOwogICAgICAgICAgIEgueiA9IGNvc1RoZXRhOwoKICAgICAgICAgICAvLyBmcm9tIHRhbmdlbnQtc3BhY2UgSCB2ZWN0b3IgdG8gd29ybGQtc3BhY2Ugc2FtcGxlIHZlY3RvcgogICAgICAgICAgIHZlYzMgdXAgICAgICAgICAgPSBhYnMoTi56KSA8IDAuOTk5ID8gdmVjMygwLjAsIDAuMCwgMS4wKSA6IHZlYzMoMS4wLCAwLjAsIDAuMCk7CiAgICAgICAgICAgdmVjMyB0YW5nZW50ICAgPSBub3JtYWxpemUoY3Jvc3ModXAsIE4pKTsKICAgICAgICAgICB2ZWMzIGJpdGFuZ2VudCA9IGNyb3NzKE4sIHRhbmdlbnQpOwoKICAgICAgICAgICB2ZWMzIHNhbXBsZVZlYyA9IHRhbmdlbnQgKiBILnggKyBiaXRhbmdlbnQgKiBILnkgKyBOICogSC56OwogICAgICAgICAgIHJldHVybiBub3JtYWxpemUoc2FtcGxlVmVjKTsKICAgICAgIH0KICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgIGZsb2F0IEdlb21ldHJ5U2NobGlja0dHWChmbG9hdCBOZG90ViwgZmxvYXQgcm91Z2huZXNzKQogICAgICAgewogICAgICAgICAgIC8vIG5vdGUgdGhhdCB3ZSB1c2UgYSBkaWZmZXJlbnQgayBmb3IgSUJMCiAgICAgICAgICAgZmxvYXQgYSA9IHJvdWdobmVzczsKICAgICAgICAgICBmbG9hdCBrID0gKGEgKiBhKSAvIDIuMDsKCiAgICAgICAgICAgZmxvYXQgbm9tICAgPSBOZG90VjsKICAgICAgICAgICBmbG9hdCBkZW5vbSA9IE5kb3RWICogKDEuMCAtIGspICsgazsKCiAgICAgICAgICAgcmV0dXJuIG5vbSAvIGRlbm9tOwogICAgICAgfQogICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgZmxvYXQgR2VvbWV0cnlTbWl0aCh2ZWMzIE4sIHZlYzMgViwgdmVjMyBMLCBmbG9hdCByb3VnaG5lc3MpCiAgICAgICB7CiAgICAgICAgICAgZmxvYXQgTmRvdFYgPSBtYXgoZG90KE4sIFYpLCAwLjApOwogICAgICAgICAgIGZsb2F0IE5kb3RMID0gbWF4KGRvdChOLCBMKSwgMC4wKTsKICAgICAgICAgICBmbG9hdCBnZ3gyID0gR2VvbWV0cnlTY2hsaWNrR0dYKE5kb3RWLCByb3VnaG5lc3MpOwogICAgICAgICAgIGZsb2F0IGdneDEgPSBHZW9tZXRyeVNjaGxpY2tHR1goTmRvdEwsIHJvdWdobmVzcyk7CgogICAgICAgICAgIHJldHVybiBnZ3gxICogZ2d4MjsKICAgICAgIH0KICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgIHZlYzIgSW50ZWdyYXRlQlJERihmbG9hdCBOZG90ViwgZmxvYXQgcm91Z2huZXNzKQogICAgICAgewogICAgICAgICAgIHZlYzMgVjsKICAgICAgICAgICBWLnggPSBzcXJ0KDEuMCAtIE5kb3RWKk5kb3RWKTsKICAgICAgICAgICBWLnkgPSAwLjA7CiAgICAgICAgICAgVi56ID0gTmRvdFY7CgogICAgICAgICAgIGZsb2F0IEEgPSAwLjA7CiAgICAgICAgICAgZmxvYXQgQiA9IDAuMDsKCiAgICAgICAgICAgdmVjMyBOID0gdmVjMygwLjAsIDAuMCwgMS4wKTsKCiAgICAgICAgICAgY29uc3QgdWludCBTQU1QTEVfQ09VTlQgPSAxMDI0dTsKICAgICAgICAgICBmb3IodWludCBpID0gMHU7IGkgPCBTQU1QTEVfQ09VTlQ7ICsraSkKICAgICAgICAgICB7CiAgICAgICAgICAgICAgIC8vIGdlbmVyYXRlcyBhIHNhbXBsZSB2ZWN0b3IgdGhhdCdzIGJpYXNlZCB0b3dhcmRzIHRoZQogICAgICAgICAgICAgICAvLyBwcmVmZXJyZWQgYWxpZ25tZW50IGRpcmVjdGlvbiAoaW1wb3J0YW5jZSBzYW1wbGluZykuCiAgICAgICAgICAgICAgIHZlYzIgWGkgPSBIYW1tZXJzbGV5KGksIFNBTVBMRV9DT1VOVCk7CiAgICAgICAgICAgICAgIHZlYzMgSCA9IEltcG9ydGFuY2VTYW1wbGVHR1goWGksIE4sIHJvdWdobmVzcyk7CiAgICAgICAgICAgICAgIHZlYzMgTCA9IG5vcm1hbGl6ZSgyLjAgKiBkb3QoViwgSCkgKiBIIC0gVik7CgogICAgICAgICAgICAgICBmbG9hdCBOZG90TCA9IG1heChMLnosIDAuMCk7CiAgICAgICAgICAgICAgIGZsb2F0IE5kb3RIID0gbWF4KEgueiwgMC4wKTsKICAgICAgICAgICAgICAgZmxvYXQgVmRvdEggPSBtYXgoZG90KFYsIEgpLCAwLjApOwoKICAgICAgICAgICAgICAgaWYoTmRvdEwgPiAwLjApCiAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgIGZsb2F0IEcgPSBHZW9tZXRyeVNtaXRoKE4sIFYsIEwsIHJvdWdobmVzcyk7CiAgICAgICAgICAgICAgICAgICBmbG9hdCBHX1ZpcyA9IChHICogVmRvdEgpIC8gKE5kb3RIICogTmRvdFYpOwogICAgICAgICAgICAgICAgICAgZmxvYXQgRmMgPSBwb3coMS4wIC0gVmRvdEgsIDUuMCk7CgogICAgICAgICAgICAgICAgICAgQSArPSAoMS4wIC0gRmMpICogR19WaXM7CiAgICAgICAgICAgICAgICAgICBCICs9IEZjICogR19WaXM7CiAgICAgICAgICAgICAgIH0KICAgICAgICAgICB9CiAgICAgICAgICAgQSAvPSBmbG9hdChTQU1QTEVfQ09VTlQpOwogICAgICAgICAgIEIgLz0gZmxvYXQoU0FNUExFX0NPVU5UKTsKICAgICAgICAgICByZXR1cm4gdmVjMihBLCBCKTsKICAgICAgIH0KICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgIHZvaWQgbWFpbigpCiAgICAgICB7CiAgICAgICAgICAgdmVjMiBpbnRlZ3JhdGVkQlJERiA9IEludGVncmF0ZUJSREYodl90ZXhDb29yZC54LCB2X3RleENvb3JkLnkpOwogICAgICAgICAgIEZyYWdDb2xvciA9IGludGVncmF0ZWRCUkRGOwogICAgICAgfQogICAg"},
{ "plain_cubemap.fsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCiNwcmVjaXNpb25faGlnaAppbiB2ZWMzIHZfdGV4Q29vcmQ7CgpsYXlvdXQoIGxvY2F0aW9uID0gMCApIG91dCB2ZWM0IEZyYWdDb2xvcjsKbGF5b3V0KCBsb2NhdGlvbiA9IDEgKSBvdXQgdmVjNCBCbG9vbUNvbG9yOwoKdW5pZm9ybSBzYW1wbGVyQ3ViZSBjdWJlTWFwVGV4dHVyZTsKdW5pZm9ybSBmbG9hdCBkZWx0YTsKCnZvaWQgbWFpbigpCnsKICAgIC8vIGNvbG9yLnh5eiA9IG1peCggdGV4dHVyZShjdWJlTWFwVGV4dHVyZSwgdl90ZXhDb29yZCApLnh5eiwgdmVjMygxLjApLCBkZWx0YSk7CiAgICBGcmFnQ29sb3IueHl6ID0gdGV4dHVyZShjdWJlTWFwVGV4dHVyZSwgdl90ZXhDb29yZCApLnh5ejsKICAgIEZyYWdDb2xvci53ID0gMS4wOwogICAgQmxvb21Db2xvciA9IHZlYzQoRnJhZ0NvbG9yLnh5eiwgMS4wKTsKICAgIC8vIGNvbG9yID0gdmVjNCggdl90ZXhDb29yZCwgMS4wKTsKfQogICAg"},
{ "plain_cubemap.vsh", "I2luY2x1ZGUgImxheW91dF9wb3NfdGV4Y3ViZW1hcC5nbHNsIgojaW5jbHVkZSAiY2FtZXJhX3VuaWZvcm1zLmdsc2wiCgp2b2lkIG1haW4oKSB7CiAgICBtYXQ0IHZtID0gdV9wcm9qTWF0cml4ICogdV92aWV3TWF0cml4OwogICAgZ2xfUG9zaXRpb24gPSB2bSAqIHZlYzQoIGFfcG9zaXRpb24sIDEuMCApOwogICAgdl90ZXhDb29yZCA9IGFfcG9zaXRpb24ueHl6Owp9CiAgICA"},
{ "plain_final_combine.fsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCiNwcmVjaXNpb25faGlnaAoKI2RlZmluZSBfQ0FNRVJBX01PVElPTl9CTFVSUklOR18gMAojZGVmaW5lIF9WSUdORVRUSU5HXyAxCiNkZWZpbmUgX0dSQUlOSU5HXyAxCiNkZWZpbmUgX0RPRklOR18gMAojZGVmaW5lIF9MVVQzRElOR18gMAojZGVmaW5lIF9CTE9PTUlOR18gMAojZGVmaW5lIF9TU0FPSU5HXyAxCgojaW5jbHVkZSAibGlnaHRpbmdfdW5pZm9ybXMuZ2xzbCIKI2luY2x1ZGUgImNhbWVyYV91bmlmb3Jtcy5nbHNsIgojaW5jbHVkZSAiYW5pbWF0aW9uX3VuaWZvcm1zLmdsc2wiCgppbiB2ZWMyIHZfdGV4Q29vcmQ7CmluIHZlYzMgdl90ZXhUMjsKb3V0IHZlYzQgRnJhZ0NvbG9yOwp1bmlmb3JtIHNhbXBsZXIyRCBjb2xvckZCVGV4dHVyZTsKdW5pZm9ybSBzYW1wbGVyMkQgYmxvb21UZXh0dXJlOwp1bmlmb3JtIHNhbXBsZXIyRCBzaGFkb3dNYXBUZXh0dXJlOwp1bmlmb3JtIHNhbXBsZXIzRCBsdXQzZFRleHR1cmU7CnVuaWZvcm0gc2FtcGxlcjJEIGRlcHRoTWFwVGV4dHVyZTsKdW5pZm9ybSBzYW1wbGVyMkQgc3Nhb01hcFRleHR1cmU7Ci8vdW5pZm9ybSBzYW1wbGVyMkQgdWlUZXh0dXJlOwoKLy8gUG9zdCBwcm9jZXNzaW5nIGNvbnRyb2wgdW5pZm9ybXMgCnVuaWZvcm0gZmxvYXQgc3Nhb0JsZW5kRmFjdG9yOwoKZmxvYXQgdmlnbmV0dGluZygpIHsKICAgIC8vIFZpZ25ldHRpbmcKICAgIGZsb2F0IGZzdG9wID0gMC41OwogICAgZmxvYXQgdmlnbm91dCA9IDAuOTU7IC8vIHZpZ25ldHRpbmcgb3V0ZXIgYm9yZGVyCiAgICBmbG9hdCB2aWduaW4gPSAwLjA7IC8vIHZpZ25ldHRpbmcgaW5uZXIgYm9yZGVyCiAgICBmbG9hdCB2aWduZmFkZSA9IDEwMC4wOyAvLyBmLXN0b3BzIHRpbGwgdmlnbmV0ZSBmYWRlcwogICAgZmxvYXQgZGlzdCA9IGRpc3RhbmNlKHZfdGV4Q29vcmQsIHZlYzIoMC41LDAuNSkpOwogICAgZGlzdCA9IHNtb290aHN0ZXAodmlnbm91dCsoZnN0b3AvdmlnbmZhZGUpLCB2aWduaW4rKGZzdG9wL3ZpZ25mYWRlKSwgZGlzdCk7CiAgICByZXR1cm4gY2xhbXAoZGlzdCwwLjAsMS4wKTsKfQoKZmxvYXQgZ3JhaW4oKSB7CiAgICBmbG9hdCBzdHJlbmd0aCA9IDYuMDsgICAgCiAgICBmbG9hdCBpVGltZSA9IDEuNzQ4OTIzOwogICAgZmxvYXQgeCA9ICh2X3RleENvb3JkLnggKyAyLjAgKSAqICh2X3RleENvb3JkLnkgKyA0LjAgKSAqIChpVGltZSAqIDEwLjApOwoJcmV0dXJuIDEuMCAtICgobW9kKChtb2QoeCwgMTcuMCkgKyAxLjApICogKG1vZCh4LCAxMjMuMCkgKyAxLjApLCAwLjAyKS0wLjAwNzUpICogc3RyZW5ndGgpOwp9Cgp2ZWMzIGJsb29tKCBmbG9hdCBhbW91bnQgKSB7CiAgICByZXR1cm4gdmVjMyh0ZXh0dXJlKGJsb29tVGV4dHVyZSwgdl90ZXhDb29yZCkuciphbW91bnQpOwp9Cgp2ZWMzIHNzYW8oKSB7CiAgICByZXR1cm4gdGV4dHVyZShzc2FvTWFwVGV4dHVyZSwgdl90ZXhDb29yZCkueHl6Owp9Cgp2ZWMzIGx1dDNkKCB2ZWMzIHNjZW5lQ29sb3IgKSB7CiAgICByZXR1cm4gdGV4dHVyZSggbHV0M2RUZXh0dXJlLCBzY2VuZUNvbG9yICkueHl6Owp9Cgp2ZWMzIGNhbWVyYU1vdGlvbkJsdXIoIHZlYzMgc2NlbmVDb2xvciApIHsKICAgIHZlYzQgY3VycmVudCA9IHZlYzQodl90ZXhUMiAqIHRleHR1cmUoZGVwdGhNYXBUZXh0dXJlLCB2X3RleENvb3JkKS5yLCAxLjApOwogICAgY3VycmVudCA9IHVfaW52ZXJzZU12TWF0cml4ICogY3VycmVudDsgCiAgICB2ZWM0IHByZXZpb3VzID0gdV9wcmV2TXZwTWF0cml4ICogdmVjNChjdXJyZW50Lnh5eiwgMS4wKTsKICAgIHByZXZpb3VzLnh5IC89IC1wcmV2aW91cy53OwogICAgcHJldmlvdXMueHkgPSBwcmV2aW91cy54eSAqIHZlYzIoLTAuNSwgMC41KSArIDAuNTsKICAgIGZsb2F0IG1ibHVyU2NhbGUgPSAoMS4wL3VfZGVsdGFBbmltVGltZS54KSAvIDYwLjA7CiAgICB2ZWMyIGJsdXJWZWMgPSAocHJldmlvdXMueHkgLSB2X3RleENvb3JkKSAqIG1ibHVyU2NhbGU7CgogICAgY29uc3QgaW50IG5TYW1wbGVzID0gNDsKICAgIGZvciAoaW50IGkgPSAxOyBpIDwgblNhbXBsZXM7ICsraSkgewogICAgICAgIHZlYzIgb2Zmc2V0ID0gYmx1clZlYyAqIChmbG9hdChpKSAvIGZsb2F0KG5TYW1wbGVzIC0gMSkgLSAwLjUpOyAgCiAgICAgICAgc2NlbmVDb2xvci54eXogKz0gdGV4dHVyZShjb2xvckZCVGV4dHVyZSwgdl90ZXhDb29yZCArIG9mZnNldCApLnh5ejsKICAgIH0KIAogICAgc2NlbmVDb2xvci54eXogLz0gZmxvYXQoblNhbXBsZXMpOwogICAgcmV0dXJuIHNjZW5lQ29sb3I7Cn0KCiNpbmNsdWRlICJkb2YuZ2xzbCIKCnZvaWQgbWFpbigpIHsKCiAgICB2ZWM0IHNjZW5lQ29sb3IgPSB0ZXh0dXJlKGNvbG9yRkJUZXh0dXJlLCB2X3RleENvb3JkKTsKCiAgICAvLyBzY2VuZUNvbG9yID0gdGV4dHVyZShzaGFkb3dNYXBUZXh0dXJlLCB2X3RleENvb3JkKS54eHh4OwogICAgLy8gRnJhZ0NvbG9yLnJnYj0gc2NlbmVDb2xvci5yZ2I7CiAgICAvLyBGcmFnQ29sb3IuYSA9IDEuMDsKICAgIC8vIHJldHVybjsKCiAgICAjaWYgX0NBTUVSQV9NT1RJT05fQkxVUlJJTkdfCiAgICBzY2VuZUNvbG9yLnh5eiA9IGNhbWVyYU1vdGlvbkJsdXIoc2NlbmVDb2xvci54eXopOwogICAgI2VuZGlmCgogICAgI2lmIF9ET0ZJTkdfCiAgICBzY2VuZUNvbG9yLnh5eiA9IGRvZigpOwogICAgI2VuZGlmCgogICAgI2lmIF9MVVQzRElOR18KICAgIHNjZW5lQ29sb3IueHl6ID0gbHV0M2Qoc2NlbmVDb2xvci54eXopOwogICAgI2VuZGlmCgogICAgI2lmIF9CTE9PTUlOR18KICAgIHNjZW5lQ29sb3IueHl6ICs9IGJsb29tKDAuMzUpOyAKICAgICNlbmRpZgoKICAgICNpZiBfU1NBT0lOR18KICAgIHNjZW5lQ29sb3IueHl6ICo9IG1peChzc2FvKCksIHZlYzMoMS4wKSwgdmVjMyhzc2FvQmxlbmRGYWN0b3IpKTsgLy90cnkgd2l0aCBzb21lIGV4cCBvbiBzc2FvLCBtaWdodCBsb29rIGJldHRlcgovLyAgICBzY2VuZUNvbG9yLnh5eiAqPSBwb3coIHNzYW8oKSwgdmVjMygxLjUpKTsgLy90cnkgd2l0aCBzb21lIGV4cCBvbiBzc2FvLCBtaWdodCBsb29rIGJldHRlcgogICAgI2VuZGlmCgogICAgI2lmIF9WSUdORVRUSU5HXwogICAgc2NlbmVDb2xvci54eXogKj0gdmlnbmV0dGluZygpOwogICAgI2VuZGlmCgogICAgI2lmIF9HUkFJTklOR18KICAgIHNjZW5lQ29sb3IueHl6ICo9IGdyYWluKCk7CiAgICAjZW5kaWYKCi8vICAgIHZlYzQgdWlDb2xvciA9IHRleHR1cmUodWlUZXh0dXJlLCB2X3RleENvb3JkKTsKLy8gICAgc2NlbmVDb2xvci5yZ2IgPSBtaXgoc2NlbmVDb2xvci5yZ2IsIHVpQ29sb3IucmdiLCB1aUNvbG9yLmEpOwoKICAgIEZyYWdDb2xvciA9IHNjZW5lQ29sb3I7Cn0K"},
{ "plain_font.fsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCgojaW5jbHVkZSAiY29sb3JfdW5pZm9ybXMuZ2xzbCIKCmluIHZlYzMgdHBvczsKbGF5b3V0KCBsb2NhdGlvbiA9IDAgKSBvdXQgdmVjNCBGcmFnQ29sb3I7CmxheW91dCggbG9jYXRpb24gPSAxICkgb3V0IHZlYzQgRnJhZ0F0dGFjaDE7Cgp2b2lkIG1haW4oKQp7CiAgICBmbG9hdCBhbHBoYVYgPSAxLjA7CiAgICBpZiAoIHRwb3MueiA8IDAuNSApIHsKICAgICAgICB2ZWMyIHAgPSB0cG9zLnh5OwogICAgICAgIC8vIEdyYWRpZW50cwogICAgICAgIHZlYzIgcHggPSBkRmR4KHApOwogICAgICAgIHZlYzIgcHkgPSBkRmR5KHApOwogICAgICAgIC8vIENoYWluIHJ1bGUKICAgICAgICBmbG9hdCBmeCA9ICgoMi4wKnAueCkqcHgueCAtIHB4LnkpOwogICAgICAgIGZsb2F0IGZ5ID0gKCgyLjAqcC54KSpweS54IC0gcHkueSk7CiAgICAgICAgLy8gU2lnbmVkIGRpc3RhbmNlCiAgICAgICAgZmxvYXQgZGlzdCA9IGZ4KmZ4ICsgZnkqZnk7CiAgICAgICAgZmxvYXQgc2QgPSAocC54KnAueCAtIHAueSkvc3FydChkaXN0KTsKICAgICAgICAvLyBMaW5lYXIgYWxwaGEKICAgICAgICBpZiAoIHNkID4gMC41ICkgewogICAgICAgICAgICBhbHBoYVYgKj0gY2xhbXAoMC41IC0gc2QsIDAuMCwgMS4wKTsKICAgICAgICB9CiAgICB9IGVsc2UgewogICAgICAgIGFscGhhViAqPSByb3VuZCgodHBvcy54ICogdHBvcy54IC0gdHBvcy55KSAqIHRwb3MueiArIDAuNWYpOwogICAgfQogICAgZmxvYXQgYUZhY3RvciA9IGFscGhhKmFscGhhVipvcGFjaXR5OwogICAgRnJhZ0NvbG9yID0gdmVjNChkaWZmdXNlQ29sb3IgKiBhRmFjdG9yLCBhRmFjdG9yKTsKfQo"},
{ "plain_sh.fsh", "I2luY2x1ZGUgInBsYWluX3NoX2NvbW1vbi5nbHNsIgojaW5jbHVkZSAidGV4dHVyZV9ub3RpbGUuZ2xzbCIKI2RlZmluZSBzaF9yZWZsZWN0aW9ucwoKLy8gZmxvYXQgZWRnZUZhY3RvclRyaSgpIHsKLy8gICAgICAgdmVjMyBkID0gZndpZHRoKCB2X3Q4Lnh5eiApOwovLyAgICAgICB2ZWMzIGEzID0gc21vb3Roc3RlcCggdmVjMyggMC4wICksIGQgKiAxLjUsIHZfdDgueHl6ICk7Ci8vICAgICAgIHJldHVybiBtaW4oIG1pbiggYTMueCwgYTMueSApLCBhMy56ICk7Ci8vIH0KCnZvaWQgbWFpbigpIHsKCi8vICAgbWF0MyBpdGJuOwovLyAgIGl0Ym5bMF0gPSBub3JtYWxpemUoIHZfdGFuICk7Ci8vICAgaXRiblsxXSA9IG5vcm1hbGl6ZSggdl9iaXRhbiApOwovLyAgIGl0Ym5bMl0gPSBub3JtYWxpemUoIHZfbm9ybSApOwovLyAgIGl0Ym4gPSB0cmFuc3Bvc2UoIGl0Ym4gKTsKCiAgIHZlYzMgViA9IG5vcm1hbGl6ZSggdV9leWVQb3MgLSBQb3NpdGlvbl93b3JsZHNwYWNlICk7CiAgIHZlYzMgdnRhbmcgPSBub3JtYWxpemUoIHRhbmdlbnRWaWV3UG9zIC0gdGFuZ2VudEZyYWdQb3MgKTsKCiAgIHZlYzIgdGV4Q29vcmRzID0gdl90ZXhDb29yZDsKICAgLy92ZWMyIHRleENvb3JkcyA9IFBhcmFsbGF4TWFwcGluZyh2X3RleENvb3JkLCB2dGFuZyk7CgogICBhbyA9IHRleHR1cmUoIGFvVGV4dHVyZSwgdGV4Q29vcmRzICkueCAqIGFvVjsKICAgcm91Z2huZXNzID0gKHRleHR1cmUoIHJvdWdobmVzc1RleHR1cmUsIHRleENvb3JkcyApLnggKiByb3VnaG5lc3NWKTsKICAgbWV0YWxsaWMgPSAodGV4dHVyZSggbWV0YWxsaWNUZXh0dXJlLCB0ZXhDb29yZHMgKS54ICogbWV0YWxsaWNWKTsKICAgb3BhY2l0eVYgPSB0ZXh0dXJlKCBvcGFjaXR5VGV4dHVyZSwgdGV4Q29vcmRzICkueCAqIG9wYWNpdHk7IAogICB2ZWMzIGFsYmVkbyA9IHRleHR1cmUoIGRpZmZ1c2VUZXh0dXJlLCB0ZXhDb29yZHMgKS54eXogKiBkaWZmdXNlQ29sb3IqMS4zMTgzOwogICB0cmFuc2x1Y2VuY3lWID0gdGV4dHVyZSggdHJhbnNsdWNlbmN5VGV4dHVyZSwgdGV4Q29vcmRzICkueDsKICAgYWxiZWRvID0gcG93KGFsYmVkbywgdmVjMygyLjIvMS4wKSk7CgogICB2ZWMzIE4gPSBnZXROb3JtYWxGcm9tTWFwKHRleENvb3Jkcyk7CgogICBzaGFkb3dfY29kZQoKICAgbGlnaHRfY29kZQoKICAgZmluYWxfY29tYmluZQp9Cg"},
{ "plain_sh_common", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCiNwcmVjaXNpb25faGlnaAoKbGF5b3V0KCBsb2NhdGlvbiA9IDAgKSBvdXQgdmVjNCBGcmFnQ29sb3I7CmxheW91dCggbG9jYXRpb24gPSAxICkgb3V0IHZlYzQgRnJhZ0F0dGFjaDE7CgppbiB2ZWMyIHZfdGV4Q29vcmQ7CmluIHZlYzIgdl90ZXhDb29yZDI7CmluIHZlYzMgdl9ub3JtOwppbiB2ZWMzIHZfdGFuOwppbiB2ZWMzIHZfYml0YW47CmluIHZlYzQgdl9jb2xvcjsKaW4gdmVjMyB2X3NoYWRvd21hcF9jb29yZDM7CmluIHZlYzMgUG9zaXRpb25fd29ybGRzcGFjZTsKaW4gdmVjMyB0YW5nZW50Vmlld1BvczsKaW4gdmVjMyB0YW5nZW50RnJhZ1BvczsKLy8gaW4gdmVjNCB2X3Q4OwoKI2luY2x1ZGUgImxpZ2h0aW5nX3VuaWZvcm1zLmdsc2wiCiNpbmNsdWRlICJjYW1lcmFfdW5pZm9ybXMuZ2xzbCIKI2luY2x1ZGUgImNvbG9yX3VuaWZvcm1zLmdsc2wiCgp1bmlmb3JtIHNhbXBsZXIyRCBkaWZmdXNlVGV4dHVyZTsgICAgICAgICAvLyAwIGdsVGV4dHVyZVNsb3QKdW5pZm9ybSBzYW1wbGVyMkQgbm9ybWFsVGV4dHVyZTsgICAgICAgICAgLy8gMSBnbFRleHR1cmVTbG90CnVuaWZvcm0gc2FtcGxlcjJEU2hhZG93IHNoYWRvd01hcFRleHR1cmU7IC8vIDIgZ2xUZXh0dXJlU2xvdAp1bmlmb3JtIHNhbXBsZXIyRCBhb1RleHR1cmU7ICAgICAgICAgICAgICAvLyA2IGdsVGV4dHVyZVNsb3QKdW5pZm9ybSBzYW1wbGVyMkQgcm91Z2huZXNzVGV4dHVyZTsKdW5pZm9ybSBzYW1wbGVyMkQgbWV0YWxsaWNUZXh0dXJlOyAgICAgICAgLy8gOCBnbFRleHR1cmVTbG90CnVuaWZvcm0gc2FtcGxlcjJEIGhlaWdodFRleHR1cmU7CnVuaWZvcm0gc2FtcGxlcjJEIG9wYWNpdHlUZXh0dXJlOyAKdW5pZm9ybSBzYW1wbGVyMkQgdHJhbnNsdWNlbmN5VGV4dHVyZTsKdW5pZm9ybSBzYW1wbGVyMkQgbGlnaHRtYXBUZXh0dXJlOwoKLy8gSUJMCnVuaWZvcm0gc2FtcGxlckN1YmUgaWJsX2lycmFkaWFuY2VNYXA7ICAgICAgICAvLyA5IGdsVGV4dHVyZVNsb3QKdW5pZm9ybSBzYW1wbGVyQ3ViZSBpYmxfc3BlY3VsYXJNYXA7ICAgICAgICAgLy8gMTAgZ2xUZXh0dXJlU2xvdAp1bmlmb3JtIHNhbXBsZXIyRCAgIGlibF9icmRmTFVUTWFwOyAgICAgICAgICAgICAgLy8gMTEgZ2xUZXh0dXJlU2xvdAoKdW5pZm9ybSB2ZWMzICBhbWJpZW50Owp1bmlmb3JtIHZlYzMgIGluY2FuZGVzY2VuY2VDb2xvcjsKdW5pZm9ybSBmbG9hdCBpbmNhbmRlc2NlbmNlRmFjdG9yOwp1bmlmb3JtIGZsb2F0IGRpZmZ1c2U7CnVuaWZvcm0gZmxvYXQgcmVmbGVjdGl2aXR5Owp1bmlmb3JtIHZlYzMgc3BlY3VsYXJDb2xvcjsKdW5pZm9ybSBmbG9hdCBjb3NpbmVQb3dlcjsKdW5pZm9ybSBmbG9hdCBtZXRhbGxpY1Y7CnVuaWZvcm0gZmxvYXQgcm91Z2huZXNzVjsKdW5pZm9ybSBmbG9hdCBhb1Y7CgpmbG9hdCBtZXRhbGxpYzsKZmxvYXQgcm91Z2huZXNzOwpmbG9hdCBhbzsKZmxvYXQgaGVpZ2h0X3NjYWxlID0gLjA0OwpmbG9hdCBvcGFjaXR5ViA9IDEuMDsKZmxvYXQgdHJhbnNsdWNlbmN5ViA9IDEuMDsKCmNvbnN0IGZsb2F0IFBJID0gMy4xNDE1OTI2NTM1OTsKCmZsb2F0IHJhbmRvbSh2ZWM0IHNlZWQ0KXsKICAgIGZsb2F0IGRvdF9wcm9kdWN0ID0gZG90KHNlZWQ0LCB2ZWM0KDEyLjk4OTgsNzguMjMzLDQ1LjE2NCw5NC42NzMpKTsKICAgIHJldHVybiBmcmFjdChzaW4oZG90X3Byb2R1Y3QpICogNDM3NTguNTQ1Myk7CiAgICAvLyByZXR1cm4gZnJhY3Qoc2luKGRvdChjby54eSAsdmVjMigxMi45ODk4LDc4LjIzMykpKSAqIDQzNzU4LjU0NTMpOwp9Cgp2ZWMyIHBvaXNzb25EaXNrWzE2XSA9IHZlYzJbXSgKICAgIHZlYzIoIC0wLjk0MjAxNjI0LCAtMC4zOTkwNjIxNiApLAogICAgdmVjMiggMC45NDU1ODYwOSwgLTAuNzY4OTA3MjUgKSwKICAgIHZlYzIoIC0wLjA5NDE4NDEwMSwgLTAuOTI5Mzg4NzAgKSwKICAgIHZlYzIoIDAuMzQ0OTU5MzgsIDAuMjkzODc3NjAgKSwKICAgIHZlYzIoIC0wLjI5NDE4NDEwMSwgLTAuMjMyOTM4ODcwICksCiAgICB2ZWMyKCAwLjM5NDE4NDEwMSwgMC44OTI5Mzg4NzAgKSwKICAgIHZlYzIoIC0wLjc5NDE4NDEwMSwgLTAuOTM5Mzg4NzAgKSwKICAgIHZlYzIoIDAuNDk0MTg0MTAxLCAwLjQ1OTM4ODcwICksCiAgICB2ZWMyKCAtMC42OTQxODQxMDEsIC0wLjcxOTM4ODcwICksCiAgICB2ZWMyKCAwLjU5NDE4NDEwMSwgMC4xNTkzODg3MCApLAogICAgdmVjMiggLTAuMjk0MTg0MTAxLCAtMC43MzI5Mzg4NzAgKSwKICAgIHZlYzIoIDAuMTk0MTg0MTAxLCAwLjAyOTM4ODcwICksICAgIAogICAgdmVjMiggLTAuNzE0MTg0MTAxLCAtMC41NTkzODg3MCApLAogICAgdmVjMiggLTAuMjE0MTg0MTAxLCAwLjM5OTM4ODcwICksCiAgICB2ZWMyKCAtMC42NDQxODQxMDEsIDAuODk5Mzg4NzAgKSwKICAgIHZlYzIoIDAuMzQ0OTU5MzgsIC0wLjI5Mzg3NzYwICkKICAgICk7Cgp2ZWMyIFBhcmFsbGF4TWFwcGluZyh2ZWMyIHRleENvb3JkcywgdmVjMyB2aWV3RGlyKQp7CiAgICAvLyBudW1iZXIgb2YgZGVwdGggbGF5ZXJzCiAgICBjb25zdCBmbG9hdCBtaW5MYXllcnMgPSA4LjA7CiAgICBjb25zdCBmbG9hdCBtYXhMYXllcnMgPSAzMi4wOwogICAgZmxvYXQgbnVtTGF5ZXJzID0gbWl4KG1heExheWVycywgbWluTGF5ZXJzLCBhYnMoZG90KHZlYzMoMC4wLCAwLjAsIDEuMCksIHZpZXdEaXIpKSk7CiAgICAvLyBjYWxjdWxhdGUgdGhlIHNpemUgb2YgZWFjaCBsYXllcgogICAgZmxvYXQgbGF5ZXJEZXB0aCA9IDEuMCAvIG51bUxheWVyczsKICAgIC8vIGRlcHRoIG9mIGN1cnJlbnQgbGF5ZXIKICAgIGZsb2F0IGN1cnJlbnRMYXllckRlcHRoID0gMC4wOwogICAgLy8gdGhlIGFtb3VudCB0byBzaGlmdCB0aGUgdGV4dHVyZSBjb29yZGluYXRlcyBwZXIgbGF5ZXIgKGZyb20gdmVjdG9yIFApCiAgICB2ZWMyIFAgPSB2aWV3RGlyLnh5IC8gLXZpZXdEaXIueiAqIGhlaWdodF9zY2FsZTsKICAgIHZlYzIgZGVsdGFUZXhDb29yZHMgPSBQIC8gbnVtTGF5ZXJzOwoKICAgIC8vIGdldCBpbml0aWFsIHZhbHVlcwogICAgdmVjMiAgY3VycmVudFRleENvb3JkcyAgICAgPSB0ZXhDb29yZHM7CiAgICBmbG9hdCBjdXJyZW50RGVwdGhNYXBWYWx1ZSA9IHRleHR1cmUoaGVpZ2h0VGV4dHVyZSwgY3VycmVudFRleENvb3JkcykucjsKCiAgICB3aGlsZShjdXJyZW50TGF5ZXJEZXB0aCA8IGN1cnJlbnREZXB0aE1hcFZhbHVlKQogICAgewogICAgICAgIC8vIHNoaWZ0IHRleHR1cmUgY29vcmRpbmF0ZXMgYWxvbmcgZGlyZWN0aW9uIG9mIFAKICAgICAgICBjdXJyZW50VGV4Q29vcmRzIC09IGRlbHRhVGV4Q29vcmRzOwogICAgICAgIC8vIGdldCBkZXB0aG1hcCB2YWx1ZSBhdCBjdXJyZW50IHRleHR1cmUgY29vcmRpbmF0ZXMKICAgICAgICBjdXJyZW50RGVwdGhNYXBWYWx1ZSA9IHRleHR1cmUoaGVpZ2h0VGV4dHVyZSwgY3VycmVudFRleENvb3JkcykucjsKICAgICAgICAvLyBnZXQgZGVwdGggb2YgbmV4dCBsYXllcgogICAgICAgIGN1cnJlbnRMYXllckRlcHRoICs9IGxheWVyRGVwdGg7CiAgICB9CgogICAgLy8gZ2V0IHRleHR1cmUgY29vcmRpbmF0ZXMgYmVmb3JlIGNvbGxpc2lvbiAocmV2ZXJzZSBvcGVyYXRpb25zKQogICAgdmVjMiBwcmV2VGV4Q29vcmRzID0gY3VycmVudFRleENvb3JkcyArIGRlbHRhVGV4Q29vcmRzOwoKICAgIC8vIGdldCBkZXB0aCBhZnRlciBhbmQgYmVmb3JlIGNvbGxpc2lvbiBmb3IgbGluZWFyIGludGVycG9sYXRpb24KICAgIGZsb2F0IGFmdGVyRGVwdGggID0gY3VycmVudERlcHRoTWFwVmFsdWUgLSBjdXJyZW50TGF5ZXJEZXB0aDsKICAgIGZsb2F0IGJlZm9yZURlcHRoID0gdGV4dHVyZShoZWlnaHRUZXh0dXJlLCBwcmV2VGV4Q29vcmRzKS5yIC0gY3VycmVudExheWVyRGVwdGggKyBsYXllckRlcHRoOwoKICAgIC8vIGludGVycG9sYXRpb24gb2YgdGV4dHVyZSBjb29yZGluYXRlcwogICAgZmxvYXQgd2VpZ2h0ID0gYWZ0ZXJEZXB0aCAvIChhZnRlckRlcHRoIC0gYmVmb3JlRGVwdGgpOwogICAgdmVjMiBmaW5hbFRleENvb3JkcyA9IHByZXZUZXhDb29yZHMgKiB3ZWlnaHQgKyBjdXJyZW50VGV4Q29vcmRzICogKDEuMCAtIHdlaWdodCk7CgogICAgcmV0dXJuIGZpbmFsVGV4Q29vcmRzOwp9CgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIEVhc3kgdHJpY2sgdG8gZ2V0IHRhbmdlbnQtbm9ybWFscyB0byB3b3JsZC1zcGFjZSB0byBrZWVwIFBCUiBjb2RlIHNpbXBsaWZpZWQuCi8vIERvbid0IHdvcnJ5IGlmIHlvdSBkb24ndCBnZXQgd2hhdCdzIGdvaW5nIG9uOyB5b3UgZ2VuZXJhbGx5IHdhbnQgdG8gZG8gbm9ybWFsCi8vIG1hcHBpbmcgdGhlIHVzdWFsIHdheSBmb3IgcGVyZm9ybWFuY2UgYW53YXlzOyBJIGRvIHBsYW4gbWFrZSBhIG5vdGUgb2YgdGhpcwovLyB0ZWNobmlxdWUgc29tZXdoZXJlIGxhdGVyIGluIHRoZSBub3JtYWwgbWFwcGluZyB0dXRvcmlhbC4KdmVjMyBnZXROb3JtYWxGcm9tTWFwKCB2ZWMyIHRleENvb3JkcyApCnsKICAgIC8vIHJldHVybiB2X25vcm07CiAgICB2ZWMzIHRhbmdlbnROb3JtYWwgPSB0ZXh0dXJlKG5vcm1hbFRleHR1cmUsIHRleENvb3JkcykueHl6ICogMi4wIC0gMS4wOwoKICAgIHZlYzMgUTEgID0gZEZkeChQb3NpdGlvbl93b3JsZHNwYWNlKTsKICAgIHZlYzMgUTIgID0gZEZkeShQb3NpdGlvbl93b3JsZHNwYWNlKTsKICAgIHZlYzIgc3QxID0gZEZkeCh0ZXhDb29yZHMpOwogICAgdmVjMiBzdDIgPSBkRmR5KHRleENvb3JkcykrdmVjMigwLjAwMDAwMDAxLCAwLjAwMDAwMDAxKTsKCiAgICB2ZWMzIE4gID0gbm9ybWFsaXplKHZfbm9ybSk7CiAgICB2ZWMzIFQgID0gbm9ybWFsaXplKFExKnN0Mi50IC0gUTIqc3QxLnQpOwogICAgdmVjMyBCICA9IG5vcm1hbGl6ZShjcm9zcyhOLCBUKSk7CgogICAgbWF0MyBUQk4gPSBtYXQzKFQsIEIsIE4pOwoKICAgIHJldHVybiBub3JtYWxpemUoVEJOICogdGFuZ2VudE5vcm1hbCk7CgogICAgLy8gdmVjMyB0YW5nZW50Tm9ybWFsID0gdGV4dHVyZShub3JtYWxUZXh0dXJlLCB0ZXhDb29yZHMpLnh5eiAqIDIuMCAtIDEuMDsKICAgIC8vIG1hdDMgVEJOID0gbWF0Myh2X3Rhbiwgdl9iaXRhbiwgdl9ub3JtKTsKICAgIC8vIHJldHVybiBub3JtYWxpemUoVEJOICogdGFuZ2VudE5vcm1hbCk7Cn0KCi8vIC0tLS0tLS0tLS0tLSBCUkRGIEZVTkNUSU9OUyAtLS0tLS0tLS0tLS0tCgp2ZWMzIGZyZXNuZWxTY2hsaWNrKGZsb2F0IGNvc1RoZXRhLCB2ZWMzIEYwKQp7CiAgICByZXR1cm4gRjAgKyAoMS4wIC0gRjApICogcG93KDEuMCAtIGNvc1RoZXRhLCA1LjApOwp9Ci8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KdmVjMyBmcmVzbmVsU2NobGlja1JvdWdobmVzcyhmbG9hdCBjb3NUaGV0YSwgdmVjMyBGMCwgZmxvYXQgcm91Z2huZXNzKQp7CiAgICByZXR1cm4gRjAgKyAobWF4KHZlYzMoMS4wIC0gcm91Z2huZXNzKSwgRjApIC0gRjApICogcG93KDEuMCAtIGNvc1RoZXRhLCA1LjApOwp9CgpmbG9hdCBEaXN0cmlidXRpb25HR1goIHZlYzMgTiwgdmVjMyBILCBmbG9hdCByb3VnaG5lc3MgKSB7CiAgICBmbG9hdCBhID0gcm91Z2huZXNzKnJvdWdobmVzczsKICAgIGZsb2F0IGEyID0gYSphOwogICAgZmxvYXQgTmRvdEggPSBtYXgoIGRvdCggTiwgSCApLCAwLjAgKTsKICAgIGZsb2F0IE5kb3RIMiA9IE5kb3RIKk5kb3RIOwoKICAgIGZsb2F0IG5vbSA9IGEyOwogICAgZmxvYXQgZGVub20gPSAoIE5kb3RIMiAqICggYTIgLSAxLjAgKSArIDEuMCApOwogICAgZGVub20gPSBQSSAqIGRlbm9tICogZGVub207CgogICAgcmV0dXJuIG5vbSAvIGRlbm9tOwp9CgpmbG9hdCBHZW9tZXRyeVNjaGxpY2tHR1goIGZsb2F0IE5kb3RWLCBmbG9hdCByb3VnaG5lc3MgKSB7CiAgICBmbG9hdCByID0gKCByb3VnaG5lc3MgKyAxLjAgKTsKICAgIGZsb2F0IGsgPSAoIHIqciApIC8gOC4wOwoKICAgIGZsb2F0IG5vbSA9IE5kb3RWOwogICAgZmxvYXQgZGVub20gPSBOZG90ViAqICggMS4wIC0gayApICsgazsKCiAgICByZXR1cm4gbm9tIC8gZGVub207Cn0KCmZsb2F0IEdlb21ldHJ5U21pdGgoIHZlYzMgTiwgdmVjMyBWLCB2ZWMzIEwsIGZsb2F0IHJvdWdobmVzcyApIHsKICAgIGZsb2F0IE5kb3RWID0gbWF4KCBkb3QoIE4sIFYgKSwgMC4wICk7CiAgICBmbG9hdCBOZG90TCA9IG1heCggZG90KCBOLCBMICksIDAuMCApOwogICAgZmxvYXQgZ2d4MiA9IEdlb21ldHJ5U2NobGlja0dHWCggTmRvdFYsIHJvdWdobmVzcyApOwogICAgZmxvYXQgZ2d4MSA9IEdlb21ldHJ5U2NobGlja0dHWCggTmRvdEwsIHJvdWdobmVzcyApOwoKICAgIHJldHVybiBnZ3gxICogZ2d4MjsKfQoKdmVjMyByZW5kZXJpbmdfZXF1YXRpb24oIHZlYzMgYWxiZWRvLCB2ZWMzIEwsIHZlYzMgViwgdmVjMyBOLCB2ZWMzIEYwLCB2ZWMzIHJhZGlhbmNlICkgewogICAgdmVjMyBIID0gbm9ybWFsaXplKCBMICsgViApOwogICAgZmxvYXQgTmRvdEwgPSBtYXgoIGRvdCggTiwgTCApLCAwLjAgKTsKCiAgICB2ZWMzIEYgPSBmcmVzbmVsU2NobGljayggbWF4KCBkb3QoIEgsIFYgKSwgMC4wICksIEYwICk7CgogICAgZmxvYXQgTkRGID0gRGlzdHJpYnV0aW9uR0dYKCBOLCBILCByb3VnaG5lc3MgKTsKICAgIGZsb2F0IEcgPSBHZW9tZXRyeVNtaXRoKCBOLCBWLCBMLCByb3VnaG5lc3MgKTsKCiAgICB2ZWMzIG5vbWluYXRvciA9IE5ERiAqIEcgKiBGOwogICAgZmxvYXQgZGVub21pbmF0b3IgPSAoICgxLjAvcmFkaWFuY2UucikgKiBtYXgoIGRvdCggTiwgViApLCAwLjAgKSAqIE5kb3RMKSArIDAuMDE7CiAgICB2ZWMzIHNwZWN1bGFyID0gbm9taW5hdG9yIC8gZGVub21pbmF0b3I7CgogICAgdmVjMyBrUyA9IEY7CiAgICB2ZWMzIGtEID0gdmVjMyggMS4wICkgLSBrUzsKCiAgICBrRCAqPSAxLjAgLSBtZXRhbGxpYzsKICAgIAogICAgcmV0dXJuICggKGtEICogKGFsYmVkby54eXogLyBQSSkpICsgc3BlY3VsYXIgKSAqIHJhZGlhbmNlICogTmRvdEw7Cn0KCi8vIC0tLS0tLS0tLS0tLSBCUkRGIEZVTkNUSU9OUyBFTkQgLS0tLS0tLS0tLS0tLQoKI2RlZmluZV9jb2RlIGxpZ2h0X2NvZGUKCiAgICB2ZWMzIEYwID0gdmVjMyggMC4wNCApOwogICAgRjAgPSBtaXgoIEYwLCBhbGJlZG8ueHl6LCBtZXRhbGxpYyApOwoKICAgIHZlYzMgTG8gPSB2ZWMzKCAwLjAgKTsKCiAgICB2ZWMzIExfU3VuID0gdV9zdW5EaXJlY3Rpb247Ly8gbm9ybWFsaXplKCB1X3N1blBvc2l0aW9uIC0gUG9zaXRpb25fd29ybGRzcGFjZSApOwoKICAgIGlmICggdV9zdW5EaXJlY3Rpb24ueSA+IDAuMCApIHsKICAgICAgICB2ZWMzIEggPSAtbm9ybWFsaXplKCB2ZWMzKDAuMCwgMS4wLCAwLjApICsgdV9zdW5EaXJlY3Rpb24gKTsKICAgICAgICAvLyB1X3NoYWRvd1BhcmFtZXRlcnNbMl0gPT0gSW5kb29yIFNjZW5lIENvZWZmCiAgICAgICAgdmVjMyBzdW5Db2xvciA9IHVfc3VuUmFkaWFuY2UueHl6KnVfc2hhZG93UGFyYW1ldGVyc1syXTsKICAgICAgICBMbyArPSByZW5kZXJpbmdfZXF1YXRpb24oIGFsYmVkbywgTF9TdW4sIFYsIE4sIEYwLCBzdW5Db2xvciApOwogICAgICAgIExvICs9IHJlbmRlcmluZ19lcXVhdGlvbiggYWxiZWRvLCBILCBWLCBOLCBGMCwgc3VuQ29sb3IqMC41ICk7CiAgICAgICAgaWYgKCB0cmFuc2x1Y2VuY3lWID4gMC4wICkgewogICAgICAgICAgICBMbyArPSByZW5kZXJpbmdfZXF1YXRpb24oIGFsYmVkbywgLUxfU3VuLCBWLCBOLCBGMCwgc3VuQ29sb3IgKTsKICAgICAgICB9CiAgICB9CgogICAgdmVjMyBkYWlMaWdodEFtb3VudFRyaWNrID0gdmVjMygzLjUgKiB1X3N1blJhZGlhbmNlLncpOwogICAgLy8gc2luZ2xlIHBvaW50IGxpZ2h0IAogICAgZm9yICggaW50IGkgPSAwOyBpIDwgdV9udW1Qb2ludExpZ2h0czsgaSsrICkgewogICAgICAgIHZlYzMgcGxtZnJhZyA9IHZlYzModV9wb2ludExpZ2h0UG9zW2ldKSAtIFBvc2l0aW9uX3dvcmxkc3BhY2U7CiAgICAgICAgZmxvYXQgcGxkaXN0YW5jZSA9IGxlbmd0aCggcGxtZnJhZyApOwogICAgICAgIHZlYzMgTCA9IG5vcm1hbGl6ZSggcGxtZnJhZyApOwogICAgICAgIGZsb2F0IHBsRGlzdGFuY2VBdHQgPSAocGxkaXN0YW5jZSpwbGRpc3RhbmNlKTsKICAgICAgICB2ZWMzIGxyYWRpYW5jZSA9ICggdV9wb2ludExpZ2h0SW50ZW5zaXR5W2ldICsgZGFpTGlnaHRBbW91bnRUcmljayApIC8gcGxEaXN0YW5jZUF0dDsKICAgICAgICBMbyArPSByZW5kZXJpbmdfZXF1YXRpb24oIGFsYmVkbywgTCwgViwgTiwgRjAsIGxyYWRpYW5jZSApOwogICAgfQoKI2lmZGVmIHNoX3JlZmxlY3Rpb25zCgojZW5kaWYKCiNlbmRfY29kZQoKICAgIC8vIHVfc2hhZG93UGFyYW1ldGVyc1swXSA9PSBkZXB0aCB2YWx1ZSB6IG9mZnNldCB0byBhdm9pZCBob3JyaWJsZSBhbGlhc2luZwogICAgLy8gdV9zaGFkb3dQYXJhbWV0ZXJzWzFdID09IHNoYWRvd092ZXJCdXJuIGNvZWZmaWNpZW50IAojZGVmaW5lX2NvZGUgc2hhZG93X2NvZGUKICAgIGZsb2F0IHZpc2liaWxpdHkgPSB1X3N1bkRpcmVjdGlvbi55ID4gMC4wID8gMS4wIDogMC4yMjsKICAgIGlmICggdV9zdW5EaXJlY3Rpb24ueSA+IDAuMCApIHsKICAgICAgICB2ZWMzIHNoYWRvd21hcF9jb29yZDNCaWFzZXMgPSB2X3NoYWRvd21hcF9jb29yZDM7CiAgICAgICAgdmVjMyBWTiA9IHZfbm9ybTsKICAgICAgICBpZiAoIHRyYW5zbHVjZW5jeVYgPiAwLjAgKSB7CiAgICAgICAgICAgIFZOICo9IC0xLjA7CiAgICAgICAgfQogICAgICAgIGZsb2F0IG5sQW5nbGUgPSBkb3QoIFZOLCB1X3N1bkRpcmVjdGlvbik7CiAgICAgICAgLy8gZmxvYXQgdGFuQ29zTkFuZ2xlID0gdGFuKGFjb3MobmxBbmdsZSkpOwogICAgICAgIC8vIHZpc2liaWxpdHkgKz0gdGV4dHVyZSggc2hhZG93TWFwVGV4dHVyZSwgc2hhZG93bWFwX2Nvb3JkM0JpYXNlcyApICogdV9zaGFkb3dQYXJhbWV0ZXJzWzFdOy8vICogdGFuKGFjb3MoMS4wLW5sQW5nbGUpKTsKCiAgICAgICAgLy8gaWYgKCBzaGFkb3dtYXBfY29vcmQzQmlhc2VzLnogPiAwLjAgKSB7CiAgICAgICAgaWYgKCBubEFuZ2xlID4gMC4zICkgewogICAgICAgICAgICBzaGFkb3dtYXBfY29vcmQzQmlhc2VzID0gY2xhbXAoIHNoYWRvd21hcF9jb29yZDNCaWFzZXMsIHZlYzMoMC4wKSwgdmVjMygxLjApICk7CiAgICAgICAgICAgIHNoYWRvd21hcF9jb29yZDNCaWFzZXMueiAtPSB1X3NoYWRvd1BhcmFtZXRlcnNbMF0rMC4wMDAyNDsKICAgICAgICAgICAgLy8gZmxvYXQgb3ZlckJ1cm5lZGZhY3RvciA9IDAuMjsvLyAqIHVfc2hhZG93UGFyYW1ldGVyc1sxXTsKICAgICAgICAgICAgZm9yICggaW50IGkgPSAwOyBpIDwgNDsgaSsrICkgewogICAgICAgICAgICAgICAgaW50IGluZGV4ID0gaTsvL2ludCggNC4wKnJhbmRvbSggZ2xfRnJhZ0Nvb3JkLnh5eXggKSApICUgNDsgICAgICAgIAogICAgICAgICAgICAgICAgZmxvYXQgc2hhZG93ID0gdGV4dHVyZSggc2hhZG93TWFwVGV4dHVyZSwgdmVjMyggc2hhZG93bWFwX2Nvb3JkM0JpYXNlcy54eSArIChwb2lzc29uRGlza1tpbmRleF0gLyAyMDQ4LjApLCBzaGFkb3dtYXBfY29vcmQzQmlhc2VzLnogKSApOy8vICogdV90aW1lT2ZUaGVEYXk7CiAgICAgICAgICAgICAgICBzaGFkb3cgPSBzaGFkb3cgPCBzaGFkb3dtYXBfY29vcmQzQmlhc2VzLnogPyAxLjAgOiAwLjA7CiAgICAgICAgICAgICAgICB2aXNpYmlsaXR5IC09IHNoYWRvdyAqIDAuMTk1Oy8vICogdV90aW1lT2ZUaGVEYXk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gZmxvYXQgc2hhZG93ID0gdGV4dHVyZSggc2hhZG93TWFwVGV4dHVyZSwgdmVjMyggc2hhZG93bWFwX2Nvb3JkM0JpYXNlcy54eSwgc2hhZG93bWFwX2Nvb3JkM0JpYXNlcy56ICkgKTsKICAgICAgICAgICAgLy8gc2hhZG93ID0gc2hhZG93IDwgc2hhZG93bWFwX2Nvb3JkM0JpYXNlcy56ID8gMS4wICogMC43OCA6IDAuMDsKICAgICAgICAgICAgLy8gdmlzaWJpbGl0eSAtPSAgc2hhZG93OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZpc2liaWxpdHkgLT0gMC43ODsKICAgICAgICB9CiAgICB9CiAgICAvLyB9CiAgICAvLyB2aXNpYmlsaXR5ID0gcG93KHZpc2liaWxpdHksIDIuMCk7CiAgICAvL2NsYW1wKHZpc2liaWxpdHksIDAuMCwgMS4wKTsKICAgIC8vIHZpc2liaWxpdHkgPSBubEFuZ2xlOwojZW5kX2NvZGUKCiNkZWZpbmVfY29kZSBmaW5hbF9jb21iaW5lCmZsb2F0IG5kb3RsID0gbWF4KGRvdChOLCBWKSwgMC4wKTsKdmVjMyBGID0gZnJlc25lbFNjaGxpY2tSb3VnaG5lc3MobmRvdGwsIEYwLCByb3VnaG5lc3MpOwovL3ZlYzMgRiA9IGZyZXNuZWxTY2hsaWNrKG1heChkb3QoTiwgViksIDAuMCksIEYwKTsKCnZlYzMga1MgPSBGOwp2ZWMzIGtEID0gMS4wIC0ga1M7CmtEICo9IDEuMCAtIG1ldGFsbGljOwoKZmxvYXQgbGkgPSB0ZXh0dXJlKGxpZ2h0bWFwVGV4dHVyZSwgdl90ZXhDb29yZDIpLnI7Ci8vIGxpID0gcG93KGxpLCAyLjApOwphbyAqPSBsaTsKCiNpZmRlZiBzaF9yZWZsZWN0aW9ucwp2ZWMzIFIgPSByZWZsZWN0KC1WLCBOKTsKCnZlYzMgaXJyYWRpYW5jZSA9IHRleHR1cmUoaWJsX2lycmFkaWFuY2VNYXAsIE4pLnJnYjsKdmVjMyBzcGVjdWxhciA9IHZlYzMoMC4wKTsKLy8gc2FtcGxlIGJvdGggdGhlIHByZS1maWx0ZXIgbWFwIGFuZCB0aGUgQlJERiBsdXQgYW5kIGNvbWJpbmUgdGhlbSB0b2dldGhlciBhcyBwZXIgdGhlIFNwbGl0LVN1bSBhcHByb3hpbWF0aW9uIHRvIGdldCB0aGUgSUJMIHNwZWN1bGFyIHBhcnQuCnZlYzMgZGlmZnVzZVYgPSAoaXJyYWRpYW5jZSAqIGFsYmVkbyAqIHZfY29sb3IucmJnKTsKCmNvbnN0IGZsb2F0IE1BWF9SRUZMRUNUSU9OX0xPRCA9IDUuMDsKCi8vIHZlYzMgcHJlZmlsdGVyZWRDb2xvciA9IHRleHR1cmVMb2QoaWJsX3NwZWN1bGFyTWFwLCBSLCAwLjAgKyAoMC41ICogTUFYX1JFRkxFQ1RJT05fTE9EKSkucmdiOwp2ZWMzIHByZWZpbHRlcmVkQ29sb3IgPSB0ZXh0dXJlTG9kKGlibF9zcGVjdWxhck1hcCwgUiwgcm91Z2huZXNzKk1BWF9SRUZMRUNUSU9OX0xPRCkucmdiOwovLyB2ZWMzIHByZWZpbHRlcmVkQ29sb3IgPSB0ZXh0dXJlKGlibF9zcGVjdWxhck1hcCwgUikucmdiOwp2ZWMyIGJyZGYgPSB0ZXh0dXJlKGlibF9icmRmTFVUTWFwLCB2ZWMyKCBuZG90bCwgcm91Z2huZXNzKSkucmc7CnNwZWN1bGFyID0gcHJlZmlsdGVyZWRDb2xvciAqIChGICogYnJkZi54ICsgYnJkZi55KTsKLy8gc3BlY3VsYXIgPSBwb3coc3BlY3VsYXIsIHZlYzMoMi4yLzEuMCkpOyAKLy8gdmVjMyBhbWJpZW50ID0gdV9zdW5SYWRpYW5jZS54eXo7Cgp2ZWMzIGFtYmllbnQgPSAoKChMbyArIChrRCAqIGRpZmZ1c2VWICsgc3BlY3VsYXIpKSAqIHZpc2liaWxpdHkgKSAqIGFvKTsvLyAqICh2aXNpYmlsaXR5K2RpZmZ1c2VWKTsKCiNlbHNlIAp2ZWMzIGFtYmllbnQgPSBMbyAqICgoa0QgKiBhbGJlZG8gKiB2X2NvbG9yLnJnYiApICogdmlzaWJpbGl0eSApICogYW87IC8va0QgKiBMbyAqIGFvOy8vICogdmlzaWJpbGl0eTsKI2VuZGlmCgp2ZWMzIGZpbmFsQ29sb3IgPSBhbWJpZW50OyAvL3Bvdyhhb0xpZ2h0bWFwQ29sb3IsIHZlYzMoOC4yKSk7Ly9OKjAuNSswLjU7Ly92X3RleENvb3JkLnh5eDsvLzsvL3ByZWZpbHRlcmVkQ29sb3I7Ly92ZWMzKGJyZGYsIDEuMCk7Ly9hbWJpZW50Oy8vdmVjMyh0ZXh0dXJlKG1ldGFsbGljVGV4dHVyZSwgdl90ZXhDb29yZCkucnJyKTsvLyhOICsgdmVjMygxLjApICkgKiB2ZWMzKDAuNSk7Oy8vaXJyYWRpYW5jZTsvLyBhbWJpZW50Oy8vIHByZWZpbHRlcmVkQ29sb3I7Ly8oViArIHZlYzMoMS4wKSApICogdmVjMygwLjUpOy8vYW1iaWVudDsgLy9zcGVjdWxhcjsvL3ZlYzMoYnJkZi54eSwgMC4wKTsKZmxvYXQgZm9nWiA9IGxlbmd0aCh1X2V5ZVBvcy1Qb3NpdGlvbl93b3JsZHNwYWNlKTsKZmxvYXQgZm9nID0gMS4wLShzbW9vdGhzdGVwKHVfbmVhckZhclszXSx1X25lYXJGYXJbMV0sZm9nWikqMS4wKTsKCmZpbmFsQ29sb3IgPSB2ZWMzKDEuMCkgLSBleHAoLWZpbmFsQ29sb3IgKiB1X2hkckV4cG9zdXJlcy54KTsKCmZsb2F0IHByZU11bHRBbHBoYSA9IG9wYWNpdHlWICogYWxwaGEgKiBmb2c7CkZyYWdDb2xvciA9IHZlYzQoIGZpbmFsQ29sb3IgKiBwcmVNdWx0QWxwaGEsIHByZU11bHRBbHBoYSApOyAKCnZlYzMgYmxvb20gPSBmaW5hbENvbG9yICogKHRyYW5zbHVjZW5jeVYqKHZpc2liaWxpdHktMS4wKSk7CkZyYWdBdHRhY2gxID0gdmVjNCggYmxvb20sIDEuMCApOy8vdmVjNChnbF9GcmFnQ29vcmQueik7Ci8vCUJsb29tQ29sb3IgPSB2ZWM0KCAoIGluY2FuZGVzY2VuY2VDb2xvciAqIGluY2FuZGVzY2VuY2VGYWN0b3IgKSArIG1heCh2aXNpYmlsaXR5LTEuNywgMC4wKSwgMS4wICk7Ci8vIEJsb29tQ29sb3IgPSB2ZWM0KCAoIGluY2FuZGVzY2VuY2VDb2xvciAqIGluY2FuZGVzY2VuY2VGYWN0b3IgKiBmaW5hbENvbG9yICksIDEuMCApOwovLyAgICAgICAgQmxvb21Db2xvciA9IHZlYzQoIGZpbmFsQ29sb3IqMiwgMS4wICk7CgojZW5kX2NvZGUKCgoKI2RlZmluZV9jb2RlIGZpbmFsX2NvbWJpbmVfbm9fcmVmbGVjdGlvbnMKZmxvYXQgbmRvdGwgPSBtYXgoZG90KE4sIFYpLCAwLjApOwp2ZWMzIEYgPSBmcmVzbmVsU2NobGlja1JvdWdobmVzcyhuZG90bCwgRjAsIHJvdWdobmVzcyk7Ci8vdmVjMyBGID0gZnJlc25lbFNjaGxpY2sobWF4KGRvdChOLCBWKSwgMC4wKSwgRjApOwoKdmVjMyBrUyA9IEY7CnZlYzMga0QgPSAxLjAgLSBrUzsKa0QgKj0gMS4wIC0gbWV0YWxsaWM7Cgp2ZWMzIGFtYmllbnQgPSBMbyAqIChrRCAqIGFsYmVkbyAqIHZfY29sb3IucmdiICk7IC8va0QgKiBMbyAqIGFvOy8vICogdmlzaWJpbGl0eTsKCnZlYzMgZmluYWxDb2xvciA9IGFtYmllbnQ7IC8vcG93KGFvTGlnaHRtYXBDb2xvciwgdmVjMyg4LjIpKTsvL04qMC41KzAuNTsvL3ZfdGV4Q29vcmQueHl4Oy8vOy8vcHJlZmlsdGVyZWRDb2xvcjsvL3ZlYzMoYnJkZiwgMS4wKTsvL2FtYmllbnQ7Ly92ZWMzKHRleHR1cmUobWV0YWxsaWNUZXh0dXJlLCB2X3RleENvb3JkKS5ycnIpOy8vKE4gKyB2ZWMzKDEuMCkgKSAqIHZlYzMoMC41KTs7Ly9pcnJhZGlhbmNlOy8vIGFtYmllbnQ7Ly8gcHJlZmlsdGVyZWRDb2xvcjsvLyhWICsgdmVjMygxLjApICkgKiB2ZWMzKDAuNSk7Ly9hbWJpZW50OyAvL3NwZWN1bGFyOy8vdmVjMyhicmRmLnh5LCAwLjApOwpmbG9hdCBmb2daID0gbGVuZ3RoKHVfZXllUG9zLVBvc2l0aW9uX3dvcmxkc3BhY2UpOwpmbG9hdCBmb2cgPSAxLjAtKHNtb290aHN0ZXAodV9uZWFyRmFyWzNdLHVfbmVhckZhclsxXSxmb2daKSoxLjApOwoKZmluYWxDb2xvciA9IHZlYzMoMS4wKSAtIGV4cCgtZmluYWxDb2xvciAqIHVfaGRyRXhwb3N1cmVzLngpOwoKZmxvYXQgcHJlTXVsdEFscGhhID0gb3BhY2l0eVYgKiBhbHBoYSAqIGZvZzsKRnJhZ0NvbG9yID0gdmVjNCggZmluYWxDb2xvciAqIHByZU11bHRBbHBoYSwgcHJlTXVsdEFscGhhICk7IAoKI2VuZF9jb2RlCg"},
{ "plain_sh_direct_lighting.fsh", "I2luY2x1ZGUgInBsYWluX3NoX2NvbW1vbi5nbHNsIgojaW5jbHVkZSAidGV4dHVyZV9ub3RpbGUuZ2xzbCIKI2RlZmluZSBzaF9yZWZsZWN0aW9ucwoKLy8gZmxvYXQgZWRnZUZhY3RvclRyaSgpIHsKLy8gICAgICAgdmVjMyBkID0gZndpZHRoKCB2X3Q4Lnh5eiApOwovLyAgICAgICB2ZWMzIGEzID0gc21vb3Roc3RlcCggdmVjMyggMC4wICksIGQgKiAxLjUsIHZfdDgueHl6ICk7Ci8vICAgICAgIHJldHVybiBtaW4oIG1pbiggYTMueCwgYTMueSApLCBhMy56ICk7Ci8vIH0KCnZvaWQgbWFpbigpIHsKCi8vICAgbWF0MyBpdGJuOwovLyAgIGl0Ym5bMF0gPSBub3JtYWxpemUoIHZfdGFuICk7Ci8vICAgaXRiblsxXSA9IG5vcm1hbGl6ZSggdl9iaXRhbiApOwovLyAgIGl0Ym5bMl0gPSBub3JtYWxpemUoIHZfbm9ybSApOwovLyAgIGl0Ym4gPSB0cmFuc3Bvc2UoIGl0Ym4gKTsKCiAgIHZlYzMgViA9IG5vcm1hbGl6ZSggdV9leWVQb3MgLSBQb3NpdGlvbl93b3JsZHNwYWNlICk7CiAgIHZlYzMgdnRhbmcgPSBub3JtYWxpemUoIHRhbmdlbnRWaWV3UG9zIC0gdGFuZ2VudEZyYWdQb3MgKTsKCiAgIHZlYzIgdGV4Q29vcmRzID0gdl90ZXhDb29yZDsKICAgLy92ZWMyIHRleENvb3JkcyA9IFBhcmFsbGF4TWFwcGluZyh2X3RleENvb3JkLCB2dGFuZyk7CgogICBhbyA9IHRleHR1cmUoIGFvVGV4dHVyZSwgdGV4Q29vcmRzICkueCAqIGFvVjsKICAgcm91Z2huZXNzID0gKHRleHR1cmUoIHJvdWdobmVzc1RleHR1cmUsIHRleENvb3JkcyApLnggKiByb3VnaG5lc3NWKTsKICAgbWV0YWxsaWMgPSAodGV4dHVyZSggbWV0YWxsaWNUZXh0dXJlLCB0ZXhDb29yZHMgKS54ICogbWV0YWxsaWNWKTsKICAgb3BhY2l0eVYgPSB0ZXh0dXJlKCBvcGFjaXR5VGV4dHVyZSwgdGV4Q29vcmRzICkueCAqIG9wYWNpdHk7IAogICB2ZWMzIGFsYmVkbyA9IHRleHR1cmUoIGRpZmZ1c2VUZXh0dXJlLCB0ZXhDb29yZHMgKS54eXogKiBkaWZmdXNlQ29sb3IqMS4zMTgzOwogICB0cmFuc2x1Y2VuY3lWID0gdGV4dHVyZSggdHJhbnNsdWNlbmN5VGV4dHVyZSwgdGV4Q29vcmRzICkueDsKICAgYWxiZWRvID0gcG93KGFsYmVkbywgdmVjMygyLjIvMS4wKSk7CgogICB2ZWMzIE4gPSBnZXROb3JtYWxGcm9tTWFwKHRleENvb3Jkcyk7CgogICBsaWdodF9jb2RlCgogICBmaW5hbF9jb21iaW5lX25vX3JlZmxlY3Rpb25zCn0K"},
{ "plain_sh_notexture.fsh", "I2luY2x1ZGUgInBsYWluX3NoX2NvbW1vbi5nbHNsIgojaW5jbHVkZSAidGV4dHVyZV9ub3RpbGUuZ2xzbCIKLy8gI2RlZmluZSBzaF9ub3RleHR1cmUKCnZvaWQgbWFpbigpIHsKCiAgIHZlYzMgViA9IG5vcm1hbGl6ZSggdV9leWVQb3MgLSBQb3NpdGlvbl93b3JsZHNwYWNlICk7CgogICB2ZWMyIHRleENvb3JkcyA9IHZfdGV4Q29vcmQ7Ly9QYXJhbGxheE1hcHBpbmcodl90ZXhDb29yZCwgVik7CiAKICAgYW8gPSB0ZXh0dXJlKCBhb1RleHR1cmUsIHRleENvb3JkcyApLnggKiBhb1Y7IAogICByb3VnaG5lc3MgPSAodGV4dHVyZSggcm91Z2huZXNzVGV4dHVyZSwgdGV4Q29vcmRzICkueCAqIHJvdWdobmVzc1YpOwogICBtZXRhbGxpYyA9ICh0ZXh0dXJlKCBtZXRhbGxpY1RleHR1cmUsIHRleENvb3JkcyApLnggKiBtZXRhbGxpY1YpOwogICBvcGFjaXR5ViA9IHRleHR1cmUoIG9wYWNpdHlUZXh0dXJlLCB0ZXhDb29yZHMgKS54OyAvLyAqIDEuMCAtIDAuMCApICogb3BhY2l0eTsgCiAgIHRyYW5zbHVjZW5jeVYgPSAodGV4dHVyZSggdHJhbnNsdWNlbmN5VGV4dHVyZSwgdGV4Q29vcmRzICkueCk7CiAgIHZlYzMgYWxiZWRvID0gdGV4dHVyZSggZGlmZnVzZVRleHR1cmUsIHRleENvb3JkcyApLnh5eiAqIGRpZmZ1c2VDb2xvcioxLjMxODM7CiAgIGFsYmVkbyA9IHBvdyhhbGJlZG8sIHZlYzMoMi4yLzEuMCkpOwoKICAgdmVjMyBOID0gZ2V0Tm9ybWFsRnJvbU1hcCh0ZXhDb29yZHMpOwoKICAgc2hhZG93X2NvZGUKCiAgIGxpZ2h0X2NvZGUgCgogICBmaW5hbF9jb21iaW5lCn0KICAgIA"},
{ "plain_yuv_to_rgb_greenscreen.fsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCgppbiB2ZWMyIHZfdGV4Q29vcmQ7Cgp1bmlmb3JtIHNhbXBsZXIyRCB5VGV4dHVyZTsKdW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7CnVuaWZvcm0gc2FtcGxlcjJEIHZUZXh0dXJlOwojaW5jbHVkZSAiY29sb3JfdW5pZm9ybXMuZ2xzbCIKCm91dCB2ZWM0IEZyYWdDb2xvcjsKCnZvaWQgbWFpbigpCnsKCWZsb2F0IHkgPSB0ZXh0dXJlKHlUZXh0dXJlLCB2X3RleENvb3JkKS5yOwoJZmxvYXQgdSA9IHRleHR1cmUodVRleHR1cmUsIHZfdGV4Q29vcmQpLnI7CglmbG9hdCB2ID0gdGV4dHVyZSh2VGV4dHVyZSwgdl90ZXhDb29yZCkucjsKCQogICAgLy9Db252ZXJ0IHl1diB0byByZ2IgCglmbG9hdCBjYiA9IHU7CglmbG9hdCBjciA9IHY7CgoJdmVjMyBjb2xvclJHQiA9IGRpZmZ1c2VDb2xvcjsKCWNvbG9yUkdCLnIgID0gY2xhbXAoKHkgKyAxLjQwMiAqIChjciAtIDAuNSkpLCAwLjAsIDEuMCk7Cgljb2xvclJHQi5nID0gIGNsYW1wKCh5IC0gMC4zNDQgKiAoY2IgLSAwLjUpIC0gMC43MTQgKiAoY3IgLSAwLjUpKSwgMC4wLCAxLjApOwogICAgY29sb3JSR0IuYiA9ICBjbGFtcCgoeSArIDEuNzcyICogKGNiIC0gMC41KSksIDAuMCwgMS4wKTsKCQoJZmxvYXQgZ3JlZW5Nb2QgPSBwb3coY29sb3JSR0IuZywgMS4wZi8yLjJmKTsKCQoJZmxvYXQgbG9wYWNpdHkgPSAxLjA7Cglib29sIGJDb29yZHMgPSBmYWxzZTsgLy92X3RleENvb3JkLnggPCAwLjEgfHwgdl90ZXhDb29yZC54ID4gMC44OwoJaWYgKCBiQ29vcmRzIHx8IChncmVlbk1vZCA+IDAuNTkgJiYgY29sb3JSR0IuciA8IDAuMyAmJiBjb2xvclJHQi5iIDwgMC43ICkgKSB7IC8vIAoJCWxvcGFjaXR5ID0gMC4wOyAKCX0KICAgIC8vIEZyYWdDb2xvciA9IHZlYzQoY29sb3JSR0IsIG9wYWNpdHkgKiBhbHBoYSk7CiAgICBGcmFnQ29sb3IgPSB2ZWM0KGNvbG9yUkdCLCBsb3BhY2l0eSAqIG9wYWNpdHkgKiBhbHBoYSk7Cn0KCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkK"},
{ "shadowmap.fsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCgpsYXlvdXQobG9jYXRpb24gPSAwKSBvdXQgZmxvYXQgRnJhZ0RlcHRoOwovL2xheW91dChsb2NhdGlvbiA9IDApIAovLyBvdXQgdmVjNCBGcmFnRGVwdGg7Cgp2b2lkIG1haW4oKSB7CiAgICAvLyBGcmFnRGVwdGggPSBnbF9GcmFnQ29vcmQuejsvLy9nbF9GcmFnQ29vcmQudzsKICAgIC8vRnJhZ0RlcHRoID0gdmVjNChnbF9GcmFnQ29vcmQueiwgZ2xfRnJhZ0Nvb3JkLnosIGdsX0ZyYWdDb29yZC56LCAxLjApOy8vZ2xfRnJhZ0Nvb3JkLno7CiAgICAvLyBGcmFnRGVwdGggPSB2ZWM0KDAuNSwgMC41LCAwLjUsIDEuMCk7Ly9nbF9GcmFnQ29vcmQuejsKfQogICAg"},
{ "shadowmap.vsh", "I2luY2x1ZGUgImxheW91dF9wb3MzZC5nbHNsIgojaW5jbHVkZSAibGlnaHRpbmdfdW5pZm9ybXMuZ2xzbCIKI2luY2x1ZGUgImNhbWVyYV91bmlmb3Jtcy5nbHNsIgoKdW5pZm9ybSBtYXQ0IHVfbW9kZWxNYXRyaXg7Cgp2b2lkIG1haW4oKSB7CiAgICBnbF9Qb3NpdGlvbiA9IHVfbXZwU2hhZG93TWFwICogdV9tb2RlbE1hdHJpeCAqIHZlYzQoIGFfcG9zaXRpb24sIDEuMCApOwovLyAgICAgIGdsX1Bvc2l0aW9uID0gdV9tdnBNYXRyaXggKiB1X21vZGVsTWF0cml4ICogdmVjNCggYV9wb3NpdGlvbiwgMS4wICk7Cn0K"},
{ "skybox.fsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCiNwcmVjaXNpb25faGlnaAojaW5jbHVkZSAibGlnaHRpbmdfdW5pZm9ybXMuZ2xzbCIKI2luY2x1ZGUgImFuaW1hdGlvbl91bmlmb3Jtcy5nbHNsIgoKdW5pZm9ybSBmbG9hdCB1X3N1bkhEUk11bHQ7IAppbiB2ZWMzIHZfdGV4Q29vcmQ7Cm91dCB2ZWM0IGNvbG9yOwoKI2RlZmluZSBQSSAzLjE0MTU5MgojZGVmaW5lIGlTdGVwcyAxNgojZGVmaW5lIGpTdGVwcyA4Cgp2ZWMyIHJzaSh2ZWMzIHIwLCB2ZWMzIHJkLCBmbG9hdCBzcikgewogICAgLy8gcmF5LXNwaGVyZSBpbnRlcnNlY3Rpb24gdGhhdCBhc3N1bWVzCiAgICAvLyB0aGUgc3BoZXJlIGlzIGNlbnRlcmVkIGF0IHRoZSBvcmlnaW4uCiAgICAvLyBObyBpbnRlcnNlY3Rpb24gd2hlbiByZXN1bHQueCA+IHJlc3VsdC55CiAgICBmbG9hdCBhID0gZG90KHJkLCByZCk7CiAgICBmbG9hdCBiID0gMi4wICogZG90KHJkLCByMCk7CiAgICBmbG9hdCBjID0gZG90KHIwLCByMCkgLSAoc3IgKiBzcik7CiAgICBmbG9hdCBkID0gKGIqYikgLSA0LjAqYSpjOwogICAgaWYgKGQgPCAwLjApIHJldHVybiB2ZWMyKDFlNSwtMWU1KTsKICAgIHJldHVybiB2ZWMyKAogICAgICAgICgtYiAtIHNxcnQoZCkpLygyLjAqYSksCiAgICAgICAgKC1iICsgc3FydChkKSkvKDIuMCphKQogICAgKTsKfQoKdmVjMyBhdG1vc3BoZXJlKHZlYzMgciwgdmVjMyByMCwgdmVjMyBwU3VuLCBmbG9hdCBpU3VuLCBmbG9hdCByUGxhbmV0LCBmbG9hdCByQXRtb3MsIHZlYzMga1JsaCwgZmxvYXQga01pZSwgZmxvYXQgc2hSbGgsIGZsb2F0IHNoTWllLCBmbG9hdCBnKSB7CiAgICAvLyBOb3JtYWxpemUgdGhlIHN1biBhbmQgdmlldyBkaXJlY3Rpb25zLgogICAgcFN1biA9IG5vcm1hbGl6ZShwU3VuKTsKICAgIHIgPSBub3JtYWxpemUocik7CgogICAgLy8gQ2FsY3VsYXRlIHRoZSBzdGVwIHNpemUgb2YgdGhlIHByaW1hcnkgcmF5LgogICAgdmVjMiBwID0gcnNpKHIwLCByLCByQXRtb3MpOwogICAgaWYgKHAueCA+IHAueSkgcmV0dXJuIHZlYzMoMCwwLDApOwogICAgcC55ID0gbWluKHAueSwgcnNpKHIwLCByLCByUGxhbmV0KS54KTsKICAgIGZsb2F0IGlTdGVwU2l6ZSA9IChwLnkgLSBwLngpIC8gZmxvYXQoaVN0ZXBzKTsKCiAgICAvLyBJbml0aWFsaXplIHRoZSBwcmltYXJ5IHJheSB0aW1lLgogICAgZmxvYXQgaVRpbWUgPSAwLjA7CgogICAgLy8gSW5pdGlhbGl6ZSBhY2N1bXVsYXRvcnMgZm9yIFJheWxlaWdoIGFuZCBNaWUgc2NhdHRlcmluZy4KICAgIHZlYzMgdG90YWxSbGggPSB2ZWMzKDAsMCwwKTsKICAgIHZlYzMgdG90YWxNaWUgPSB2ZWMzKDAsMCwwKTsKCiAgICAvLyBJbml0aWFsaXplIG9wdGljYWwgZGVwdGggYWNjdW11bGF0b3JzIGZvciB0aGUgcHJpbWFyeSByYXkuCiAgICBmbG9hdCBpT2RSbGggPSAwLjA7CiAgICBmbG9hdCBpT2RNaWUgPSAwLjA7CgogICAgLy8gQ2FsY3VsYXRlIHRoZSBSYXlsZWlnaCBhbmQgTWllIHBoYXNlcy4KICAgIGZsb2F0IG11ID0gZG90KHIsIHBTdW4pOwogICAgZmxvYXQgbXVtdSA9IG11ICogbXU7CiAgICBmbG9hdCBnZyA9IGcgKiBnOwogICAgZmxvYXQgcFJsaCA9IDMuMCAvICgxNi4wICogUEkpICogKDEuMCArIG11bXUpOwogICAgZmxvYXQgcE1pZSA9IDMuMCAvICg4LjAgKiBQSSkgKiAoKDEuMCAtIGdnKSAqIChtdW11ICsgMS4wKSkgLyAocG93KDEuMCArIGdnIC0gMi4wICogbXUgKiBnLCAxLjUpICogKDIuMCArIGdnKSk7CgogICAgLy8gU2FtcGxlIHRoZSBwcmltYXJ5IHJheS4KICAgIGZvciAoaW50IGkgPSAwOyBpIDwgaVN0ZXBzOyBpKyspIHsKCiAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBwcmltYXJ5IHJheSBzYW1wbGUgcG9zaXRpb24uCiAgICAgICAgdmVjMyBpUG9zID0gcjAgKyByICogKGlUaW1lICsgaVN0ZXBTaXplICogMC41KTsKCiAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBoZWlnaHQgb2YgdGhlIHNhbXBsZS4KICAgICAgICBmbG9hdCBpSGVpZ2h0ID0gbGVuZ3RoKGlQb3MpIC0gclBsYW5ldDsKCiAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBvcHRpY2FsIGRlcHRoIG9mIHRoZSBSYXlsZWlnaCBhbmQgTWllIHNjYXR0ZXJpbmcgZm9yIHRoaXMgc3RlcC4KICAgICAgICBmbG9hdCBvZFN0ZXBSbGggPSBleHAoLWlIZWlnaHQgLyBzaFJsaCkgKiBpU3RlcFNpemU7CiAgICAgICAgZmxvYXQgb2RTdGVwTWllID0gZXhwKC1pSGVpZ2h0IC8gc2hNaWUpICogaVN0ZXBTaXplOwoKICAgICAgICAvLyBBY2N1bXVsYXRlIG9wdGljYWwgZGVwdGguCiAgICAgICAgaU9kUmxoICs9IG9kU3RlcFJsaDsKICAgICAgICBpT2RNaWUgKz0gb2RTdGVwTWllOwoKICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIHN0ZXAgc2l6ZSBvZiB0aGUgc2Vjb25kYXJ5IHJheS4KICAgICAgICBmbG9hdCBqU3RlcFNpemUgPSByc2koaVBvcywgcFN1biwgckF0bW9zKS55IC8gZmxvYXQoalN0ZXBzKTsKCiAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgc2Vjb25kYXJ5IHJheSB0aW1lLgogICAgICAgIGZsb2F0IGpUaW1lID0gMC4wOwoKICAgICAgICAvLyBJbml0aWFsaXplIG9wdGljYWwgZGVwdGggYWNjdW11bGF0b3JzIGZvciB0aGUgc2Vjb25kYXJ5IHJheS4KICAgICAgICBmbG9hdCBqT2RSbGggPSAwLjA7CiAgICAgICAgZmxvYXQgak9kTWllID0gMC4wOwoKICAgICAgICAvLyBTYW1wbGUgdGhlIHNlY29uZGFyeSByYXkuCiAgICAgICAgZm9yIChpbnQgaiA9IDA7IGogPCBqU3RlcHM7IGorKykgewoKICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBzZWNvbmRhcnkgcmF5IHNhbXBsZSBwb3NpdGlvbi4KICAgICAgICAgICAgdmVjMyBqUG9zID0gaVBvcyArIHBTdW4gKiAoalRpbWUgKyBqU3RlcFNpemUgKiAwLjUpOwoKICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBoZWlnaHQgb2YgdGhlIHNhbXBsZS4KICAgICAgICAgICAgZmxvYXQgakhlaWdodCA9IGxlbmd0aChqUG9zKSAtIHJQbGFuZXQ7CgogICAgICAgICAgICAvLyBBY2N1bXVsYXRlIHRoZSBvcHRpY2FsIGRlcHRoLgogICAgICAgICAgICBqT2RSbGggKz0gZXhwKC1qSGVpZ2h0IC8gc2hSbGgpICogalN0ZXBTaXplOwogICAgICAgICAgICBqT2RNaWUgKz0gZXhwKC1qSGVpZ2h0IC8gc2hNaWUpICogalN0ZXBTaXplOwoKICAgICAgICAgICAgLy8gSW5jcmVtZW50IHRoZSBzZWNvbmRhcnkgcmF5IHRpbWUuCiAgICAgICAgICAgIGpUaW1lICs9IGpTdGVwU2l6ZTsKICAgICAgICB9CgogICAgICAgIC8vIENhbGN1bGF0ZSBhdHRlbnVhdGlvbi4KICAgICAgICB2ZWMzIGF0dG4gPSBleHAoLShrTWllICogKGlPZE1pZSArIGpPZE1pZSkgKyBrUmxoICogKGlPZFJsaCArIGpPZFJsaCkpKTsKCiAgICAgICAgLy8gQWNjdW11bGF0ZSBzY2F0dGVyaW5nLgogICAgICAgIHRvdGFsUmxoICs9IG9kU3RlcFJsaCAqIGF0dG47CiAgICAgICAgdG90YWxNaWUgKz0gb2RTdGVwTWllICogYXR0bjsKCiAgICAgICAgLy8gSW5jcmVtZW50IHRoZSBwcmltYXJ5IHJheSB0aW1lLgogICAgICAgIGlUaW1lICs9IGlTdGVwU2l6ZTsKCiAgICB9CgogICAgLy8gQ2FsY3VsYXRlIGFuZCByZXR1cm4gdGhlIGZpbmFsIGNvbG9yLgogICAgcmV0dXJuIGlTdW4gKiAocFJsaCAqIGtSbGggKiB0b3RhbFJsaCArIHBNaWUgKiBrTWllICogdG90YWxNaWUpOwp9Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWMzIGxpZ2h0X3BvcyA9IG5vcm1hbGl6ZSggdV9zdW5EaXJlY3Rpb24gKS54eXo7CgogICAgY29sb3IueHl6ID0gYXRtb3NwaGVyZSgKICAgICAgICBub3JtYWxpemUodl90ZXhDb29yZCksICAgICAgICAgIC8vIG5vcm1hbGl6ZWQgcmF5IGRpcmVjdGlvbgogICAgICAgIHZlYzMoMCw2MzczZTMsMCksICAgICAgICAgICAgICAgLy8gcmF5IG9yaWdpbgogICAgICAgIGxpZ2h0X3BvcywgICAgICAgICAgICAgICAgICAgICAgLy8gcG9zaXRpb24gb2YgdGhlIHN1bgogICAgICAgIDY5LjAsICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW50ZW5zaXR5IG9mIHRoZSBzdW4KICAgICAgICA2MzcxZTMsICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJhZGl1cyBvZiB0aGUgcGxhbmV0IGluIG1ldGVycwogICAgICAgIDY0NzFlMywgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmFkaXVzIG9mIHRoZSBhdG1vc3BoZXJlIGluIG1ldGVycwogICAgICAgIHZlYzMoNS41ZS02LCAxMy4wZS02LCAyMi40ZS02KSwgLy8gUmF5bGVpZ2ggc2NhdHRlcmluZyBjb2VmZmljaWVudAogICAgICAgIDUxZS02LCAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWllIHNjYXR0ZXJpbmcgY29lZmZpY2llbnQKICAgICAgICA1ZTMsICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJheWxlaWdoIHNjYWxlIGhlaWdodAogICAgICAgIDEuMmUzLCAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWllIHNjYWxlIGhlaWdodAogICAgICAgIDAuNzU4ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWllIHByZWZlcnJlZCBzY2F0dGVyaW5nIGRpcmVjdGlvbgogICAgKTsKCiAgICBjb2xvci54eXogKz0gdmVjMygwLjApOwogICAgY29sb3IgPSAodmVjNCgxLjApIC0gZXhwKC0xLjAgKiBjb2xvcikpOwogICAgY29sb3IudyA9IDEuMDsKICAgIAogICAgLy8gY29sb3IucmdiID0gdl90ZXhDb29yZCAqIDAuNSArIDAuNTsKICAgIC8vIGNvbG9yID0gdmVjNCguOCk7Cn0K"},
{ "skybox.vsh", "I2luY2x1ZGUgImxheW91dF9wb3NfdGV4Y3ViZW1hcC5nbHNsIgojaW5jbHVkZSAiY2FtZXJhX3VuaWZvcm1zLmdsc2wiCgp2b2lkIG1haW4oKSB7CiAgICBtYXQ0IHZtX3plcm9kID0gdV92aWV3TWF0cml4OwogICAgdm1femVyb2RbM10gPSB2ZWM0KCAwLjAsIDAuMCwgMC4wLCAxLjAgKTsKICAgIG1hdDQgdm0gPSB1X3Byb2pNYXRyaXggKiB2bV96ZXJvZDsKICAgIHZlYzQgcG9zNCA9IHZtICogdmVjNCggYV9wb3NpdGlvbiwgMS4wICk7CiAgICBnbF9Qb3NpdGlvbiA9IHBvczQueHl3dzsKICAgIHZfdGV4Q29vcmQgPSBhX3Bvc2l0aW9uLnh5ejsKfQogICAg"},
{ "skybox_cubemap.vsh", "I2luY2x1ZGUgImxheW91dF9wb3NfdGV4Y3ViZW1hcC5nbHNsIgojaW5jbHVkZSAiY2FtZXJhX3VuaWZvcm1zLmdsc2wiCgp2b2lkIG1haW4oKSB7CiAgICBtYXQ0IHZtX3plcm9kID0gdV92aWV3TWF0cml4OwogICAgdm1femVyb2RbM10gPSB2ZWM0KCAwLjAsIDAuMCwgMC4wLCAxLjAgKTsKICAgIG1hdDQgdm0gPSB1X3Byb2pNYXRyaXggKiB2bV96ZXJvZDsKICAgIHZlYzQgcG9zNCA9IHZtICogdmVjNCggYV9wb3NpdGlvbiwgMS4wICk7CiAgICBnbF9Qb3NpdGlvbiA9IHBvczQueHl3dzsKICAgIHZfdGV4Q29vcmQgPSBhX3Bvc2l0aW9uLnh5eiAqIHZlYzMoMS4wLCAtMS4wLCAtMS4wKTsgCn0K"},
{ "ssao.fsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCgojaW5jbHVkZSAibGlnaHRpbmdfdW5pZm9ybXMuZ2xzbCIKI2luY2x1ZGUgImNhbWVyYV91bmlmb3Jtcy5nbHNsIgoKaW4gdmVjMiB2X3RleENvb3JkOwppbiB2ZWMzIHZfdGV4VDI7Cm91dCB2ZWM0IEZyYWdDb2xvcjsKdW5pZm9ybSBzYW1wbGVyMkQgZGVwdGhNYXBUZXh0dXJlOwp1bmlmb3JtIHNhbXBsZXIyRCBub3JtYWxNYXBUZXh0dXJlOwp1bmlmb3JtIHNhbXBsZXIyRCBub2lzZTR4NFRleHR1cmU7CgpmbG9hdCBzc2FvKCkgewogICAgZmxvYXQgb2NjbHVkZWQgPSAxLjA7CiAgICB2ZWMyIHVOb2lzZVNjYWxlID0gdmVjMigxMDI0LjAvNC4wLCAxMDI0LjAvNC4wKTsKICAgIGZsb2F0IHBvaW50WiA9IHRleHR1cmUoZGVwdGhNYXBUZXh0dXJlLCB2X3RleENvb3JkKS5yOwogICAgCiAgICB2ZWMzIG9yaWdpbiA9IC12X3RleFQyICogcG9pbnRaOwoKICAgIHZlYzMgbm9ybWFsID0gdGV4dHVyZShub3JtYWxNYXBUZXh0dXJlLCB2X3RleENvb3JkKS54eXogKiAyLjAgLSAxLjA7CiAgICBub3JtYWwgPSBub3JtYWxpemUobm9ybWFsKTsKICAgIG5vcm1hbC55ID0gLW5vcm1hbC55OwogICAgdmVjMyBydmVjID0gdGV4dHVyZShub2lzZTR4NFRleHR1cmUsIHZfdGV4Q29vcmQgKiB1Tm9pc2VTY2FsZSkueHl6ICogMi4wIC0gMS4wOwogICAgdmVjMyB0YW5nZW50ID0gbm9ybWFsaXplKHJ2ZWMgLSBub3JtYWwgKiBkb3QocnZlYywgbm9ybWFsKSk7CiAgICB2ZWMzIGJpdGFuZ2VudCA9IGNyb3NzKG5vcm1hbCwgdGFuZ2VudCk7CiAgICBtYXQzIHRibiA9IG1hdDModGFuZ2VudCwgYml0YW5nZW50LCAtbm9ybWFsKTsKCiAgICBmbG9hdCBvY2NsdXNpb24gPSAwLjA7CiAgICBmbG9hdCBwUmFuZ2VDbGFtcGVkID0gY2xhbXAoMC4wLCAxLjAsIHBvaW50Wik7CiAgICBmbG9hdCB1UmFkaXVzID0gdV9zc2FvUGFyYW1ldGVyc1swXSpwUmFuZ2VDbGFtcGVkOyAvLyAxMC4wIGRlZmF1bHQ7CiAgICBmbG9hdCB1UmFkaXVzMTAwID0gdVJhZGl1cyowLjAxNTsKICAgIGludCBudW1TYW1wbGVzID0gaW50KHVfc3Nhb1BhcmFtZXRlcnNbMV0pOyAvLyB1X2hlbWlzcGhlcmVTYW1wbGVLZXJuZWxTaXplCiAgICBmb3IgKGludCBpID0gMDsgaSA8IG51bVNhbXBsZXM7ICsraSkgewogICAgICAgIC8vIGdldCBzYW1wbGUgcG9zaXRpb246CiAgICAgICAgdmVjMyBzYW0gPSB1X2hlbWlzcGhlcmVTYW1wbGVLZXJuZWxbaV07CiAgICAgICAgdmVjMyB6c2FtcGxlID0gdGJuICogc2FtOwogICAgICAgIHpzYW1wbGUgPSB6c2FtcGxlICogdVJhZGl1cyArIG9yaWdpbjsKICAgICAgICBmbG9hdCBjb21wWiA9IHpzYW1wbGUueiowLjAxOwoKICAgICAgICAvLyBwcm9qZWN0IHpzYW1wbGUgcG9zaXRpb246CiAgICAgICAgdmVjNCBvZmZzZXQgPSB2ZWM0KHpzYW1wbGUsIDEuMCk7CiAgICAgICAgb2Zmc2V0ID0gdV9wcm9qTWF0cml4ICogb2Zmc2V0OyAgICAgICAgCiAgICAgICAgb2Zmc2V0Lnh5IC89IC1vZmZzZXQudzsKICAgICAgICBvZmZzZXQueHkgPSBvZmZzZXQueHkgKiB2ZWMyKC0wLjUsIDAuNSkgKyAwLjU7CiAgICAgICAgCiAgICAgICAgLy8gZ2V0IHpzYW1wbGUgZGVwdGg6CiAgICAgICAgZmxvYXQgc2FtcGxlRGVwdGggPSB0ZXh0dXJlKGRlcHRoTWFwVGV4dHVyZSwgb2Zmc2V0Lnh5KS5yOyAgICAgICAgCgogICAgICAgIGZsb2F0IHJhbmdlQ2hlY2sgPSBzbW9vdGhzdGVwKDAuMCwgMS4wLCAodVJhZGl1czEwMCkvYWJzKHBvaW50Wi1zYW1wbGVEZXB0aCkpOwoKICAgICAgICBvY2NsdXNpb24gKz0gKHNhbXBsZURlcHRoID4gKGNvbXBaLTAuMDEyNSkgPyAwLjAgOiAxLjApICogcmFuZ2VDaGVjazsKICAgIH0gCgogICAgcmV0dXJuIDEuMC0ob2NjbHVzaW9uL2Zsb2F0KG51bVNhbXBsZXMpKTsKfQoKdm9pZCBtYWluKCkgewogICAgRnJhZ0NvbG9yID0gdmVjNCh2ZWMzKHNzYW8oKSksIDEuMCk7Cn0K"},
{ "st_clouds.fsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCgppbiB2ZWMyIHZfdGV4Q29vcmQ7Cm91dCB2ZWM0IEZyYWdDb2xvcjsKdW5pZm9ybSBzYW1wbGVyMkQgY29sb3JGQlRleHR1cmU7CnVuaWZvcm0gc2FtcGxlcjJEIGJsb29tVGV4dHVyZTsKdW5pZm9ybSBzYW1wbGVyMkQgc2hhZG93TWFwVGV4dHVyZTsKCmZsb2F0IGlUaW1lID0gMzAuMDsKZmxvYXQgcmFuZHQodmVjMiBjbyl7CiAgICByZXR1cm4gZnJhY3Qoc2luKGRvdChjby54eSAsdmVjMigxMi45ODk4LDc4LjIzMykpKSAqIDQzNzU4LjU0NTMpOwp9CgovLyBWb2x1bWV0cmljIGNsb3Vkcy4gSXQgcGVyZm9ybXMgbGV2ZWwgb2YgZGV0YWlsIChMT0QpIGZvciBmYXN0ZXIgcmVuZGVyaW5nCgpmbG9hdCBub2lzZSggaW4gdmVjMyB4ICkKewogICAgdmVjMyBwID0gZmxvb3IoeCk7CiAgICB2ZWMzIGYgPSBmcmFjdCh4KTsKCWYgPSBmKmYqKDMuMC0yLjAqZik7CiAgICAKI2lmIDEKCXZlYzIgdXYgPSAocC54eSt2ZWMyKDM3LjAsMTcuMCkqcC56KSArIGYueHk7CiAgICB2ZWMyIHJnID0gdmVjMihyYW5kdCh1dio4NDkzMDQyMy4wKSwgcmFuZHQodXYqMC4xKSk7Ly90ZXh0dXJlTG9kKCBjb2xvckZCVGV4dHVyZSwgKHV2KyAwLjUpLzI1Ni4wLCAwLiApLnl4OwojZWxzZQogICAgaXZlYzMgcSA9IGl2ZWMzKHApOwoJaXZlYzIgdXYgPSBxLnh5ICsgaXZlYzIoMzcsMTcpKnEuejsKCgl2ZWMyIHJnID0gbWl4KCBtaXgoIHRleGVsRmV0Y2goIGlDaGFubmVsMCwgKHV2ICAgICAgICAgICApJjI1NSwgMCApLAoJCQkJICAgICAgICB0ZXhlbEZldGNoKCBpQ2hhbm5lbDAsICh1ditpdmVjMigxLDApKSYyNTUsIDAgKSwgZi54ICksCgkJCQkgICBtaXgoIHRleGVsRmV0Y2goIGlDaGFubmVsMCwgKHV2K2l2ZWMyKDAsMSkpJjI1NSwgMCApLAoJCQkJICAgICAgICB0ZXhlbEZldGNoKCBpQ2hhbm5lbDAsICh1ditpdmVjMigxLDEpKSYyNTUsIDAgKSwgZi54ICksIGYueSApLnl4OwojZW5kaWYgICAgCiAgICAKCXJldHVybiAtMS4wKzIuMCptaXgoIHJnLngsIHJnLnksIGYueiApOwp9CgpmbG9hdCBtYXA1KCBpbiB2ZWMzIHAgKQp7Cgl2ZWMzIHEgPSBwIC0gdmVjMygwLjAsMC4xLDEuMCkqaVRpbWU7CglmbG9hdCBmOwogICAgZiAgPSAwLjUwMDAwKm5vaXNlKCBxICk7IHEgPSBxKjIuMDI7CiAgICBmICs9IDAuMjUwMDAqbm9pc2UoIHEgKTsgcSA9IHEqMi4wMzsKICAgIGYgKz0gMC4xMjUwMCpub2lzZSggcSApOyBxID0gcSoyLjAxOwogICAgZiArPSAwLjA2MjUwKm5vaXNlKCBxICk7IHEgPSBxKjIuMDI7CiAgICBmICs9IDAuMDMxMjUqbm9pc2UoIHEgKTsKCXJldHVybiBjbGFtcCggMS41IC0gcC55IC0gMi4wICsgMS43NSpmLCAwLjAsIDEuMCApOwp9CgpmbG9hdCBtYXA0KCBpbiB2ZWMzIHAgKQp7Cgl2ZWMzIHEgPSBwIC0gdmVjMygwLjAsMC4xLDEuMCkqaVRpbWU7CglmbG9hdCBmOwogICAgZiAgPSAwLjUwMDAwKm5vaXNlKCBxICk7IHEgPSBxKjIuMDI7CiAgICBmICs9IDAuMjUwMDAqbm9pc2UoIHEgKTsgcSA9IHEqMi4wMzsKICAgIGYgKz0gMC4xMjUwMCpub2lzZSggcSApOyBxID0gcSoyLjAxOwogICAgZiArPSAwLjA2MjUwKm5vaXNlKCBxICk7CglyZXR1cm4gY2xhbXAoIDEuNSAtIHAueSAtIDIuMCArIDEuNzUqZiwgMC4wLCAxLjAgKTsKfQpmbG9hdCBtYXAzKCBpbiB2ZWMzIHAgKQp7Cgl2ZWMzIHEgPSBwIC0gdmVjMygwLjAsMC4xLDEuMCkqaVRpbWU7CglmbG9hdCBmOwogICAgZiAgPSAwLjUwMDAwKm5vaXNlKCBxICk7IHEgPSBxKjIuMDI7CiAgICBmICs9IDAuMjUwMDAqbm9pc2UoIHEgKTsgcSA9IHEqMi4wMzsKICAgIGYgKz0gMC4xMjUwMCpub2lzZSggcSApOwoJcmV0dXJuIGNsYW1wKCAxLjUgLSBwLnkgLSAyLjAgKyAxLjc1KmYsIDAuMCwgMS4wICk7Cn0KZmxvYXQgbWFwMiggaW4gdmVjMyBwICkKewoJdmVjMyBxID0gcCAtIHZlYzMoMC4wLDAuMSwxLjApKmlUaW1lOwoJZmxvYXQgZjsKICAgIGYgID0gMC41MDAwMCpub2lzZSggcSApOyBxID0gcSoyLjAyOwogICAgZiArPSAwLjI1MDAwKm5vaXNlKCBxICk7OwoJcmV0dXJuIGNsYW1wKCAxLjUgLSBwLnkgLSAyLjAgKyAxLjc1KmYsIDAuMCwgMS4wICk7Cn0KCnZlYzMgc3VuZGlyID0gbm9ybWFsaXplKCB2ZWMzKC0xLjAsMC4wLC0xLjApICk7Cgp2ZWM0IGludGVncmF0ZSggaW4gdmVjNCBzdW0sIGluIGZsb2F0IGRpZiwgaW4gZmxvYXQgZGVuLCBpbiB2ZWMzIGJnY29sLCBpbiBmbG9hdCB0ICkKewogICAgLy8gbGlnaHRpbmcKICAgIHZlYzMgbGluID0gdmVjMygwLjY1LDAuNywwLjc1KSoxLjQgKyB2ZWMzKDEuMCwgMC42LCAwLjMpKmRpZjsgICAgICAgIAogICAgdmVjNCBjb2wgPSB2ZWM0KCBtaXgoIHZlYzMoMS4wLDAuOTUsMC44KSwgdmVjMygwLjI1LDAuMywwLjM1KSwgZGVuICksIGRlbiApOwogICAgY29sLnh5eiAqPSBsaW47CiAgICBjb2wueHl6ID0gbWl4KCBjb2wueHl6LCBiZ2NvbCwgMS4wLWV4cCgtMC4wMDMqdCp0KSApOwogICAgLy8gZnJvbnQgdG8gYmFjayBibGVuZGluZyAgICAKICAgIGNvbC5hICo9IDAuNDsKICAgIGNvbC5yZ2IgKj0gY29sLmE7CiAgICByZXR1cm4gc3VtICsgY29sKigxLjAtc3VtLmEpOwp9CgojZGVmaW5lIE1BUkNIKFNURVBTLE1BUExPRCkgZm9yKGludCBpPTA7IGk8U1RFUFM7IGkrKykgeyB2ZWMzICBwb3MgPSBybyArIHQqcmQ7IGlmKCBwb3MueTwtMy4wIHx8IHBvcy55PjIuMCB8fCBzdW0uYSA+IDAuOTkgKSBicmVhazsgZmxvYXQgZGVuID0gTUFQTE9EKCBwb3MgKTsgaWYoIGRlbj4wLjAxICkgeyBmbG9hdCBkaWYgPSAgY2xhbXAoKGRlbiAtIE1BUExPRChwb3MrMC4zKnN1bmRpcikpLzAuNiwgMC4wLCAxLjAgKTsgc3VtID0gaW50ZWdyYXRlKCBzdW0sIGRpZiwgZGVuLCBiZ2NvbCwgdCApOyB9IHQgKz0gbWF4KDAuMDUsMC4wMip0KTsgfQoKdmVjNCByYXltYXJjaCggaW4gdmVjMyBybywgaW4gdmVjMyByZCwgaW4gdmVjMyBiZ2NvbCwgaW4gaXZlYzIgcHggKQp7Cgl2ZWM0IHN1bSA9IHZlYzQoMC4wKTsKCglmbG9hdCB0ID0gMC4wOy8vMC4wNSp0ZXhlbEZldGNoKCBpQ2hhbm5lbDAsIHB4JjI1NSwgMCApLng7CgogICAgTUFSQ0goMzAsbWFwNSk7CiAgICBNQVJDSCgzMCxtYXA0KTsKICAgIE1BUkNIKDMwLG1hcDMpOwogICAgTUFSQ0goMzAsbWFwMik7CgogICAgcmV0dXJuIGNsYW1wKCBzdW0sIDAuMCwgMS4wICk7Cn0KCm1hdDMgc2V0Q2FtZXJhKCBpbiB2ZWMzIHJvLCBpbiB2ZWMzIHRhLCBmbG9hdCBjciApCnsKCXZlYzMgY3cgPSBub3JtYWxpemUodGEtcm8pOwoJdmVjMyBjcCA9IHZlYzMoc2luKGNyKSwgY29zKGNyKSwwLjApOwoJdmVjMyBjdSA9IG5vcm1hbGl6ZSggY3Jvc3MoY3csY3ApICk7Cgl2ZWMzIGN2ID0gbm9ybWFsaXplKCBjcm9zcyhjdSxjdykgKTsKICAgIHJldHVybiBtYXQzKCBjdSwgY3YsIGN3ICk7Cn0KCnZlYzQgcmVuZGVyKCBpbiB2ZWMzIHJvLCBpbiB2ZWMzIHJkLCBpbiBpdmVjMiBweCApCnsKICAgIC8vIGJhY2tncm91bmQgc2t5ICAgICAKCWZsb2F0IHN1biA9IGNsYW1wKCBkb3Qoc3VuZGlyLHJkKSwgMC4wLCAxLjAgKTsKCXZlYzMgY29sID0gdmVjMygwLjYsMC43MSwwLjc1KSAtIHJkLnkqMC4yKnZlYzMoMS4wLDAuNSwxLjApICsgMC4xNSowLjU7Cgljb2wgKz0gMC4yKnZlYzMoMS4wLC42LDAuMSkqcG93KCBzdW4sIDguMCApOwoKICAgIC8vIGNsb3VkcyAgICAKICAgIHZlYzQgcmVzID0gcmF5bWFyY2goIHJvLCByZCwgY29sLCBweCApOwogICAgY29sID0gY29sKigxLjAtcmVzLncpICsgcmVzLnh5ejsKICAgIAogICAgLy8gc3VuIGdsYXJlICAgIAoJY29sICs9IDAuMip2ZWMzKDEuMCwwLjQsMC4yKSpwb3coIHN1biwgMy4wICk7CgogICAgcmV0dXJuIHZlYzQoIGNvbCwgMS4wICk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIHZlYzIgaVJlc29sdXRpb24gPSB2ZWMyKDEyODAsNzgwKTsKICAgIHZlYzIgcCA9IHZlYzIoLWlSZXNvbHV0aW9uLnh5ICsgMi4wKnZfdGV4Q29vcmQueHkpLyBpUmVzb2x1dGlvbi55OwoKICAgIHZlYzIgbSA9IHZlYzIoMC4wKTsvL2lNb3VzZS54eS9pUmVzb2x1dGlvbi54eTsKICAgIAogICAgLy8gY2FtZXJhCiAgICB2ZWMzIHJvID0gNC4wKm5vcm1hbGl6ZSh2ZWMzKHNpbigzLjAqbS54KSwgMC40Km0ueSwgY29zKDMuMCptLngpKSk7Cgl2ZWMzIHRhID0gdmVjMygwLjAsIC0xLjAsIDAuMCk7CiAgICBtYXQzIGNhID0gc2V0Q2FtZXJhKCBybywgdGEsIDAuMCApOwogICAgLy8gcmF5CiAgICB2ZWMzIHJkID0gY2EgKiBub3JtYWxpemUoIHZlYzMocC54eSwxLjUpKTsKCiAgICB2ZWMyIHV2ID0gdl90ZXhDb29yZDsKICAgIHV2ICo9ICAxLjAgLSB1di55eDsgCiAgICBmbG9hdCB2aWcgPSB1di54KnV2LnkgKiAyNTAwLjA7IC8vIG11bHRpcGx5IHdpdGggc3RoIGZvciBpbnRlbnNpdHkKICAgIHZpZyA9IGNsYW1wKCBwb3codmlnLCAyLjk1KSwgMC4wLCAxLjApOyAvLyBjaGFuZ2UgcG93IGZvciBtb2RpZnlpbmcgdGhlIGV4dGVuZCBvZiB0aGUgIHZpZ25ldHRlCiAgIAogICAgRnJhZ0NvbG9yID0gcmVuZGVyKCBybywgcmQsIGl2ZWMyKHZfdGV4Q29vcmQtMC41KSApOwoKICAgIC8vRnJhZ0NvbG9yID0gdmVjNCggbWl4KCB2ZWMzKDEuMCksIHBvdyggRnJhZ0NvbG9yLnh5eiwgdmVjMyggMS4wIC8gMi4yICkgKSwgdmlnKSwgRnJhZ0NvbG9yLmEgKTsKCn0K"},
{ "vertex_shader_2d_c.vsh", "I2luY2x1ZGUgImxheW91dF9wb3MzZC5nbHNsIgojaW5jbHVkZSAiY2FtZXJhX3VuaWZvcm1zLmdsc2wiCnVuaWZvcm0gbWF0NCB1X21vZGVsTWF0cml4OwoKdm9pZCBtYWluKCkgewogICAgICAgZ2xfUG9zaXRpb24gPSB1X3NjcmVlblNwYWNlTWF0cml4ICogdV9tb2RlbE1hdHJpeCAqIHZlYzQoIGFfcG9zaXRpb24sIDEuMCApOwp9CiAgICA"},
{ "vertex_shader_2d_font.vsh", "I2luY2x1ZGUgImxheW91dF9mb250Lmdsc2wiCiNpbmNsdWRlICJjYW1lcmFfdW5pZm9ybXMuZ2xzbCIKCnVuaWZvcm0gbWF0NCB1X21vZGVsTWF0cml4OwoKdm9pZCBtYWluKCkgewogICAgdHBvcyA9IHZlYzMoIGFfdDEueCowLjUsIG1heCggYV90MS54LTEuMCwgMC4wICksIGFfdDEueSApOwogICAgZ2xfUG9zaXRpb24gPSB1X3NjcmVlblNwYWNlTWF0cml4ICogdV9tb2RlbE1hdHJpeCAqIHZlYzQoIGFfcG9zaXRpb24sIDEuMCApOwp9Cg"},
{ "vertex_shader_2d_t.vsh", "I2luY2x1ZGUgImxheW91dF9wb3NfdGV4M2QuZ2xzbCIKICAgICAgICNpbmNsdWRlICJjYW1lcmFfdW5pZm9ybXMuZ2xzbCIKCiAgICAgICB1bmlmb3JtIG1hdDQgdV9tb2RlbE1hdHJpeDsKCiAgICAgICB2b2lkIG1haW4oKSB7CiAgICAgICB2X3RleENvb3JkID0gYV90MTsKICAgICAgIGdsX1Bvc2l0aW9uID0gdV9zY3JlZW5TcGFjZU1hdHJpeCAqIHVfbW9kZWxNYXRyaXggKiB2ZWM0KCBhX3Bvc2l0aW9uLCAxLjAgKTsKICAgICAgIH0KICAgIA"},
{ "vertex_shader_3d_c.vsh", "I2luY2x1ZGUgImxheW91dF9wb3MzZC5nbHNsIgojaW5jbHVkZSAiY2FtZXJhX3VuaWZvcm1zLmdsc2wiCgp1bmlmb3JtIG1hdDQgdV9tb2RlbE1hdHJpeDsKCnZvaWQgbWFpbigpIHsKICAgIGdsX1Bvc2l0aW9uID0gdV9tdnBNYXRyaXggKiB1X21vZGVsTWF0cml4ICogdmVjNCggYV9wb3NpdGlvbiwgMS4wICk7Cn0K"},
{ "vertex_shader_3d_font.vsh", "I2luY2x1ZGUgImxheW91dF9mb250Lmdsc2wiCiAgICAgICAjaW5jbHVkZSAiY2FtZXJhX3VuaWZvcm1zLmdsc2wiCgogICAgICAgdW5pZm9ybSBtYXQ0IHVfbW9kZWxNYXRyaXg7CgogICAgICAgdm9pZCBtYWluKCkgewogICAgICAgdHBvcyA9IHZlYzMoIGFfdDEueCowLjUsIG1heCggYV90MS54IC0gMS4wLCAwLjAgKSwgYV90MS55ICk7CiAgICAgICBnbF9Qb3NpdGlvbiA9IHVfbXZwTWF0cml4ICogdV9tb2RlbE1hdHJpeCAqIHZlYzQoIGFfcG9zaXRpb24ueHl6LCAxLjAgKTsKICAgICAgIH0KICAgIA"},
{ "vertex_shader_3d_sh.vsh", "I2luY2x1ZGUgInZlcnRleF9zaGFkZXJfc2hfY29tbW9uLmdsc2wiCgp2b2lkIG1haW4oKSB7CiAgICAgICBtYXQzIG1vZGVsTWF0cml4M3gzID0gc2hWZXJ0ZXhEYXRhKCk7CgogICAgICAgdl9ub3JtID0gbm9ybWFsaXplKCBtb2RlbE1hdHJpeDN4MyAqIGFfdDIgKTsKICAgICAgIHZfdGFuID0gbm9ybWFsaXplKCBtb2RlbE1hdHJpeDN4MyAqIGFfdDMueHl6ICk7CiAgICAgICB2X2JpdGFuID0gbm9ybWFsaXplKCBtb2RlbE1hdHJpeDN4MyAqIGFfdDQgKTsKCiAgICAgICAvLyBDaGVjayBoYW5kbmVzcwogICAgICAgLy8JaWYgKGRvdChjcm9zcyh2X25vcm0sIHZfdGFuKSwgdl9iaXRhbikgPCAwLjApIHsKICAgICAgIC8vCQl2X3RhbiAqPSAtMS4wOwogICAgICAgLy8JfQogICAgICAgbWF0MyBpdGJuOwogICAgICAgaXRiblswXSA9IHZfdGFuOwogICAgICAgaXRiblsxXSA9IHZfYml0YW47CiAgICAgICBpdGJuWzJdID0gdl9ub3JtOwogICAgICAgaXRibiA9IHRyYW5zcG9zZSggaXRibiApOwoKICAgICAgdGFuZ2VudFZpZXdQb3MgID0gaXRibiAqIHVfZXllUG9zOwogICAgICB0YW5nZW50RnJhZ1BvcyAgPSBpdGJuICogUG9zaXRpb25fd29ybGRzcGFjZTsKfQogICAg"},
{ "vertex_shader_3d_sh_notexture.vsh", "I2luY2x1ZGUgInZlcnRleF9zaGFkZXJfc2hfY29tbW9uLmdsc2wiCgp2b2lkIG1haW4oKSB7CiAgICAgICBtYXQzIG1vZGVsTWF0cml4M3gzID0gc2hWZXJ0ZXhEYXRhKCk7CgogICAgICAgdl9ub3JtID0gbm9ybWFsaXplKCBtb2RlbE1hdHJpeDN4MyAqIGFfdDIgKTsKICAgICAgIHZfdGFuID0gbm9ybWFsaXplKCBtb2RlbE1hdHJpeDN4MyAqIGFfdDMueHl6ICk7CiAgICAgICB2X2JpdGFuID0gbm9ybWFsaXplKCBtb2RlbE1hdHJpeDN4MyAqIGFfdDQgKTsKCiAgICAgICAvLyBDaGVjayBoYW5kbmVzcwogICAgICAgLy8JaWYgKGRvdChjcm9zcyh2X25vcm0sIHZfdGFuKSwgdl9iaXRhbikgPCAwLjApIHsKICAgICAgIC8vCQl2X3RhbiAqPSAtMS4wOwogICAgICAgLy8JfQogICAgLy8gICAgbWF0MyBpdGJuOwogICAgLy8gICAgaXRiblswXSA9IHZfdGFuOwogICAgLy8gICAgaXRiblsxXSA9IHZfYml0YW47CiAgICAvLyAgICBpdGJuWzJdID0gdl9ub3JtOwogICAgLy8gICAgaXRibiA9IHRyYW5zcG9zZSggaXRibiApOwp9CiAgICAKLy8jaW5jbHVkZSAidmVydGV4X3NoYWRlcl9zaF9jb21tb24uZ2xzbCIKLy8KLy92b2lkIG1haW4oKSB7Ci8vICAgIG1hdDMgbW9kZWxNYXRyaXgzeDMgPSBzaFZlcnRleERhdGEoKTsKLy8gICAgdl9ub3JtID0gbm9ybWFsaXplKCBtb2RlbE1hdHJpeDN4MyAqIGFfdDIgKTsKLy99CiAgICA"},
{ "vertex_shader_3d_t.vsh", "I2luY2x1ZGUgImxheW91dF9wb3NfdGV4M2QuZ2xzbCIKI2luY2x1ZGUgImNhbWVyYV91bmlmb3Jtcy5nbHNsIgoKdW5pZm9ybSBtYXQ0IHVfbW9kZWxNYXRyaXg7Cgp2b2lkIG1haW4oKSB7CiAgICAgICB2X3RleENvb3JkID0gYV90MTsKICAgICAgIGdsX1Bvc2l0aW9uID0gdV9tdnBNYXRyaXggKiB1X21vZGVsTWF0cml4ICogdmVjNCggYV9wb3NpdGlvbiwgMS4wICk7Cn0KICAgIA"},
{ "vertex_shader_blitcopy.vsh", "I2luY2x1ZGUgImxheW91dF9wb3NfdGV4MmQuZ2xzbCIKCnZvaWQgbWFpbigpIHsKICAgICAgIHZfdGV4Q29vcmQgPSBhX3QxOwogICAgICAgZ2xfUG9zaXRpb24gPSB2ZWM0KCBhX3Bvc2l0aW9uLngsIGFfcG9zaXRpb24ueSwgMC4wLCAxLjAgKTsKfQogICAg"},
{ "vertex_shader_blitcopy_viewspace.vsh", "I2luY2x1ZGUgImxheW91dF9wb3NfdGV4MmRfdjMuZ2xzbCIKCnZvaWQgbWFpbigpIHsKICAgICAgIHZfdGV4Q29vcmQgPSBhX3QxOwogICAgICAgdl90ZXhUMiA9IGFfdDI7CiAgICAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoIGFfcG9zaXRpb24ueCwgYV9wb3NpdGlvbi55LCAwLjAsIDEuMCApOwp9CiAgICA"},
{ "vertex_shader_brdf.vsh", "I2luY2x1ZGUgImxheW91dF9wb3NfdGV4M2QuZ2xzbCIKCiAgICAgICB2b2lkIG1haW4oKQogICAgICAgewogICAgICAgdl90ZXhDb29yZCA9IGFfdDE7CiAgICAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoIGFfcG9zaXRpb24sIDEuMCApOwogICAgICAgfQogICAg"},
{ "vertex_shader_osm.vsh", "I2luY2x1ZGUgInZlcnRleF9zaGFkZXJfc2hfY29tbW9uLmdsc2wiCgp2b2lkIG1haW4oKSB7CiAgICAgICBtYXQzIG1vZGVsTWF0cml4M3gzID0gc2hWZXJ0ZXhEYXRhKCk7CgogICAgICAgdl9ub3JtID0gbm9ybWFsaXplKCBtb2RlbE1hdHJpeDN4MyAqIGFfdDIgKTsKICAgICAgIHZfdGFuID0gbm9ybWFsaXplKCBtb2RlbE1hdHJpeDN4MyAqIGFfdDMueHl6ICk7CiAgICAgICB2X2JpdGFuID0gbm9ybWFsaXplKCBtb2RlbE1hdHJpeDN4MyAqIGFfdDQgKTsKCiAgICAgICAvLyBDaGVjayBoYW5kbmVzcwogICAgICAgLy8JaWYgKGRvdChjcm9zcyh2X25vcm0sIHZfdGFuKSwgdl9iaXRhbikgPCAwLjApIHsKICAgICAgIC8vCQl2X3RhbiAqPSAtMS4wOwogICAgICAgLy8JfQogICAgICAgbWF0MyBpdGJuOwogICAgICAgaXRiblswXSA9IHZfdGFuOwogICAgICAgaXRiblsxXSA9IHZfYml0YW47CiAgICAgICBpdGJuWzJdID0gdl9ub3JtOwogICAgICAgaXRibiA9IHRyYW5zcG9zZSggaXRibiApOwoKICAgICAgdGFuZ2VudFZpZXdQb3MgID0gaXRibiAqIHVfZXllUG9zOwogICAgICB0YW5nZW50RnJhZ1BvcyAgPSBpdGJuICogUG9zaXRpb25fd29ybGRzcGFjZTsKfQogICAg"},
{ "vertex_shader_sh_common", "I2luY2x1ZGUgImxheW91dF9zaC5nbHNsIgojaW5jbHVkZSAiY2FtZXJhX3VuaWZvcm1zLmdsc2wiCiNpbmNsdWRlICJsaWdodGluZ191bmlmb3Jtcy5nbHNsIgojaW5jbHVkZSAiYW5pbWF0aW9uX3VuaWZvcm1zLmdsc2wiCnVuaWZvcm0gbWF0NCB1X21vZGVsTWF0cml4OwoKbWF0MyBzaFZlcnRleERhdGEoKSB7CiAgIHZlYzQgcG9zNCA9IHZlYzQoIGFfcG9zaXRpb24sIDEuMCApOwogICB2X3RleENvb3JkID0gYV90MTsKICAgdl90ZXhDb29yZDIgPSBhX3R1djI7CiAgIHZfY29sb3IgPSBhX3Q1OwoKICAgLy8JbWF0MyBtb2RlbE1hdHJpeDN4MyA9IG1hdDModHJhbnNwb3NlKGludmVyc2UodV9tb2RlbE1hdHJpeCkpKTsvL21hdDMoIHVfbW9kZWxNYXRyaXggKTsKICAgbWF0MyBtb2RlbE1hdHJpeDN4MyA9IG1hdDMoIHVfbW9kZWxNYXRyaXggKTsKCiAgIG1vZGVsTWF0cml4M3gzWzBdID0gbm9ybWFsaXplKCBtb2RlbE1hdHJpeDN4M1swXSApOwogICBtb2RlbE1hdHJpeDN4M1sxXSA9IG5vcm1hbGl6ZSggbW9kZWxNYXRyaXgzeDNbMV0gKTsKICAgbW9kZWxNYXRyaXgzeDNbMl0gPSBub3JtYWxpemUoIG1vZGVsTWF0cml4M3gzWzJdICk7CgogICAvLyBQb3NpdGlvbiBvZiB0aGUgdmVydGV4LCBpbiB3b3JsZHNwYWNlIDogTSAqIHBvc2l0aW9uCiAgIFBvc2l0aW9uX3dvcmxkc3BhY2UgPSAoIHVfbW9kZWxNYXRyaXggKiBwb3M0ICkueHl6OwoKICAgLy8gU2hhZG93bWFwCiAgIHZlYzQgdl9zaGFkb3dtYXBfY29vcmQgPSB1X2RlcHRoQmlhc01WUCAqIHZlYzQoIFBvc2l0aW9uX3dvcmxkc3BhY2UsIDEuMCApOwogICB2X3NoYWRvd21hcF9jb29yZDMgPSB2ZWMzKCB2X3NoYWRvd21hcF9jb29yZC54eSwgdl9zaGFkb3dtYXBfY29vcmQueiAvIHZfc2hhZG93bWFwX2Nvb3JkLncgKTsKCiAgIGdsX1Bvc2l0aW9uID0gdV9tdnBNYXRyaXggKiB1X21vZGVsTWF0cml4ICogcG9zNDsKCi8vICAgIHZfY29sb3IgPSB2ZWMzKCAwLjAgKTsKLy8gICAgdl9jb2xvci5yICs9IGRvdCggc2hMaWdodENvZWZmc1swXSwgc2hSMSApOwovLyAgICB2X2NvbG9yLnIgKz0gZG90KCBzaExpZ2h0Q29lZmZzWzFdLCBzaFIyICk7Ci8vICAgIHZfY29sb3IuciArPSBkb3QoIHNoTGlnaHRDb2VmZnNbMl0sIHNoUjMgKTsKCi8vICAgIHZfY29sb3IuZyArPSBkb3QoIHNoTGlnaHRDb2VmZnNbMF0sIHNoRzEgKTsKLy8gICAgdl9jb2xvci5nICs9IGRvdCggc2hMaWdodENvZWZmc1sxXSwgc2hHMiApOwovLyAgICB2X2NvbG9yLmcgKz0gZG90KCBzaExpZ2h0Q29lZmZzWzJdLCBzaEczICk7CgovLyAgICB2X2NvbG9yLmIgKz0gZG90KCBzaExpZ2h0Q29lZmZzWzBdLCBzaEIxICk7Ci8vICAgIHZfY29sb3IuYiArPSBkb3QoIHNoTGlnaHRDb2VmZnNbMV0sIHNoQjIgKTsKLy8gICAgdl9jb2xvci5iICs9IGRvdCggc2hMaWdodENvZWZmc1syXSwgc2hCMyApOwoKICAgLy8gdl90OCA9IGFfdDg7CgogICByZXR1cm4gbW9kZWxNYXRyaXgzeDM7Cn0KICAgIA"},
{ "wireframe.fsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCgojaW5jbHVkZSAiY29sb3JfdW5pZm9ybXMuZ2xzbCIKCm91dCB2ZWM0IEZyYWdDb2xvcjsKCnZvaWQgbWFpbigpCnsKLy8gTkREYWRvOiB0aGlzIGlzIGEgYmFyeWNlbnRyaWMgd2lyZWZyYW1lIHNoYWRlciwgbmVlZHMgYSBmdWxsIHZlcnRleAovLyBkZXNjcmlwdG9yIHdpdGggYmFyeWNlbnRyaWMgY29vcmRpbmF0ZXMgSUUgdl90OCBmb3IgU0ggc2hhZGVycy4KCi8vIGZsb2F0IGZfdGhpY2tuZXNzID0gMC4wMDE7Ci8vIGZsb2F0IGZfY2xvc2VzdF9lZGdlID0gbWluKHZfdDgueCxtaW4odl90OC55LCB2X3Q4LnopKTsgLy8gc2VlIHRvIHdoaWNoIGVkZ2UgdGhpcyBwaXhlbCBpcyB0aGUgY2xvc2VzdAovLyBmbG9hdCBmX3dpZHRoID0gZndpZHRoKGZfY2xvc2VzdF9lZGdlKTsgLy8gY2FsY3VsYXRlIGRlcml2YXRpdmUgKGRpdmlkZSBmX3RoaWNrbmVzcyBieSB0aGlzIHRvIGhhdmUgdGhlIGxpbmUgd2lkdGggY29uc3RhbnQgaW4gc2NyZWVuLXNwYWNlKQovLyBmbG9hdCBmX2FscGhhID0gc21vb3Roc3RlcChmX3RoaWNrbmVzcywgZl90aGlja25lc3MgKyBmX3dpZHRoLCBmX2Nsb3Nlc3RfZWRnZSk7IC8vIGNhbGN1bGF0ZSBhbHBoYQovLyAvLyBvcGFjaXR5ViAqPSAxLjAtZl9hbHBoYTsKCiAgICBGcmFnQ29sb3IgPSB2ZWM0KGRpZmZ1c2VDb2xvciwgYWxwaGEqb3BhY2l0eSk7Cn0"},
{ "wireframe.gsh", "I3ZlcnNpb24gI29wZW5nbF92ZXJzaW9uCiNpbmNsdWRlICJjYW1lcmFfdW5pZm9ybXMuZ2xzbCIKCmxheW91dCggdHJpYW5nbGVzICkgaW47CmxheW91dCggdHJpYW5nbGVfc3RyaXAsIG1heF92ZXJ0aWNlcyA9IDMgKSBvdXQ7Cm91dCB2ZWMzIEdOb3JtYWw7Cm91dCB2ZWMzIEdQb3NpdGlvbjsKbm9wZXJzcGVjdGl2ZSBvdXQgdmVjMyBHRWRnZURpc3RhbmNlOwppbiB2ZWMzIHZfbm9ybVtdOwppbiB2ZWMzIFBvc2l0aW9uX3dvcmxkc3BhY2VbXTsKdm9pZCBtYWluKCkKewogLy8gVHJhbnNmb3JtIGVhY2ggdmVydGV4IGludG8gdmlld3BvcnQgc3BhY2UKIHZlYzMgcDAgPSB2ZWMzKHVfcHJvak1hdHJpeCAqIChnbF9pblswXS5nbF9Qb3NpdGlvbiAvCiBnbF9pblswXS5nbF9Qb3NpdGlvbi53KSk7CiB2ZWMzIHAxID0gdmVjMyh1X3Byb2pNYXRyaXggKiAoZ2xfaW5bMV0uZ2xfUG9zaXRpb24gLwogZ2xfaW5bMV0uZ2xfUG9zaXRpb24udykpOwogdmVjMyBwMiA9IHZlYzModV9wcm9qTWF0cml4ICogKGdsX2luWzJdLmdsX1Bvc2l0aW9uIC8KIGdsX2luWzJdLmdsX1Bvc2l0aW9uLncpKTsKIC8vIEZpbmQgdGhlIGFsdGl0dWRlcyAoaGEsIGhiIGFuZCBoYykKIGZsb2F0IGEgPSBsZW5ndGgocDEgLSBwMik7CiBmbG9hdCBiID0gbGVuZ3RoKHAyIC0gcDApOwogZmxvYXQgYyA9IGxlbmd0aChwMSAtIHAwKTsKIGZsb2F0IGFscGhhID0gYWNvcyggKGIqYiArIGMqYyAtIGEqYSkgLyAoMi4wKmIqYykgKTsKIGZsb2F0IGJldGEgPSBhY29zKCAoYSphICsgYypjIC0gYipiKSAvICgyLjAqYSpjKSApOwogZmxvYXQgaGEgPSBhYnMoIGMgKiBzaW4oIGJldGEgKSApOwogZmxvYXQgaGIgPSBhYnMoIGMgKiBzaW4oIGFscGhhICkgKTsKIGZsb2F0IGhjID0gYWJzKCBiICogc2luKCBhbHBoYSApICk7CiAvLyBTZW5kIHRoZSB0cmlhbmdsZSBhbG9uZyB3aXRoIHRoZSBlZGdlIGRpc3RhbmNlcwogR0VkZ2VEaXN0YW5jZSA9IHZlYzMoIGhhLCAwLCAwICk7CiBHTm9ybWFsID0gdl9ub3JtWzBdOwogR1Bvc2l0aW9uID0gUG9zaXRpb25fd29ybGRzcGFjZVswXTsKIGdsX1Bvc2l0aW9uID0gZ2xfaW5bMF0uZ2xfUG9zaXRpb247CiBFbWl0VmVydGV4KCk7CiBHRWRnZURpc3RhbmNlID0gdmVjMyggMCwgaGIsIDAgKTsKIEdOb3JtYWwgPSB2X25vcm1bMV07CiBHUG9zaXRpb24gPSBQb3NpdGlvbl93b3JsZHNwYWNlWzFdOwogZ2xfUG9zaXRpb24gPSBnbF9pblsxXS5nbF9Qb3NpdGlvbjsKIEVtaXRWZXJ0ZXgoKTsKIEdFZGdlRGlzdGFuY2UgPSB2ZWMzKCAwLCAwLCBoYyApOwogR05vcm1hbCA9IHZfbm9ybVsyXTsKIEdQb3NpdGlvbiA9IFBvc2l0aW9uX3dvcmxkc3BhY2VbMl07CiBnbF9Qb3NpdGlvbiA9IGdsX2luWzJdLmdsX1Bvc2l0aW9uOwogRW1pdFZlcnRleCgpOwogRW5kUHJpbWl0aXZlKCk7Cn0"},
{ "wireframe.vsh", "I2luY2x1ZGUgImxheW91dF9wb3MzZC5nbHNsIgojaW5jbHVkZSAiY2FtZXJhX3VuaWZvcm1zLmdsc2wiCgp1bmlmb3JtIG1hdDQgdV9tb2RlbE1hdHJpeDsKCnZvaWQgbWFpbigpIHsKICAgICAgIGdsX1Bvc2l0aW9uID0gdV9tdnBNYXRyaXggKiB1X21vZGVsTWF0cml4ICogdmVjNCggYV9wb3NpdGlvbiwgMS4wICk7Cn0K"},
};
